{"version":3,"sources":["turbopack:///[project]/node_modules/fumadocs-openapi/dist/ui/components/dialog.js","turbopack:///[project]/node_modules/fumadocs-openapi/dist/ui/server-select.js"],"sourcesContent":["'use client';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from 'react';\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from '../../icons.js';\nimport { cn } from 'fumadocs-ui/utils/cn';\nimport { buttonVariants } from 'fumadocs-ui/components/ui/button';\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (_jsx(DialogPrimitive.Overlay, { ref: ref, className: cn('fixed inset-0 z-50 bg-black/30 backdrop-blur-sm data-[state=open]:animate-fd-fade-in data-[state=closed]:animate-fd-fade-out', className), ...props })));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (_jsxs(DialogPortal, { children: [_jsx(DialogOverlay, {}), _jsxs(DialogPrimitive.Content, { ref: ref, className: cn('fixed left-1/2 top-1/2 z-50 flex flex-col gap-4 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 border bg-fd-popover p-4 shadow-lg rounded-xl duration-200 data-[state=open]:animate-fd-dialog-in data-[state=closed]:animate-fd-dialog-out focus-visible:outline-none', className), ...props, children: [children, _jsx(DialogPrimitive.Close, { \"aria-label\": \"Close\", className: cn(buttonVariants({ size: 'icon-sm', color: 'ghost' }), 'absolute end-2 top-2 text-fd-muted-foreground/70'), children: _jsx(X, {}) })] })] })));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\nconst DialogHeader = ({ className, ...props }) => (_jsx(\"div\", { className: cn('flex flex-col gap-1.5 text-center sm:text-start', className), ...props }));\nDialogHeader.displayName = 'DialogHeader';\nconst DialogFooter = ({ className, ...props }) => (_jsx(\"div\", { className: cn('flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-2', className), ...props }));\nDialogFooter.displayName = 'DialogFooter';\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (_jsx(DialogPrimitive.Title, { ref: ref, className: cn('text-lg font-semibold leading-none tracking-tight', className), ...props })));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (_jsx(DialogPrimitive.Description, { ref: ref, className: cn('text-sm text-fd-muted-foreground', className), ...props })));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\nexport { Dialog, DialogPortal, DialogOverlay, DialogClose, DialogTrigger, DialogContent, DialogHeader, DialogFooter, DialogTitle, DialogDescription, };\n","'use client';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useApiContext, useServerSelectContext } from '../ui/contexts/api.js';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue, } from '../ui/components/select.js';\nimport { Input, labelVariants } from '../ui/components/input.js';\nimport { useEffect, useState } from 'react';\nimport { cn } from 'fumadocs-ui/utils/cn';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger, } from '../ui/components/dialog.js';\nimport { resolveServerUrl, withBase } from '../utils/url.js';\nimport { FormProvider, useController, useForm } from 'react-hook-form';\nimport { useEffectEvent } from 'fumadocs-core/utils/use-effect-event';\nexport default function ServerSelect(props) {\n    const { servers } = useApiContext();\n    const { server, setServer, setServerVariables } = useServerSelectContext();\n    const [open, setOpen] = useState(false);\n    const [isMounted, setIsMounted] = useState(false);\n    useEffect(() => {\n        setIsMounted(true);\n    }, []);\n    if (servers.length <= 0)\n        return;\n    const serverSchema = server\n        ? servers.find((obj) => obj.url === server.url)\n        : null;\n    return (_jsxs(Dialog, { open: open, onOpenChange: setOpen, children: [_jsx(DialogTrigger, { className: \"text-xs p-3 py-2 bg-fd-muted text-fd-muted-foreground transition-colors truncate hover:bg-fd-accent hover:text-fd-accent-foreground focus-visible:outline-none\", children: isMounted\n                    ? withBase(server ? resolveServerUrl(server.url, server.variables) : '/', window.location.origin)\n                    : 'loading...' }), _jsxs(DialogContent, { ...props, children: [_jsxs(DialogHeader, { children: [_jsx(DialogTitle, { children: \"Server URL\" }), _jsx(DialogDescription, { children: \"The base URL of your API endpoint.\" })] }), _jsxs(Select, { value: server?.url, onValueChange: setServer, children: [_jsx(SelectTrigger, { children: _jsx(SelectValue, {}) }), _jsx(SelectContent, { children: servers.map((item) => (_jsxs(SelectItem, { value: item.url, children: [_jsx(\"code\", { className: \"text-[13px]\", children: item.url }), _jsx(\"p\", { className: \"text-fd-muted-foreground\", children: item.description })] }, item.url))) })] }), server?.variables && serverSchema?.variables && (_jsx(ServerSelectContent, { defaultValues: server.variables, schema: serverSchema.variables, onChange: setServerVariables }, server.url))] })] }));\n}\nfunction ServerSelectContent({ defaultValues, onChange, schema, }) {\n    const form = useForm({\n        defaultValues,\n    });\n    const onChangeDebounced = useEffectEvent(onChange);\n    useEffect(() => {\n        let timer = null;\n        return form.subscribe({\n            formState: {\n                values: true,\n            },\n            callback({ values }) {\n                if (timer !== null)\n                    window.clearTimeout(timer);\n                timer = window.setTimeout(() => onChangeDebounced(values), 500);\n            },\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps -- `form` shouldn't be included\n    }, []);\n    return (_jsx(FormProvider, { ...form, children: _jsx(\"div\", { className: \"flex flex-col gap-4\", children: Object.entries(schema).map(([key, variable]) => {\n                return (_jsxs(\"fieldset\", { className: \"flex flex-col gap-1\", children: [_jsx(\"label\", { className: cn(labelVariants()), htmlFor: key, children: key }), _jsx(\"p\", { className: \"text-xs text-fd-muted-foreground empty:hidden\", children: variable.description }), _jsx(Field, { fieldName: key, variable: variable })] }, key));\n            }) }) }));\n}\nfunction Field({ fieldName, variable, }) {\n    const { field } = useController({\n        name: fieldName,\n    });\n    if (variable.enum) {\n        return (_jsxs(Select, { value: field.value, onValueChange: field.onChange, children: [_jsx(SelectTrigger, { id: fieldName, ref: field.ref, children: _jsx(SelectValue, {}) }), _jsx(SelectContent, { children: variable.enum.map((value) => (_jsx(SelectItem, { value: value, children: value }, value))) })] }));\n    }\n    return _jsx(Input, { id: fieldName, ...field });\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}