{"version":3,"sources":["turbopack:///[project]/docs-fuma/node_modules/next/dist/client/components/global-error.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/src/client/components/global-error.tsx","turbopack:///[project]/docs-fuma/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-static-edge.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/layout-router.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/layout-router.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/render-from-template-context.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/render-from-template-context.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/client-page.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/client-page.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/client-segment.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/client-segment.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/hooks-server-context.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/static-generation-bailout.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/dynamic-rendering-utils.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/metadata-constants.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/dynamic-rendering.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/create-deduped-by-callsite-server-error-logger.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/shared/lib/utils/reflect-utils.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/request/utils.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/request/search-params.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/request/params.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/http-access-fallback/error-boundary.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/http-access-fallback/error-boundary.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/non-nullable.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/meta.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/constants.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/utils.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/basic.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/alternate.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/opengraph.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/lib/metadata/generate/icon-mark.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/icon-mark.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/generate/icons.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/default-metadata.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/shared/lib/isomorphic/path.js","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/resolvers/resolve-url.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/resolvers/resolve-title.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/url.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/picocolors.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/lib/lru-cache.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/build/output/log.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/resolvers/resolve-opengraph.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/lib/app-dir-module.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/interop-default.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/resolvers/resolve-basics.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/resolvers/resolve-icons.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/resolve-metadata.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/http-access-fallback/http-access-fallback.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/metadata/async-metadata.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/metadata/async-metadata.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/lib/router-utils/is-postpone.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/request/pathname.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/metadata/metadata.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/lib/clone-response.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/lib/dedupe-fetch.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/lib/patch-fetch.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/error-boundary.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/error-boundary.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/global-error.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/global-error.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/esm/client/components/metadata/metadata-boundary.js/proxy.cjs","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/metadata/metadata-boundary.tsx","turbopack:///[project]/docs-fuma/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react-dom.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/rsc/preloads.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/rsc/postpone.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/rsc/taint.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/compiled/react-server-dom-turbopack/cjs/react-server-dom-turbopack-client.edge.production.js","turbopack:///[project]/docs-fuma/node_modules/next/dist/compiled/react-server-dom-turbopack/client.edge.js","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/shared/lib/segment-cache/segment-value-encoding.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/compiled/string-hash/index.js","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/format-server-error.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/shared/lib/lazy-dynamic/bailout-to-csr.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/redirect-error.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/client/components/is-next-router-error.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/shared/lib/is-plain-object.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/is-error.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/lib/error-telemetry-utils.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/react-large-shell-error.ts","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/create-error-handler.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/collect-segment-data.tsx","turbopack:///[project]/docs-fuma/node_modules/next/dist/src/server/app-render/entry-base.ts"],"sourcesContent":["const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/client/components/global-error.js\"));\n","'use client'\n\nimport { HandleISRError } from './handle-isr-error'\n\nconst styles = {\n  error: {\n    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n    fontFamily:\n      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n    height: '100vh',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '28px',\n    margin: '0 8px',\n  },\n} as const\n\nexport type GlobalErrorComponent = React.ComponentType<{\n  error: any\n}>\nfunction GlobalError({ error }: { error: any }) {\n  const digest: string | undefined = error?.digest\n  return (\n    <html id=\"__next_error__\">\n      <head></head>\n      <body>\n        <HandleISRError error={error} />\n        <div style={styles.error}>\n          <div>\n            <h2 style={styles.text}>\n              Application error: a {digest ? 'server' : 'client'}-side exception\n              has occurred while loading {window.location.hostname} (see the{' '}\n              {digest ? 'server logs' : 'browser console'} for more\n              information).\n            </h2>\n            {digest ? <p style={styles.text}>{`Digest: ${digest}`}</p> : null}\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n\n// Exported so that the import signature in the loaders can be identical to user\n// supplied custom global error signatures.\nexport default GlobalError\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.ReactServerDOMTurbopackStaticEdge\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/layout-router.js\"));\n","'use client'\n\nimport type {\n  CacheNode,\n  LazyCacheNode,\n  LoadingModuleData,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport type {\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../server/app-render/types'\nimport type { ErrorComponent } from './error-boundary'\nimport {\n  ACTION_SERVER_PATCH,\n  type FocusAndScrollRef,\n} from './router-reducer/router-reducer-types'\n\nimport React, {\n  useContext,\n  use,\n  startTransition,\n  Suspense,\n  useDeferredValue,\n  type JSX,\n} from 'react'\nimport ReactDOM from 'react-dom'\nimport {\n  LayoutRouterContext,\n  GlobalLayoutRouterContext,\n  TemplateContext,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport { fetchServerResponse } from './router-reducer/fetch-server-response'\nimport { unresolvedThenable } from './unresolved-thenable'\nimport { ErrorBoundary } from './error-boundary'\nimport { matchSegment } from './match-segments'\nimport { handleSmoothScroll } from '../../shared/lib/router/utils/handle-smooth-scroll'\nimport { RedirectBoundary } from './redirect-boundary'\nimport { HTTPAccessFallbackBoundary } from './http-access-fallback/error-boundary'\nimport { createRouterCacheKey } from './router-reducer/create-router-cache-key'\nimport { hasInterceptionRouteInCurrentTree } from './router-reducer/reducers/has-interception-route-in-current-tree'\nimport { dispatchAppRouterAction } from './use-action-queue'\nimport { useRouterBFCache, type RouterBFCacheEntry } from './bfcache'\n\nconst Activity = process.env.__NEXT_ROUTER_BF_CACHE\n  ? (require('react') as typeof import('react')).unstable_Activity\n  : null!\n\n/**\n * Add refetch marker to router state at the point of the current layout segment.\n * This ensures the response returned is not further down than the current layout segment.\n */\nfunction walkAddRefetch(\n  segmentPathToWalk: FlightSegmentPath | undefined,\n  treeToRecreate: FlightRouterState\n): FlightRouterState {\n  if (segmentPathToWalk) {\n    const [segment, parallelRouteKey] = segmentPathToWalk\n    const isLast = segmentPathToWalk.length === 2\n\n    if (matchSegment(treeToRecreate[0], segment)) {\n      if (treeToRecreate[1].hasOwnProperty(parallelRouteKey)) {\n        if (isLast) {\n          const subTree = walkAddRefetch(\n            undefined,\n            treeToRecreate[1][parallelRouteKey]\n          )\n          return [\n            treeToRecreate[0],\n            {\n              ...treeToRecreate[1],\n              [parallelRouteKey]: [\n                subTree[0],\n                subTree[1],\n                subTree[2],\n                'refetch',\n              ],\n            },\n          ]\n        }\n\n        return [\n          treeToRecreate[0],\n          {\n            ...treeToRecreate[1],\n            [parallelRouteKey]: walkAddRefetch(\n              segmentPathToWalk.slice(2),\n              treeToRecreate[1][parallelRouteKey]\n            ),\n          },\n        ]\n      }\n    }\n  }\n\n  return treeToRecreate\n}\n\nconst __DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = (\n  ReactDOM as any\n).__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE\n\n// TODO-APP: Replace with new React API for finding dom nodes without a `ref` when available\n/**\n * Wraps ReactDOM.findDOMNode with additional logic to hide React Strict Mode warning\n */\nfunction findDOMNode(\n  instance: React.ReactInstance | null | undefined\n): Element | Text | null {\n  // Tree-shake for server bundle\n  if (typeof window === 'undefined') return null\n\n  // __DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE.findDOMNode is null during module init.\n  // We need to lazily reference it.\n  const internal_reactDOMfindDOMNode =\n    __DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE.findDOMNode\n  return internal_reactDOMfindDOMNode(instance)\n}\n\nconst rectProperties = [\n  'bottom',\n  'height',\n  'left',\n  'right',\n  'top',\n  'width',\n  'x',\n  'y',\n] as const\n/**\n * Check if a HTMLElement is hidden or fixed/sticky position\n */\nfunction shouldSkipElement(element: HTMLElement) {\n  // we ignore fixed or sticky positioned elements since they'll likely pass the \"in-viewport\" check\n  // and will result in a situation we bail on scroll because of something like a fixed nav,\n  // even though the actual page content is offscreen\n  if (['sticky', 'fixed'].includes(getComputedStyle(element).position)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\n        'Skipping auto-scroll behavior due to `position: sticky` or `position: fixed` on element:',\n        element\n      )\n    }\n    return true\n  }\n\n  // Uses `getBoundingClientRect` to check if the element is hidden instead of `offsetParent`\n  // because `offsetParent` doesn't consider document/body\n  const rect = element.getBoundingClientRect()\n  return rectProperties.every((item) => rect[item] === 0)\n}\n\n/**\n * Check if the top corner of the HTMLElement is in the viewport.\n */\nfunction topOfElementInViewport(element: HTMLElement, viewportHeight: number) {\n  const rect = element.getBoundingClientRect()\n  return rect.top >= 0 && rect.top <= viewportHeight\n}\n\n/**\n * Find the DOM node for a hash fragment.\n * If `top` the page has to scroll to the top of the page. This mirrors the browser's behavior.\n * If the hash fragment is an id, the page has to scroll to the element with that id.\n * If the hash fragment is a name, the page has to scroll to the first element with that name.\n */\nfunction getHashFragmentDomNode(hashFragment: string) {\n  // If the hash fragment is `top` the page has to scroll to the top of the page.\n  if (hashFragment === 'top') {\n    return document.body\n  }\n\n  // If the hash fragment is an id, the page has to scroll to the element with that id.\n  return (\n    document.getElementById(hashFragment) ??\n    // If the hash fragment is a name, the page has to scroll to the first element with that name.\n    document.getElementsByName(hashFragment)[0]\n  )\n}\ninterface ScrollAndFocusHandlerProps {\n  focusAndScrollRef: FocusAndScrollRef\n  children: React.ReactNode\n  segmentPath: FlightSegmentPath\n}\nclass InnerScrollAndFocusHandler extends React.Component<ScrollAndFocusHandlerProps> {\n  handlePotentialScroll = () => {\n    // Handle scroll and focus, it's only applied once in the first useEffect that triggers that changed.\n    const { focusAndScrollRef, segmentPath } = this.props\n\n    if (focusAndScrollRef.apply) {\n      // segmentPaths is an array of segment paths that should be scrolled to\n      // if the current segment path is not in the array, the scroll is not applied\n      // unless the array is empty, in which case the scroll is always applied\n      if (\n        focusAndScrollRef.segmentPaths.length !== 0 &&\n        !focusAndScrollRef.segmentPaths.some((scrollRefSegmentPath) =>\n          segmentPath.every((segment, index) =>\n            matchSegment(segment, scrollRefSegmentPath[index])\n          )\n        )\n      ) {\n        return\n      }\n\n      let domNode:\n        | ReturnType<typeof getHashFragmentDomNode>\n        | ReturnType<typeof findDOMNode> = null\n      const hashFragment = focusAndScrollRef.hashFragment\n\n      if (hashFragment) {\n        domNode = getHashFragmentDomNode(hashFragment)\n      }\n\n      // `findDOMNode` is tricky because it returns just the first child if the component is a fragment.\n      // This already caused a bug where the first child was a <link/> in head.\n      if (!domNode) {\n        domNode = findDOMNode(this)\n      }\n\n      // If there is no DOM node this layout-router level is skipped. It'll be handled higher-up in the tree.\n      if (!(domNode instanceof Element)) {\n        return\n      }\n\n      // Verify if the element is a HTMLElement and if we want to consider it for scroll behavior.\n      // If the element is skipped, try to select the next sibling and try again.\n      while (!(domNode instanceof HTMLElement) || shouldSkipElement(domNode)) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (domNode.parentElement?.localName === 'head') {\n            // TODO: We enter this state when metadata was rendered as part of the page or via Next.js.\n            // This is always a bug in Next.js and caused by React hoisting metadata.\n            // We need to replace `findDOMNode` in favor of Fragment Refs (when available) so that we can skip over metadata.\n          }\n        }\n\n        // No siblings found that match the criteria are found, so handle scroll higher up in the tree instead.\n        if (domNode.nextElementSibling === null) {\n          return\n        }\n        domNode = domNode.nextElementSibling\n      }\n\n      // State is mutated to ensure that the focus and scroll is applied only once.\n      focusAndScrollRef.apply = false\n      focusAndScrollRef.hashFragment = null\n      focusAndScrollRef.segmentPaths = []\n\n      handleSmoothScroll(\n        () => {\n          // In case of hash scroll, we only need to scroll the element into view\n          if (hashFragment) {\n            ;(domNode as HTMLElement).scrollIntoView()\n\n            return\n          }\n          // Store the current viewport height because reading `clientHeight` causes a reflow,\n          // and it won't change during this function.\n          const htmlElement = document.documentElement\n          const viewportHeight = htmlElement.clientHeight\n\n          // If the element's top edge is already in the viewport, exit early.\n          if (topOfElementInViewport(domNode as HTMLElement, viewportHeight)) {\n            return\n          }\n\n          // Otherwise, try scrolling go the top of the document to be backward compatible with pages\n          // scrollIntoView() called on `<html/>` element scrolls horizontally on chrome and firefox (that shouldn't happen)\n          // We could use it to scroll horizontally following RTL but that also seems to be broken - it will always scroll left\n          // scrollLeft = 0 also seems to ignore RTL and manually checking for RTL is too much hassle so we will scroll just vertically\n          htmlElement.scrollTop = 0\n\n          // Scroll to domNode if domNode is not in viewport when scrolled to top of document\n          if (!topOfElementInViewport(domNode as HTMLElement, viewportHeight)) {\n            // Scroll into view doesn't scroll horizontally by default when not needed\n            ;(domNode as HTMLElement).scrollIntoView()\n          }\n        },\n        {\n          // We will force layout by querying domNode position\n          dontForceLayout: true,\n          onlyHashChange: focusAndScrollRef.onlyHashChange,\n        }\n      )\n\n      // Mutate after scrolling so that it can be read by `handleSmoothScroll`\n      focusAndScrollRef.onlyHashChange = false\n\n      // Set focus on the element\n      domNode.focus()\n    }\n  }\n\n  componentDidMount() {\n    this.handlePotentialScroll()\n  }\n\n  componentDidUpdate() {\n    // Because this property is overwritten in handlePotentialScroll it's fine to always run it when true as it'll be set to false for subsequent renders.\n    if (this.props.focusAndScrollRef.apply) {\n      this.handlePotentialScroll()\n    }\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nfunction ScrollAndFocusHandler({\n  segmentPath,\n  children,\n}: {\n  segmentPath: FlightSegmentPath\n  children: React.ReactNode\n}) {\n  const context = useContext(GlobalLayoutRouterContext)\n  if (!context) {\n    throw new Error('invariant global layout router not mounted')\n  }\n\n  return (\n    <InnerScrollAndFocusHandler\n      segmentPath={segmentPath}\n      focusAndScrollRef={context.focusAndScrollRef}\n    >\n      {children}\n    </InnerScrollAndFocusHandler>\n  )\n}\n\n/**\n * InnerLayoutRouter handles rendering the provided segment based on the cache.\n */\nfunction InnerLayoutRouter({\n  tree,\n  segmentPath,\n  cacheNode,\n  url,\n}: {\n  tree: FlightRouterState\n  segmentPath: FlightSegmentPath\n  cacheNode: CacheNode\n  url: string\n}) {\n  const context = useContext(GlobalLayoutRouterContext)\n  if (!context) {\n    throw new Error('invariant global layout router not mounted')\n  }\n\n  const { tree: fullTree } = context\n\n  // `rsc` represents the renderable node for this segment.\n\n  // If this segment has a `prefetchRsc`, it's the statically prefetched data.\n  // We should use that on initial render instead of `rsc`. Then we'll switch\n  // to `rsc` when the dynamic response streams in.\n  //\n  // If no prefetch data is available, then we go straight to rendering `rsc`.\n  const resolvedPrefetchRsc =\n    cacheNode.prefetchRsc !== null ? cacheNode.prefetchRsc : cacheNode.rsc\n\n  // We use `useDeferredValue` to handle switching between the prefetched and\n  // final values. The second argument is returned on initial render, then it\n  // re-renders with the first argument.\n  const rsc: any = useDeferredValue(cacheNode.rsc, resolvedPrefetchRsc)\n\n  // `rsc` is either a React node or a promise for a React node, except we\n  // special case `null` to represent that this segment's data is missing. If\n  // it's a promise, we need to unwrap it so we can determine whether or not the\n  // data is missing.\n  const resolvedRsc: React.ReactNode =\n    typeof rsc === 'object' && rsc !== null && typeof rsc.then === 'function'\n      ? use(rsc)\n      : rsc\n\n  if (!resolvedRsc) {\n    // The data for this segment is not available, and there's no pending\n    // navigation that will be able to fulfill it. We need to fetch more from\n    // the server and patch the cache.\n\n    // Check if there's already a pending request.\n    let lazyData = cacheNode.lazyData\n    if (lazyData === null) {\n      /**\n       * Router state with refetch marker added\n       */\n      // TODO-APP: remove ''\n      const refetchTree = walkAddRefetch(['', ...segmentPath], fullTree)\n      const includeNextUrl = hasInterceptionRouteInCurrentTree(fullTree)\n      const navigatedAt = Date.now()\n      cacheNode.lazyData = lazyData = fetchServerResponse(\n        new URL(url, location.origin),\n        {\n          flightRouterState: refetchTree,\n          nextUrl: includeNextUrl ? context.nextUrl : null,\n        }\n      ).then((serverResponse) => {\n        startTransition(() => {\n          dispatchAppRouterAction({\n            type: ACTION_SERVER_PATCH,\n            previousTree: fullTree,\n            serverResponse,\n            navigatedAt,\n          })\n        })\n\n        return serverResponse\n      })\n\n      // Suspend while waiting for lazyData to resolve\n      use(lazyData)\n    }\n    // Suspend infinitely as `changeByServerResponse` will cause a different part of the tree to be rendered.\n    // A falsey `resolvedRsc` indicates missing data -- we should not commit that branch, and we need to wait for the data to arrive.\n    use(unresolvedThenable) as never\n  }\n\n  // If we get to this point, then we know we have something we can render.\n  const subtree = (\n    // The layout router context narrows down tree and childNodes at each level.\n    <LayoutRouterContext.Provider\n      value={{\n        parentTree: tree,\n        parentCacheNode: cacheNode,\n        parentSegmentPath: segmentPath,\n\n        // TODO-APP: overriding of url for parallel routes\n        url: url,\n      }}\n    >\n      {resolvedRsc}\n    </LayoutRouterContext.Provider>\n  )\n  // Ensure root layout is not wrapped in a div as the root layout renders `<html>`\n  return subtree\n}\n\n/**\n * Renders suspense boundary with the provided \"loading\" property as the fallback.\n * If no loading property is provided it renders the children without a suspense boundary.\n */\nfunction LoadingBoundary({\n  loading,\n  children,\n}: {\n  loading: LoadingModuleData | Promise<LoadingModuleData>\n  children: React.ReactNode\n}): JSX.Element {\n  // If loading is a promise, unwrap it. This happens in cases where we haven't\n  // yet received the loading data from the server — which includes whether or\n  // not this layout has a loading component at all.\n  //\n  // It's OK to suspend here instead of inside the fallback because this\n  // promise will resolve simultaneously with the data for the segment itself.\n  // So it will never suspend for longer than it would have if we didn't use\n  // a Suspense fallback at all.\n  let loadingModuleData\n  if (\n    typeof loading === 'object' &&\n    loading !== null &&\n    typeof (loading as any).then === 'function'\n  ) {\n    const promiseForLoading = loading as Promise<LoadingModuleData>\n    loadingModuleData = use(promiseForLoading)\n  } else {\n    loadingModuleData = loading as LoadingModuleData\n  }\n\n  if (loadingModuleData) {\n    const loadingRsc = loadingModuleData[0]\n    const loadingStyles = loadingModuleData[1]\n    const loadingScripts = loadingModuleData[2]\n    return (\n      <Suspense\n        fallback={\n          <>\n            {loadingStyles}\n            {loadingScripts}\n            {loadingRsc}\n          </>\n        }\n      >\n        {children}\n      </Suspense>\n    )\n  }\n\n  return <>{children}</>\n}\n\nfunction RenderChildren({ children }: { children: React.ReactNode }) {\n  return <>{children}</>\n}\n\n/**\n * OuterLayoutRouter handles the current segment as well as <Offscreen> rendering of other segments.\n * It can be rendered next to each other with a different `parallelRouterKey`, allowing for Parallel routes.\n */\nexport default function OuterLayoutRouter({\n  parallelRouterKey,\n  error,\n  errorStyles,\n  errorScripts,\n  templateStyles,\n  templateScripts,\n  template,\n  notFound,\n  forbidden,\n  unauthorized,\n  gracefullyDegrade,\n}: {\n  parallelRouterKey: string\n  error: ErrorComponent | undefined\n  errorStyles: React.ReactNode | undefined\n  errorScripts: React.ReactNode | undefined\n  templateStyles: React.ReactNode | undefined\n  templateScripts: React.ReactNode | undefined\n  template: React.ReactNode\n  notFound: React.ReactNode | undefined\n  forbidden: React.ReactNode | undefined\n  unauthorized: React.ReactNode | undefined\n  gracefullyDegrade?: boolean\n}) {\n  const context = useContext(LayoutRouterContext)\n  if (!context) {\n    throw new Error('invariant expected layout router to be mounted')\n  }\n\n  const { parentTree, parentCacheNode, parentSegmentPath, url } = context\n\n  // Get the CacheNode for this segment by reading it from the parent segment's\n  // child map.\n  const parentParallelRoutes = parentCacheNode.parallelRoutes\n  let segmentMap = parentParallelRoutes.get(parallelRouterKey)\n  // If the parallel router cache node does not exist yet, create it.\n  // This writes to the cache when there is no item in the cache yet. It never *overwrites* existing cache items which is why it's safe in concurrent mode.\n  if (!segmentMap) {\n    segmentMap = new Map()\n    parentParallelRoutes.set(parallelRouterKey, segmentMap)\n  }\n  const parentTreeSegment = parentTree[0]\n  const segmentPath =\n    parentSegmentPath === null\n      ? // TODO: The root segment value is currently omitted from the segment\n        // path. This has led to a bunch of special cases scattered throughout\n        // the code. We should clean this up.\n        [parallelRouterKey]\n      : parentSegmentPath.concat([parentTreeSegment, parallelRouterKey])\n\n  // The \"state\" key of a segment is the one passed to React — it represents the\n  // identity of the UI tree. Whenever the state key changes, the tree is\n  // recreated and the state is reset. In the App Router model, search params do\n  // not cause state to be lost, so two segments with the same segment path but\n  // different search params should have the same state key.\n  //\n  // The \"cache\" key of a segment, however, *does* include the search params, if\n  // it's possible that the segment accessed the search params on the server.\n  // (This only applies to page segments; layout segments cannot access search\n  // params on the server.)\n  const activeTree = parentTree[1][parallelRouterKey]\n  const activeSegment = activeTree[0]\n  const activeStateKey = createRouterCacheKey(activeSegment, true) // no search params\n\n  // At each level of the route tree, not only do we render the currently\n  // active segment — we also render the last N segments that were active at\n  // this level inside a hidden <Activity> boundary, to preserve their state\n  // if or when the user navigates to them again.\n  //\n  // bfcacheEntry is a linked list of FlightRouterStates.\n  let bfcacheEntry: RouterBFCacheEntry | null = useRouterBFCache(\n    activeTree,\n    activeStateKey\n  )\n  let children: Array<React.ReactNode> = []\n  do {\n    const tree = bfcacheEntry.tree\n    const stateKey = bfcacheEntry.stateKey\n    const segment = tree[0]\n    const cacheKey = createRouterCacheKey(segment)\n\n    // Read segment path from the parallel router cache node.\n    let cacheNode = segmentMap.get(cacheKey)\n    if (cacheNode === undefined) {\n      // When data is not available during rendering client-side we need to fetch\n      // it from the server.\n      const newLazyCacheNode: LazyCacheNode = {\n        lazyData: null,\n        rsc: null,\n        prefetchRsc: null,\n        head: null,\n        prefetchHead: null,\n        parallelRoutes: new Map(),\n        loading: null,\n        navigatedAt: -1,\n      }\n\n      // Flight data fetch kicked off during render and put into the cache.\n      cacheNode = newLazyCacheNode\n      segmentMap.set(cacheKey, newLazyCacheNode)\n    }\n\n    /*\n    - Error boundary\n      - Only renders error boundary if error component is provided.\n      - Rendered for each segment to ensure they have their own error state.\n      - When gracefully degrade for bots, skip rendering error boundary.\n    - Loading boundary\n      - Only renders suspense boundary if loading components is provided.\n      - Rendered for each segment to ensure they have their own loading state.\n      - Passed to the router during rendering to ensure it can be immediately rendered when suspending on a Flight fetch.\n  */\n\n    const ErrorBoundaryComponent = gracefullyDegrade\n      ? RenderChildren\n      : ErrorBoundary\n\n    // TODO: The loading module data for a segment is stored on the parent, then\n    // applied to each of that parent segment's parallel route slots. In the\n    // simple case where there's only one parallel route (the `children` slot),\n    // this is no different from if the loading module data where stored on the\n    // child directly. But I'm not sure this actually makes sense when there are\n    // multiple parallel routes. It's not a huge issue because you always have\n    // the option to define a narrower loading boundary for a particular slot. But\n    // this sort of smells like an implementation accident to me.\n    const loadingModuleData = parentCacheNode.loading\n    let child = (\n      <TemplateContext.Provider\n        key={stateKey}\n        value={\n          <ScrollAndFocusHandler segmentPath={segmentPath}>\n            <ErrorBoundaryComponent\n              errorComponent={error}\n              errorStyles={errorStyles}\n              errorScripts={errorScripts}\n            >\n              <LoadingBoundary loading={loadingModuleData}>\n                <HTTPAccessFallbackBoundary\n                  notFound={notFound}\n                  forbidden={forbidden}\n                  unauthorized={unauthorized}\n                >\n                  <RedirectBoundary>\n                    <InnerLayoutRouter\n                      url={url}\n                      tree={tree}\n                      cacheNode={cacheNode}\n                      segmentPath={segmentPath}\n                    />\n                  </RedirectBoundary>\n                </HTTPAccessFallbackBoundary>\n              </LoadingBoundary>\n            </ErrorBoundaryComponent>\n          </ScrollAndFocusHandler>\n        }\n      >\n        {templateStyles}\n        {templateScripts}\n        {template}\n      </TemplateContext.Provider>\n    )\n\n    if (process.env.__NEXT_ROUTER_BF_CACHE) {\n      child = (\n        <Activity\n          key={stateKey}\n          mode={stateKey === activeStateKey ? 'visible' : 'hidden'}\n        >\n          {child}\n        </Activity>\n      )\n    }\n\n    children.push(child)\n\n    bfcacheEntry = bfcacheEntry.next\n  } while (bfcacheEntry !== null)\n\n  return children\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/render-from-template-context.js\"));\n","'use client'\n\nimport React, { useContext, type JSX } from 'react'\nimport { TemplateContext } from '../../shared/lib/app-router-context.shared-runtime'\n\nexport default function RenderFromTemplateContext(): JSX.Element {\n  const children = useContext(TemplateContext)\n  return <>{children}</>\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/client-page.js\"));\n","'use client'\n\nimport type { ParsedUrlQuery } from 'querystring'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nimport type { Params } from '../../server/request/params'\n\n/**\n * When the Page is a client component we send the params and searchParams to this client wrapper\n * where they are turned into dynamically tracked values before being passed to the actual Page component.\n *\n * additionally we may send promises representing the params and searchParams. We don't ever use these passed\n * values but it can be necessary for the sender to send a Promise that doesn't resolve in certain situations.\n * It is up to the caller to decide if the promises are needed.\n */\nexport function ClientPageRoot({\n  Component,\n  searchParams,\n  params,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  promises,\n}: {\n  Component: React.ComponentType<any>\n  searchParams: ParsedUrlQuery\n  params: Params\n  promises?: Array<Promise<any>>\n}) {\n  if (typeof window === 'undefined') {\n    const { workAsyncStorage } =\n      require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n\n    let clientSearchParams: Promise<ParsedUrlQuery>\n    let clientParams: Promise<Params>\n    // We are going to instrument the searchParams prop with tracking for the\n    // appropriate context. We wrap differently in prerendering vs rendering\n    const store = workAsyncStorage.getStore()\n    if (!store) {\n      throw new InvariantError(\n        'Expected workStore to exist when handling searchParams in a client Page.'\n      )\n    }\n\n    const { createSearchParamsFromClient } =\n      require('../../server/request/search-params') as typeof import('../../server/request/search-params')\n    clientSearchParams = createSearchParamsFromClient(searchParams, store)\n\n    const { createParamsFromClient } =\n      require('../../server/request/params') as typeof import('../../server/request/params')\n    clientParams = createParamsFromClient(params, store)\n\n    return <Component params={clientParams} searchParams={clientSearchParams} />\n  } else {\n    const { createRenderSearchParamsFromClient } =\n      require('../request/search-params.browser') as typeof import('../request/search-params.browser')\n    const clientSearchParams = createRenderSearchParamsFromClient(searchParams)\n    const { createRenderParamsFromClient } =\n      require('../request/params.browser') as typeof import('../request/params.browser')\n    const clientParams = createRenderParamsFromClient(params)\n\n    return <Component params={clientParams} searchParams={clientSearchParams} />\n  }\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/client-segment.js\"));\n","'use client'\n\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nimport type { Params } from '../../server/request/params'\n\n/**\n * When the Page is a client component we send the params to this client wrapper\n * where they are turned into dynamically tracked values before being passed to the actual Segment component.\n *\n * additionally we may send a promise representing params. We don't ever use this passed\n * value but it can be necessary for the sender to send a Promise that doesn't resolve in certain situations\n * such as when dynamicIO is enabled. It is up to the caller to decide if the promises are needed.\n */\nexport function ClientSegmentRoot({\n  Component,\n  slots,\n  params,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  promise,\n}: {\n  Component: React.ComponentType<any>\n  slots: { [key: string]: React.ReactNode }\n  params: Params\n  promise?: Promise<any>\n}) {\n  if (typeof window === 'undefined') {\n    const { workAsyncStorage } =\n      require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n\n    let clientParams: Promise<Params>\n    // We are going to instrument the searchParams prop with tracking for the\n    // appropriate context. We wrap differently in prerendering vs rendering\n    const store = workAsyncStorage.getStore()\n    if (!store) {\n      throw new InvariantError(\n        'Expected workStore to exist when handling params in a client segment such as a Layout or Template.'\n      )\n    }\n\n    const { createParamsFromClient } =\n      require('../../server/request/params') as typeof import('../../server/request/params')\n    clientParams = createParamsFromClient(params, store)\n\n    return <Component {...slots} params={clientParams} />\n  } else {\n    const { createRenderParamsFromClient } =\n      require('../request/params.browser') as typeof import('../request/params.browser')\n    const clientParams = createRenderParamsFromClient(params)\n    return <Component {...slots} params={clientParams} />\n  }\n}\n","const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n","const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n","export function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(public readonly expression: string) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context.`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for dynamicIO where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n","export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\n","/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { workUnitAsyncStorage } from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n} from '../../lib/metadata/metadata-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicExpression: undefined | string\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicExpression: undefined,\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    if (\n      workUnitStore.type === 'cache' ||\n      workUnitStore.type === 'unstable-cache'\n    ) {\n      // inside cache scopes marking a scope as dynamic has no effect because the outer cache scope\n      // creates a cache boundary. This is subtly different from reading a dynamic data source which is\n      // forbidden inside a cache scope.\n      return\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    if (workUnitStore.type === 'prerender-ppr') {\n      postponeWithTracking(\n        store.route,\n        expression,\n        workUnitStore.dynamicTracking\n      )\n    } else if (workUnitStore.type === 'prerender-legacy') {\n      workUnitStore.revalidate = 0\n\n      // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n      const err = new DynamicServerError(\n        `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n      )\n      store.dynamicUsageDescription = expression\n      store.dynamicUsageStack = err.stack\n\n      throw err\n    } else if (\n      process.env.NODE_ENV === 'development' &&\n      workUnitStore &&\n      workUnitStore.type === 'request'\n    ) {\n      workUnitStore.usedDynamic = true\n    }\n  }\n}\n\n/**\n * This function communicates that some dynamic path parameter was read. This\n * differs from the more general `trackDynamicDataAccessed` in that it is will\n * not error when `dynamic = \"error\"` is set.\n *\n * @param store The static generation store\n * @param expression The expression that was accessed dynamically\n */\nexport function trackFallbackParamAccessed(\n  store: WorkStore,\n  expression: string\n): void {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  if (!prerenderStore || prerenderStore.type !== 'prerender-ppr') return\n\n  postponeWithTracking(store.route, expression, prerenderStore.dynamicTracking)\n}\n\n/**\n * This function is meant to be used when prerendering without dynamicIO or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(\n  _store: WorkStore,\n  workUnitStore: void | WorkUnitStore\n) {\n  if (workUnitStore) {\n    if (\n      workUnitStore.type === 'cache' ||\n      workUnitStore.type === 'unstable-cache'\n    ) {\n      // inside cache scopes marking a scope as dynamic has no effect because the outer cache scope\n      // creates a cache boundary. This is subtly different from reading a dynamic data source which is\n      // forbidden inside a cache scope.\n      return\n    }\n    // TODO: it makes no sense to have these work unit store types during a dev render.\n    if (\n      workUnitStore.type === 'prerender' ||\n      workUnitStore.type === 'prerender-client' ||\n      workUnitStore.type === 'prerender-legacy'\n    ) {\n      workUnitStore.revalidate = 0\n    }\n    if (\n      process.env.NODE_ENV === 'development' &&\n      workUnitStore.type === 'request'\n    ) {\n      workUnitStore.usedDynamic = true\n    }\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicExpression = expression\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of prerender mode\n  requestStore.prerenderPhase = false\n}\n\n/**\n * use this function when prerendering with dynamicIO. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in dynamicIO mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicExpression = expression\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n// For now these implementations are the same so we just reexport\nexport const trackSynchronousRequestDataAccessInDev =\n  trackSynchronousPlatformIOAccessInDev\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createPostponedAbortSignal(reason: string): AbortSignal {\n  assertPostpone()\n  const controller = new AbortController()\n  // We get our hands on a postpone instance by calling postpone and catching the throw\n  try {\n    React.unstable_postpone(reason)\n  } catch (x: unknown) {\n    controller.abort(x)\n  }\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: PrerenderStoreModern\n): AbortSignal {\n  const controller = new AbortController()\n\n  if (workUnitStore.cacheSignal) {\n    // If we have a cacheSignal it means we're in a prospective render. If the input\n    // we're waiting on is coming from another cache, we do want to wait for it so that\n    // we can resolve this cache entry too.\n    workUnitStore.cacheSignal.inputReady().then(() => {\n      controller.abort()\n    })\n  } else {\n    // Otherwise we're in the final render and we should already have all our caches\n    // filled. We might still be waiting on some microtasks so we wait one tick before\n    // giving up. When we give up, we still want to render the content of this cache\n    // as deeply as we can so that we can suspend as deeply as possible in the tree\n    // or not at all if we don't end up waiting for the input.\n    scheduleOnNextTick(() => controller.abort())\n  }\n\n  return controller.signal\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n\n  if (\n    workStore &&\n    workStore.isStaticGeneration &&\n    workStore.fallbackRouteParams &&\n    workStore.fallbackRouteParams.size > 0\n  ) {\n    // There are fallback route params, we should track these as dynamic\n    // accesses.\n    const workUnitStore = workUnitAsyncStorage.getStore()\n    if (workUnitStore) {\n      // We're prerendering with dynamicIO or PPR or both\n      if (workUnitStore.type === 'prerender-client') {\n        // We are in a prerender with dynamicIO semantics\n        // We are going to hang here and never resolve. This will cause the currently\n        // rendering component to effectively be a dynamic hole\n        React.use(makeHangingPromise(workUnitStore.renderSignal, expression))\n      } else if (workUnitStore.type === 'prerender-ppr') {\n        // We're prerendering with PPR\n        postponeWithTracking(\n          workStore.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      } else if (workUnitStore.type === 'prerender-legacy') {\n        throwToInterruptStaticGeneration(expression, workStore, workUnitStore)\n      }\n    }\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\nconst hasSuspenseAfterBodyOrHtmlRegex =\n  /\\n\\s+at (?:body|html) \\(<anonymous>\\)[\\s\\S]*?\\n\\s+at Suspense \\(<anonymous>\\)/\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  route: string,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (hasSuspenseAfterBodyOrHtmlRegex.test(componentStack)) {\n    // This prerender has a Suspense boundary above the body which\n    // effectively opts the page into allowing 100% dynamic rendering\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message = `Route \"${route}\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`\n    const error = createErrorWithComponentStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\nfunction createErrorWithComponentStack(\n  message: string,\n  componentStack: string\n) {\n  const error = new Error(message)\n  error.stack = 'Error: ' + message + componentStack\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (workStore.invalidDynamicUsageError) {\n    console.error(workStore.invalidDynamicUsageError)\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    if (serverDynamic.syncDynamicErrorWithStack) {\n      // There is no shell and the server did something sync dynamic likely\n      // leading to an early termination of the prerender before the shell\n      // could be completed.\n      console.error(serverDynamic.syncDynamicErrorWithStack)\n      // We terminate the build/validating render\n      throw new StaticGenBailoutError()\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        console.error(dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n","import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Dynamic IO is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_DYNAMIC_IO\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n","// This regex will have fast negatives meaning valid identifiers may not pass\n// this test. However this is only used during static generation to provide hints\n// about why a page bailed out of some or all prerendering and we can use bracket notation\n// for example while `ಠ_ಠ` is a valid identifier it's ok to print `searchParams['ಠ_ಠ']`\n// even if this would have been fine too `searchParams.ಠ_ಠ`\nconst isDefinitelyAValidIdentifier = /^[A-Za-z_$][A-Za-z0-9_$]*$/\n\nexport function describeStringPropertyAccess(target: string, prop: string) {\n  if (isDefinitelyAValidIdentifier.test(prop)) {\n    return `\\`${target}.${prop}\\``\n  }\n  return `\\`${target}[${JSON.stringify(prop)}]\\``\n}\n\nexport function describeHasCheckingStringProperty(\n  target: string,\n  prop: string\n) {\n  const stringifiedProp = JSON.stringify(prop)\n  return `\\`Reflect.has(${target}, ${stringifiedProp})\\`, \\`${stringifiedProp} in ${target}\\`, or similar`\n}\n\nexport const wellKnownProperties = new Set([\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toString',\n  'valueOf',\n  'toLocaleString',\n\n  // Promise prototype\n  // fallthrough\n  'then',\n  'catch',\n  'finally',\n\n  // React Promise extension\n  // fallthrough\n  'status',\n\n  // React introspection\n  'displayName',\n  '_debugInfo',\n\n  // Common tested properties\n  // fallthrough\n  'toJSON',\n  '$$typeof',\n  '__esModule',\n])\n","import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { afterTaskAsyncStorage } from '../app-render/after-task-async-storage.external'\nimport type { WorkStore } from '../app-render/work-async-storage.external'\n\nexport function throwWithStaticGenerationBailoutError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwWithStaticGenerationBailoutErrorWithDynamicError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwForSearchParamsAccessInUseCache(\n  workStore: WorkStore,\n  constructorOpt: Function\n): never {\n  const error = new Error(\n    `Route ${workStore.route} used \"searchParams\" inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \"searchParams\" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n  )\n\n  Error.captureStackTrace(error, constructorOpt)\n  workStore.invalidDynamicUsageError ??= error\n\n  throw error\n}\n\nexport function isRequestAPICallableInsideAfter() {\n  const afterTaskStore = afterTaskAsyncStorage.getStore()\n  return afterTaskStore?.rootTaskSpawnPhase === 'action'\n}\n","import type { WorkStore } from '../app-render/work-async-storage.external'\n\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  throwToInterruptStaticGeneration,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n  annotateDynamicAccess,\n  trackSynchronousRequestDataAccessInDev,\n} from '../app-render/dynamic-rendering'\n\nimport {\n  workUnitAsyncStorage,\n  type PrerenderStore,\n  type PrerenderStoreLegacy,\n  type PrerenderStorePPR,\n  type PrerenderStoreModern,\n} from '../app-render/work-unit-async-storage.external'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport {\n  describeStringPropertyAccess,\n  describeHasCheckingStringProperty,\n  wellKnownProperties,\n} from '../../shared/lib/utils/reflect-utils'\nimport {\n  throwWithStaticGenerationBailoutErrorWithDynamicError,\n  throwForSearchParamsAccessInUseCache,\n} from './utils'\nimport { scheduleImmediate } from '../../lib/scheduler'\n\nexport type SearchParams = { [key: string]: string | string[] | undefined }\n\n/**\n * In this version of Next.js the `params` prop passed to Layouts, Pages, and other Segments is a Promise.\n * However to facilitate migration to this new Promise type you can currently still access params directly on the Promise instance passed to these Segments.\n * The `UnsafeUnwrappedSearchParams` type is available if you need to temporarily access the underlying params without first awaiting or `use`ing the Promise.\n *\n * In a future version of Next.js the `params` prop will be a plain Promise and this type will be removed.\n *\n * Typically instances of `params` can be updated automatically to be treated as a Promise by a codemod published alongside this Next.js version however if you\n * have not yet run the codemod of the codemod cannot detect certain instances of `params` usage you should first try to refactor your code to await `params`.\n *\n * If refactoring is not possible but you still want to be able to access params directly without typescript errors you can cast the params Promise to this type\n *\n * ```tsx\n * type Props = { searchParams: Promise<{ foo: string }> }\n *\n * export default async function Page(props: Props) {\n *  const { searchParams } = (props.searchParams as unknown as UnsafeUnwrappedSearchParams<typeof props.searchParams>)\n *  return ...\n * }\n * ```\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedSearchParams<P> =\n  P extends Promise<infer U> ? Omit<U, 'then' | 'status' | 'value'> : never\n\nexport function createSearchParamsFromClient(\n  underlyingSearchParams: SearchParams,\n  workStore: WorkStore\n) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createPrerenderSearchParams(workStore, workUnitStore)\n      default:\n      // fallthrough\n    }\n  }\n  return createRenderSearchParams(underlyingSearchParams, workStore)\n}\n\n// generateMetadata always runs in RSC context so it is equivalent to a Server Page Component\nexport const createServerSearchParamsForMetadata =\n  createServerSearchParamsForServerPage\n\nexport function createServerSearchParamsForServerPage(\n  underlyingSearchParams: SearchParams,\n  workStore: WorkStore\n): Promise<SearchParams> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createPrerenderSearchParams(workStore, workUnitStore)\n      default:\n      // fallthrough\n    }\n  }\n  return createRenderSearchParams(underlyingSearchParams, workStore)\n}\n\nexport function createPrerenderSearchParamsForClientPage(\n  workStore: WorkStore\n): Promise<SearchParams> {\n  if (workStore.forceStatic) {\n    // When using forceStatic we override all other logic and always just return an empty\n    // dictionary object.\n    return Promise.resolve({})\n  }\n\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  if (\n    prerenderStore &&\n    (prerenderStore.type === 'prerender' ||\n      prerenderStore.type === 'prerender-client')\n  ) {\n    // dynamicIO Prerender\n    // We're prerendering in a mode that aborts (dynamicIO) and should stall\n    // the promise to ensure the RSC side is considered dynamic\n    return makeHangingPromise(prerenderStore.renderSignal, '`searchParams`')\n  }\n  // We're prerendering in a mode that does not aborts. We resolve the promise without\n  // any tracking because we're just transporting a value from server to client where the tracking\n  // will be applied.\n  return Promise.resolve({})\n}\n\nfunction createPrerenderSearchParams(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStore\n): Promise<SearchParams> {\n  if (workStore.forceStatic) {\n    // When using forceStatic we override all other logic and always just return an empty\n    // dictionary object.\n    return Promise.resolve({})\n  }\n\n  switch (prerenderStore.type) {\n    case 'prerender':\n    case 'prerender-client':\n      // We are in a dynamicIO (PPR or otherwise) prerender\n      return makeAbortingExoticSearchParams(workStore.route, prerenderStore)\n    default:\n      // The remaining cases are prerender-ppr and prerender-legacy\n      // We are in a legacy static generation and need to interrupt the prerender\n      // when search params are accessed.\n      return makeErroringExoticSearchParams(workStore, prerenderStore)\n  }\n}\n\nfunction createRenderSearchParams(\n  underlyingSearchParams: SearchParams,\n  workStore: WorkStore\n): Promise<SearchParams> {\n  if (workStore.forceStatic) {\n    // When using forceStatic we override all other logic and always just return an empty\n    // dictionary object.\n    return Promise.resolve({})\n  } else {\n    if (\n      process.env.NODE_ENV === 'development' &&\n      !workStore.isPrefetchRequest\n    ) {\n      return makeDynamicallyTrackedExoticSearchParamsWithDevWarnings(\n        underlyingSearchParams,\n        workStore\n      )\n    } else {\n      return makeUntrackedExoticSearchParams(underlyingSearchParams, workStore)\n    }\n  }\n}\n\ninterface CacheLifetime {}\nconst CachedSearchParams = new WeakMap<CacheLifetime, Promise<SearchParams>>()\n\nconst CachedSearchParamsForUseCache = new WeakMap<\n  CacheLifetime,\n  Promise<SearchParams>\n>()\n\nfunction makeAbortingExoticSearchParams(\n  route: string,\n  prerenderStore: PrerenderStoreModern\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(prerenderStore)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const promise = makeHangingPromise<SearchParams>(\n    prerenderStore.renderSignal,\n    '`searchParams`'\n  )\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (Object.hasOwn(promise, prop)) {\n        // The promise has this property directly. we must return it.\n        // We know it isn't a dynamic access because it can only be something\n        // that was previously written to the promise and thus not an underlying searchParam value\n        return ReflectAdapter.get(target, prop, receiver)\n      }\n\n      switch (prop) {\n        case 'then': {\n          const expression =\n            '`await searchParams`, `searchParams.then`, or similar'\n          annotateDynamicAccess(expression, prerenderStore)\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n        case 'status': {\n          const expression =\n            '`use(searchParams)`, `searchParams.status`, or similar'\n          annotateDynamicAccess(expression, prerenderStore)\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        default: {\n          if (typeof prop === 'string' && !wellKnownProperties.has(prop)) {\n            const expression = describeStringPropertyAccess(\n              'searchParams',\n              prop\n            )\n            const error = createSearchAccessError(route, expression)\n            abortAndThrowOnSynchronousRequestDataAccess(\n              route,\n              expression,\n              error,\n              prerenderStore\n            )\n          }\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n      }\n    },\n    has(target, prop) {\n      // We don't expect key checking to be used except for testing the existence of\n      // searchParams so we make all has tests trigger dynamic. this means that `promise.then`\n      // can resolve to the then function on the Promise prototype but 'then' in promise will assume\n      // you are testing whether the searchParams has a 'then' property.\n      if (typeof prop === 'string') {\n        const expression = describeHasCheckingStringProperty(\n          'searchParams',\n          prop\n        )\n        const error = createSearchAccessError(route, expression)\n        abortAndThrowOnSynchronousRequestDataAccess(\n          route,\n          expression,\n          error,\n          prerenderStore\n        )\n      }\n      return ReflectAdapter.has(target, prop)\n    },\n    ownKeys() {\n      const expression =\n        '`{...searchParams}`, `Object.keys(searchParams)`, or similar'\n      const error = createSearchAccessError(route, expression)\n      abortAndThrowOnSynchronousRequestDataAccess(\n        route,\n        expression,\n        error,\n        prerenderStore\n      )\n    },\n  })\n\n  CachedSearchParams.set(prerenderStore, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction makeErroringExoticSearchParams(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreLegacy | PrerenderStorePPR\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(workStore)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const underlyingSearchParams = {}\n  // For search params we don't construct a ReactPromise because we want to interrupt\n  // rendering on any property access that was not set from outside and so we only want\n  // to have properties like value and status if React sets them.\n  const promise = Promise.resolve(underlyingSearchParams)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (Object.hasOwn(promise, prop)) {\n        // The promise has this property directly. we must return it.\n        // We know it isn't a dynamic access because it can only be something\n        // that was previously written to the promise and thus not an underlying searchParam value\n        return ReflectAdapter.get(target, prop, receiver)\n      }\n\n      switch (prop) {\n        case 'then': {\n          const expression =\n            '`await searchParams`, `searchParams.then`, or similar'\n          if (workStore.dynamicShouldError) {\n            throwWithStaticGenerationBailoutErrorWithDynamicError(\n              workStore.route,\n              expression\n            )\n          } else if (prerenderStore.type === 'prerender-ppr') {\n            // PPR Prerender (no dynamicIO)\n            postponeWithTracking(\n              workStore.route,\n              expression,\n              prerenderStore.dynamicTracking\n            )\n          } else {\n            // Legacy Prerender\n            throwToInterruptStaticGeneration(\n              expression,\n              workStore,\n              prerenderStore\n            )\n          }\n          return\n        }\n        case 'status': {\n          const expression =\n            '`use(searchParams)`, `searchParams.status`, or similar'\n          if (workStore.dynamicShouldError) {\n            throwWithStaticGenerationBailoutErrorWithDynamicError(\n              workStore.route,\n              expression\n            )\n          } else if (prerenderStore.type === 'prerender-ppr') {\n            // PPR Prerender (no dynamicIO)\n            postponeWithTracking(\n              workStore.route,\n              expression,\n              prerenderStore.dynamicTracking\n            )\n          } else {\n            // Legacy Prerender\n            throwToInterruptStaticGeneration(\n              expression,\n              workStore,\n              prerenderStore\n            )\n          }\n          return\n        }\n        default: {\n          if (typeof prop === 'string' && !wellKnownProperties.has(prop)) {\n            const expression = describeStringPropertyAccess(\n              'searchParams',\n              prop\n            )\n            if (workStore.dynamicShouldError) {\n              throwWithStaticGenerationBailoutErrorWithDynamicError(\n                workStore.route,\n                expression\n              )\n            } else if (prerenderStore.type === 'prerender-ppr') {\n              // PPR Prerender (no dynamicIO)\n              postponeWithTracking(\n                workStore.route,\n                expression,\n                prerenderStore.dynamicTracking\n              )\n            } else {\n              // Legacy Prerender\n              throwToInterruptStaticGeneration(\n                expression,\n                workStore,\n                prerenderStore\n              )\n            }\n          }\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n      }\n    },\n    has(target, prop) {\n      // We don't expect key checking to be used except for testing the existence of\n      // searchParams so we make all has tests trigger dynamic. this means that `promise.then`\n      // can resolve to the then function on the Promise prototype but 'then' in promise will assume\n      // you are testing whether the searchParams has a 'then' property.\n      if (typeof prop === 'string') {\n        const expression = describeHasCheckingStringProperty(\n          'searchParams',\n          prop\n        )\n        if (workStore.dynamicShouldError) {\n          throwWithStaticGenerationBailoutErrorWithDynamicError(\n            workStore.route,\n            expression\n          )\n        } else if (prerenderStore.type === 'prerender-ppr') {\n          // PPR Prerender (no dynamicIO)\n          postponeWithTracking(\n            workStore.route,\n            expression,\n            prerenderStore.dynamicTracking\n          )\n        } else {\n          // Legacy Prerender\n          throwToInterruptStaticGeneration(\n            expression,\n            workStore,\n            prerenderStore\n          )\n        }\n        return false\n      }\n      return ReflectAdapter.has(target, prop)\n    },\n    ownKeys() {\n      const expression =\n        '`{...searchParams}`, `Object.keys(searchParams)`, or similar'\n      if (workStore.dynamicShouldError) {\n        throwWithStaticGenerationBailoutErrorWithDynamicError(\n          workStore.route,\n          expression\n        )\n      } else if (prerenderStore.type === 'prerender-ppr') {\n        // PPR Prerender (no dynamicIO)\n        postponeWithTracking(\n          workStore.route,\n          expression,\n          prerenderStore.dynamicTracking\n        )\n      } else {\n        // Legacy Prerender\n        throwToInterruptStaticGeneration(expression, workStore, prerenderStore)\n      }\n    },\n  })\n\n  CachedSearchParams.set(workStore, proxiedPromise)\n  return proxiedPromise\n}\n\n/**\n * This is a variation of `makeErroringExoticSearchParams` that always throws an\n * error on access, because accessing searchParams inside of `\"use cache\"` is\n * not allowed.\n */\nexport function makeErroringExoticSearchParamsForUseCache(\n  workStore: WorkStore\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParamsForUseCache.get(workStore)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const promise = Promise.resolve({})\n\n  const proxiedPromise = new Proxy(promise, {\n    get: function get(target, prop, receiver) {\n      if (Object.hasOwn(promise, prop)) {\n        // The promise has this property directly. we must return it. We know it\n        // isn't a dynamic access because it can only be something that was\n        // previously written to the promise and thus not an underlying\n        // searchParam value\n        return ReflectAdapter.get(target, prop, receiver)\n      }\n\n      if (\n        typeof prop === 'string' &&\n        (prop === 'then' || !wellKnownProperties.has(prop))\n      ) {\n        throwForSearchParamsAccessInUseCache(workStore, get)\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    has: function has(target, prop) {\n      // We don't expect key checking to be used except for testing the existence of\n      // searchParams so we make all has tests throw an error. this means that `promise.then`\n      // can resolve to the then function on the Promise prototype but 'then' in promise will assume\n      // you are testing whether the searchParams has a 'then' property.\n      if (\n        typeof prop === 'string' &&\n        (prop === 'then' || !wellKnownProperties.has(prop))\n      ) {\n        throwForSearchParamsAccessInUseCache(workStore, has)\n      }\n\n      return ReflectAdapter.has(target, prop)\n    },\n    ownKeys: function ownKeys() {\n      throwForSearchParamsAccessInUseCache(workStore, ownKeys)\n    },\n  })\n\n  CachedSearchParamsForUseCache.set(workStore, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction makeUntrackedExoticSearchParams(\n  underlyingSearchParams: SearchParams,\n  store: WorkStore\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  // We don't use makeResolvedReactPromise here because searchParams\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(underlyingSearchParams)\n  CachedSearchParams.set(underlyingSearchParams, promise)\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (!wellKnownProperties.has(prop)) {\n      Object.defineProperty(promise, prop, {\n        get() {\n          const workUnitStore = workUnitAsyncStorage.getStore()\n          trackDynamicDataInDynamicRender(store, workUnitStore)\n          return underlyingSearchParams[prop]\n        },\n        set(value) {\n          Object.defineProperty(promise, prop, {\n            value,\n            writable: true,\n            enumerable: true,\n          })\n        },\n        enumerable: true,\n        configurable: true,\n      })\n    }\n  })\n\n  return promise\n}\n\nfunction makeDynamicallyTrackedExoticSearchParamsWithDevWarnings(\n  underlyingSearchParams: SearchParams,\n  store: WorkStore\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  // We have an unfortunate sequence of events that requires this initialization logic. We want to instrument the underlying\n  // searchParams object to detect if you are accessing values in dev. This is used for warnings and for things like the static prerender\n  // indicator. However when we pass this proxy to our Promise.resolve() below the VM checks if the resolved value is a promise by looking\n  // at the `.then` property. To our dynamic tracking logic this is indistinguishable from a `then` searchParam and so we would normally trigger\n  // dynamic tracking. However we know that this .then is not real dynamic access, it's just how thenables resolve in sequence. So we introduce\n  // this initialization concept so we omit the dynamic check until after we've constructed our resolved promise.\n  let promiseInitialized = false\n  const proxiedUnderlying = new Proxy(underlyingSearchParams, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string' && promiseInitialized) {\n        if (store.dynamicShouldError) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          throwWithStaticGenerationBailoutErrorWithDynamicError(\n            store.route,\n            expression\n          )\n        }\n        const workUnitStore = workUnitAsyncStorage.getStore()\n        trackDynamicDataInDynamicRender(store, workUnitStore)\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (store.dynamicShouldError) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          throwWithStaticGenerationBailoutErrorWithDynamicError(\n            store.route,\n            expression\n          )\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      if (store.dynamicShouldError) {\n        const expression =\n          '`{...searchParams}`, `Object.keys(searchParams)`, or similar'\n        throwWithStaticGenerationBailoutErrorWithDynamicError(\n          store.route,\n          expression\n        )\n      }\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  // We don't use makeResolvedReactPromise here because searchParams\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = new Promise<SearchParams>((resolve) =>\n    scheduleImmediate(() => resolve(underlyingSearchParams))\n  )\n  promise.then(() => {\n    promiseInitialized = true\n  })\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n      Object.defineProperty(promise, prop, {\n        get() {\n          return proxiedUnderlying[prop]\n        },\n        set(newValue) {\n          Object.defineProperty(promise, prop, {\n            value: newValue,\n            writable: true,\n            enumerable: true,\n          })\n        },\n        enumerable: true,\n        configurable: true,\n      })\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (prop === 'then' && store.dynamicShouldError) {\n        const expression = '`searchParams.then`'\n        throwWithStaticGenerationBailoutErrorWithDynamicError(\n          store.route,\n          expression\n        )\n      }\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          syncIODev(store.route, expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return Reflect.set(target, prop, value, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          syncIODev(store.route, expression)\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      const expression = '`Object.keys(searchParams)` or similar'\n      syncIODev(store.route, expression, unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedSearchParams.set(underlyingSearchParams, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction syncIODev(\n  route: string | undefined,\n  expression: string,\n  missingProperties?: Array<string>\n) {\n  // In all cases we warn normally\n  if (missingProperties && missingProperties.length > 0) {\n    warnForIncompleteEnumeration(route, expression, missingProperties)\n  } else {\n    warnForSyncAccess(route, expression)\n  }\n\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (\n    workUnitStore &&\n    workUnitStore.type === 'request' &&\n    workUnitStore.prerenderPhase === true\n  ) {\n    // When we're rendering dynamically in dev we need to advance out of the\n    // Prerender environment when we read Request data synchronously\n    const requestStore = workUnitStore\n    trackSynchronousRequestDataAccessInDev(requestStore)\n  }\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createSearchAccessError\n)\n\nconst warnForIncompleteEnumeration =\n  createDedupedByCallsiteServerErrorLoggerDev(createIncompleteEnumerationError)\n\nfunction createSearchAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`searchParams\\` should be awaited before using its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction createIncompleteEnumerationError(\n  route: string | undefined,\n  expression: string,\n  missingProperties: Array<string>\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`searchParams\\` should be awaited before using its properties. ` +\n      `The following properties were not available through enumeration ` +\n      `because they conflict with builtin or well-known property names: ` +\n      `${describeListOfPropertyNames(missingProperties)}. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction describeListOfPropertyNames(properties: Array<string>) {\n  switch (properties.length) {\n    case 0:\n      throw new InvariantError(\n        'Expected describeListOfPropertyNames to be called with a non-empty list of strings.'\n      )\n    case 1:\n      return `\\`${properties[0]}\\``\n    case 2:\n      return `\\`${properties[0]}\\` and \\`${properties[1]}\\``\n    default: {\n      let description = ''\n      for (let i = 0; i < properties.length - 1; i++) {\n        description += `\\`${properties[i]}\\`, `\n      }\n      description += `, and \\`${properties[properties.length - 1]}\\``\n      return description\n    }\n  }\n}\n","import type { WorkStore } from '../app-render/work-async-storage.external'\nimport type { FallbackRouteParams } from './fallback-params'\n\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  throwToInterruptStaticGeneration,\n  postponeWithTracking,\n  trackSynchronousRequestDataAccessInDev,\n} from '../app-render/dynamic-rendering'\n\nimport {\n  workUnitAsyncStorage,\n  type PrerenderStore,\n  type PrerenderStorePPR,\n  type PrerenderStoreLegacy,\n  type PrerenderStoreModern,\n} from '../app-render/work-unit-async-storage.external'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport {\n  describeStringPropertyAccess,\n  wellKnownProperties,\n} from '../../shared/lib/utils/reflect-utils'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { scheduleImmediate } from '../../lib/scheduler'\nimport { dynamicAccessAsyncStorage } from '../app-render/dynamic-access-async-storage.external'\n\nexport type ParamValue = string | Array<string> | undefined\nexport type Params = Record<string, ParamValue>\n\n/**\n * In this version of Next.js the `params` prop passed to Layouts, Pages, and other Segments is a Promise.\n * However to facilitate migration to this new Promise type you can currently still access params directly on the Promise instance passed to these Segments.\n * The `UnsafeUnwrappedParams` type is available if you need to temporarily access the underlying params without first awaiting or `use`ing the Promise.\n *\n * In a future version of Next.js the `params` prop will be a plain Promise and this type will be removed.\n *\n * Typically instances of `params` can be updated automatically to be treated as a Promise by a codemod published alongside this Next.js version however if you\n * have not yet run the codemod of the codemod cannot detect certain instances of `params` usage you should first try to refactor your code to await `params`.\n *\n * If refactoring is not possible but you still want to be able to access params directly without typescript errors you can cast the params Promise to this type\n *\n * ```tsx\n * type Props = { params: Promise<{ id: string }>}\n *\n * export default async function Layout(props: Props) {\n *  const directParams = (props.params as unknown as UnsafeUnwrappedParams<typeof props.params>)\n *  return ...\n * }\n * ```\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedParams<P> =\n  P extends Promise<infer U> ? Omit<U, 'then' | 'status' | 'value'> : never\n\nexport function createParamsFromClient(\n  underlyingParams: Params,\n  workStore: WorkStore\n) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createPrerenderParams(underlyingParams, workStore, workUnitStore)\n      default:\n      // fallthrough\n    }\n  }\n  return createRenderParams(underlyingParams, workStore)\n}\n\n// generateMetadata always runs in RSC context so it is equivalent to a Server Page Component\nexport type CreateServerParamsForMetadata = typeof createServerParamsForMetadata\nexport const createServerParamsForMetadata = createServerParamsForServerSegment\n\n// routes always runs in RSC context so it is equivalent to a Server Page Component\nexport function createServerParamsForRoute(\n  underlyingParams: Params,\n  workStore: WorkStore\n) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createPrerenderParams(underlyingParams, workStore, workUnitStore)\n      default:\n      // fallthrough\n    }\n  }\n  return createRenderParams(underlyingParams, workStore)\n}\n\nexport function createServerParamsForServerSegment(\n  underlyingParams: Params,\n  workStore: WorkStore\n): Promise<Params> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createPrerenderParams(underlyingParams, workStore, workUnitStore)\n      default:\n      // fallthrough\n    }\n  }\n  return createRenderParams(underlyingParams, workStore)\n}\n\nexport function createPrerenderParamsForClientSegment(\n  underlyingParams: Params,\n  workStore: WorkStore\n): Promise<Params> {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  if (\n    prerenderStore &&\n    (prerenderStore.type === 'prerender' ||\n      prerenderStore.type === 'prerender-client')\n  ) {\n    const fallbackParams = workStore.fallbackRouteParams\n    if (fallbackParams) {\n      for (let key in underlyingParams) {\n        if (fallbackParams.has(key)) {\n          // This params object has one of more fallback params so we need to consider\n          // the awaiting of this params object \"dynamic\". Since we are in dynamicIO mode\n          // we encode this as a promise that never resolves\n          return makeHangingPromise(prerenderStore.renderSignal, '`params`')\n        }\n      }\n    }\n  }\n  // We're prerendering in a mode that does not abort. We resolve the promise without\n  // any tracking because we're just transporting a value from server to client where the tracking\n  // will be applied.\n  return Promise.resolve(underlyingParams)\n}\n\nfunction createPrerenderParams(\n  underlyingParams: Params,\n  workStore: WorkStore,\n  prerenderStore: PrerenderStore\n): Promise<Params> {\n  const fallbackParams = workStore.fallbackRouteParams\n  if (fallbackParams) {\n    let hasSomeFallbackParams = false\n    for (const key in underlyingParams) {\n      if (fallbackParams.has(key)) {\n        hasSomeFallbackParams = true\n        break\n      }\n    }\n\n    if (hasSomeFallbackParams) {\n      // params need to be treated as dynamic because we have at least one fallback param\n      switch (prerenderStore.type) {\n        case 'prerender':\n        case 'prerender-client':\n          // We are in a dynamicIO prerender\n          return makeAbortingExoticParams(\n            underlyingParams,\n            workStore.route,\n            prerenderStore\n          )\n        default:\n          return makeErroringExoticParams(\n            underlyingParams,\n            fallbackParams,\n            workStore,\n            prerenderStore\n          )\n      }\n    }\n  }\n\n  // We don't have any fallback params so we have an entirely static safe params object\n  return makeUntrackedExoticParams(underlyingParams)\n}\n\nfunction createRenderParams(\n  underlyingParams: Params,\n  workStore: WorkStore\n): Promise<Params> {\n  if (process.env.NODE_ENV === 'development' && !workStore.isPrefetchRequest) {\n    return makeDynamicallyTrackedExoticParamsWithDevWarnings(\n      underlyingParams,\n      workStore\n    )\n  } else {\n    return makeUntrackedExoticParams(underlyingParams)\n  }\n}\n\ninterface CacheLifetime {}\nconst CachedParams = new WeakMap<CacheLifetime, Promise<Params>>()\n\nconst fallbackParamsProxyHandler: ProxyHandler<Promise<Params>> = {\n  get: function get(target, prop, receiver) {\n    if (prop === 'then' || prop === 'catch' || prop === 'finally') {\n      const originalMethod = ReflectAdapter.get(target, prop, receiver)\n\n      return {\n        [prop]: (...args: unknown[]) => {\n          const store = dynamicAccessAsyncStorage.getStore()\n\n          if (store) {\n            store.abortController.abort(\n              new Error(`Accessed fallback \\`params\\` during prerendering.`)\n            )\n          }\n\n          return new Proxy(\n            originalMethod.apply(target, args),\n            fallbackParamsProxyHandler\n          )\n        },\n      }[prop]\n    }\n\n    return ReflectAdapter.get(target, prop, receiver)\n  },\n}\n\nfunction makeAbortingExoticParams(\n  underlyingParams: Params,\n  route: string,\n  prerenderStore: PrerenderStoreModern\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  const promise = new Proxy(\n    makeHangingPromise<Params>(prerenderStore.renderSignal, '`params`'),\n    fallbackParamsProxyHandler\n  )\n\n  CachedParams.set(underlyingParams, promise)\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      Object.defineProperty(promise, prop, {\n        get() {\n          const expression = describeStringPropertyAccess('params', prop)\n          const error = createParamsAccessError(route, expression)\n          abortAndThrowOnSynchronousRequestDataAccess(\n            route,\n            expression,\n            error,\n            prerenderStore\n          )\n        },\n        set(newValue) {\n          Object.defineProperty(promise, prop, {\n            value: newValue,\n            writable: true,\n            enumerable: true,\n          })\n        },\n        enumerable: true,\n        configurable: true,\n      })\n    }\n  })\n\n  return promise\n}\n\nfunction makeErroringExoticParams(\n  underlyingParams: Params,\n  fallbackParams: FallbackRouteParams,\n  workStore: WorkStore,\n  prerenderStore: PrerenderStorePPR | PrerenderStoreLegacy\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  const augmentedUnderlying = { ...underlyingParams }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(augmentedUnderlying)\n  CachedParams.set(underlyingParams, promise)\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      if (fallbackParams.has(prop)) {\n        Object.defineProperty(augmentedUnderlying, prop, {\n          get() {\n            const expression = describeStringPropertyAccess('params', prop)\n            // In most dynamic APIs we also throw if `dynamic = \"error\"` however\n            // for params is only dynamic when we're generating a fallback shell\n            // and even when `dynamic = \"error\"` we still support generating dynamic\n            // fallback shells\n            // TODO remove this comment when dynamicIO is the default since there\n            // will be no `dynamic = \"error\"`\n            if (prerenderStore.type === 'prerender-ppr') {\n              // PPR Prerender (no dynamicIO)\n              postponeWithTracking(\n                workStore.route,\n                expression,\n                prerenderStore.dynamicTracking\n              )\n            } else {\n              // Legacy Prerender\n              throwToInterruptStaticGeneration(\n                expression,\n                workStore,\n                prerenderStore\n              )\n            }\n          },\n          enumerable: true,\n        })\n        Object.defineProperty(promise, prop, {\n          get() {\n            const expression = describeStringPropertyAccess('params', prop)\n            // In most dynamic APIs we also throw if `dynamic = \"error\"` however\n            // for params is only dynamic when we're generating a fallback shell\n            // and even when `dynamic = \"error\"` we still support generating dynamic\n            // fallback shells\n            // TODO remove this comment when dynamicIO is the default since there\n            // will be no `dynamic = \"error\"`\n            if (prerenderStore.type === 'prerender-ppr') {\n              // PPR Prerender (no dynamicIO)\n              postponeWithTracking(\n                workStore.route,\n                expression,\n                prerenderStore.dynamicTracking\n              )\n            } else {\n              // Legacy Prerender\n              throwToInterruptStaticGeneration(\n                expression,\n                workStore,\n                prerenderStore\n              )\n            }\n          },\n          set(newValue) {\n            Object.defineProperty(promise, prop, {\n              value: newValue,\n              writable: true,\n              enumerable: true,\n            })\n          },\n          enumerable: true,\n          configurable: true,\n        })\n      } else {\n        ;(promise as any)[prop] = underlyingParams[prop]\n      }\n    }\n  })\n\n  return promise\n}\n\nfunction makeUntrackedExoticParams(underlyingParams: Params): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(underlyingParams)\n  CachedParams.set(underlyingParams, promise)\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      ;(promise as any)[prop] = underlyingParams[prop]\n    }\n  })\n\n  return promise\n}\n\nfunction makeDynamicallyTrackedExoticParamsWithDevWarnings(\n  underlyingParams: Params,\n  store: WorkStore\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = new Promise<Params>((resolve) =>\n    scheduleImmediate(() => resolve(underlyingParams))\n  )\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n      ;(promise as any)[prop] = underlyingParams[prop]\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          // We are accessing a property that was proxied to the promise instance\n          proxiedProperties.has(prop)\n        ) {\n          const expression = describeStringPropertyAccess('params', prop)\n          syncIODev(store.route, expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return ReflectAdapter.set(target, prop, value, receiver)\n    },\n    ownKeys(target) {\n      const expression = '`...params` or similar expression'\n      syncIODev(store.route, expression, unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedParams.set(underlyingParams, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction syncIODev(\n  route: string | undefined,\n  expression: string,\n  missingProperties?: Array<string>\n) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (\n    workUnitStore &&\n    workUnitStore.type === 'request' &&\n    workUnitStore.prerenderPhase === true\n  ) {\n    // When we're rendering dynamically in dev we need to advance out of the\n    // Prerender environment when we read Request data synchronously\n    const requestStore = workUnitStore\n    trackSynchronousRequestDataAccessInDev(requestStore)\n  }\n  // In all cases we warn normally\n  if (missingProperties && missingProperties.length > 0) {\n    warnForIncompleteEnumeration(route, expression, missingProperties)\n  } else {\n    warnForSyncAccess(route, expression)\n  }\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createParamsAccessError\n)\n\nconst warnForIncompleteEnumeration =\n  createDedupedByCallsiteServerErrorLoggerDev(createIncompleteEnumerationError)\n\nfunction createParamsAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`params\\` should be awaited before using its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction createIncompleteEnumerationError(\n  route: string | undefined,\n  expression: string,\n  missingProperties: Array<string>\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`params\\` should be awaited before using its properties. ` +\n      `The following properties were not available through enumeration ` +\n      `because they conflict with builtin property names: ` +\n      `${describeListOfPropertyNames(missingProperties)}. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction describeListOfPropertyNames(properties: Array<string>) {\n  switch (properties.length) {\n    case 0:\n      throw new InvariantError(\n        'Expected describeListOfPropertyNames to be called with a non-empty list of strings.'\n      )\n    case 1:\n      return `\\`${properties[0]}\\``\n    case 2:\n      return `\\`${properties[0]}\\` and \\`${properties[1]}\\``\n    default: {\n      let description = ''\n      for (let i = 0; i < properties.length - 1; i++) {\n        description += `\\`${properties[i]}\\`, `\n      }\n      description += `, and \\`${properties[properties.length - 1]}\\``\n      return description\n    }\n  }\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/http-access-fallback/error-boundary.js\"));\n","'use client'\n\n/**\n * HTTPAccessFallbackBoundary is a boundary that catches errors and renders a\n * fallback component for HTTP errors.\n *\n * It receives the status code, and determine if it should render fallbacks for few HTTP 4xx errors.\n *\n * e.g. 404\n * 404 represents not found, and the fallback component pair contains the component and its styles.\n *\n */\n\nimport React, { useContext } from 'react'\nimport { useUntrackedPathname } from '../navigation-untracked'\nimport {\n  HTTPAccessErrorStatus,\n  getAccessFallbackHTTPStatus,\n  getAccessFallbackErrorTypeByStatus,\n  isHTTPAccessFallbackError,\n} from './http-access-fallback'\nimport { warnOnce } from '../../../shared/lib/utils/warn-once'\nimport { MissingSlotContext } from '../../../shared/lib/app-router-context.shared-runtime'\n\ninterface HTTPAccessFallbackBoundaryProps {\n  notFound?: React.ReactNode\n  forbidden?: React.ReactNode\n  unauthorized?: React.ReactNode\n  children: React.ReactNode\n  missingSlots?: Set<string>\n}\n\ninterface HTTPAccessFallbackErrorBoundaryProps\n  extends HTTPAccessFallbackBoundaryProps {\n  pathname: string | null\n  missingSlots?: Set<string>\n}\n\ninterface HTTPAccessBoundaryState {\n  triggeredStatus: number | undefined\n  previousPathname: string | null\n}\n\nclass HTTPAccessFallbackErrorBoundary extends React.Component<\n  HTTPAccessFallbackErrorBoundaryProps,\n  HTTPAccessBoundaryState\n> {\n  constructor(props: HTTPAccessFallbackErrorBoundaryProps) {\n    super(props)\n    this.state = {\n      triggeredStatus: undefined,\n      previousPathname: props.pathname,\n    }\n  }\n\n  componentDidCatch(): void {\n    if (\n      process.env.NODE_ENV === 'development' &&\n      this.props.missingSlots &&\n      this.props.missingSlots.size > 0 &&\n      // A missing children slot is the typical not-found case, so no need to warn\n      !this.props.missingSlots.has('children')\n    ) {\n      let warningMessage =\n        'No default component was found for a parallel route rendered on this page. Falling back to nearest NotFound boundary.\\n' +\n        'Learn more: https://nextjs.org/docs/app/building-your-application/routing/parallel-routes#defaultjs\\n\\n'\n\n      const formattedSlots = Array.from(this.props.missingSlots)\n        .sort((a, b) => a.localeCompare(b))\n        .map((slot) => `@${slot}`)\n        .join(', ')\n\n      warningMessage += 'Missing slots: ' + formattedSlots\n\n      warnOnce(warningMessage)\n    }\n  }\n\n  static getDerivedStateFromError(error: any) {\n    if (isHTTPAccessFallbackError(error)) {\n      const httpStatus = getAccessFallbackHTTPStatus(error)\n      return {\n        triggeredStatus: httpStatus,\n      }\n    }\n    // Re-throw if error is not for 404\n    throw error\n  }\n\n  static getDerivedStateFromProps(\n    props: HTTPAccessFallbackErrorBoundaryProps,\n    state: HTTPAccessBoundaryState\n  ): HTTPAccessBoundaryState | null {\n    /**\n     * Handles reset of the error boundary when a navigation happens.\n     * Ensures the error boundary does not stay enabled when navigating to a new page.\n     * Approach of setState in render is safe as it checks the previous pathname and then overrides\n     * it as outlined in https://react.dev/reference/react/useState#storing-information-from-previous-renders\n     */\n    if (props.pathname !== state.previousPathname && state.triggeredStatus) {\n      return {\n        triggeredStatus: undefined,\n        previousPathname: props.pathname,\n      }\n    }\n    return {\n      triggeredStatus: state.triggeredStatus,\n      previousPathname: props.pathname,\n    }\n  }\n\n  render() {\n    const { notFound, forbidden, unauthorized, children } = this.props\n    const { triggeredStatus } = this.state\n    const errorComponents = {\n      [HTTPAccessErrorStatus.NOT_FOUND]: notFound,\n      [HTTPAccessErrorStatus.FORBIDDEN]: forbidden,\n      [HTTPAccessErrorStatus.UNAUTHORIZED]: unauthorized,\n    }\n\n    if (triggeredStatus) {\n      const isNotFound =\n        triggeredStatus === HTTPAccessErrorStatus.NOT_FOUND && notFound\n      const isForbidden =\n        triggeredStatus === HTTPAccessErrorStatus.FORBIDDEN && forbidden\n      const isUnauthorized =\n        triggeredStatus === HTTPAccessErrorStatus.UNAUTHORIZED && unauthorized\n\n      // If there's no matched boundary in this layer, keep throwing the error by rendering the children\n      if (!(isNotFound || isForbidden || isUnauthorized)) {\n        return children\n      }\n\n      return (\n        <>\n          <meta name=\"robots\" content=\"noindex\" />\n          {process.env.NODE_ENV === 'development' && (\n            <meta\n              name=\"boundary-next-error\"\n              content={getAccessFallbackErrorTypeByStatus(triggeredStatus)}\n            />\n          )}\n          {errorComponents[triggeredStatus]}\n        </>\n      )\n    }\n\n    return children\n  }\n}\n\nexport function HTTPAccessFallbackBoundary({\n  notFound,\n  forbidden,\n  unauthorized,\n  children,\n}: HTTPAccessFallbackBoundaryProps) {\n  // When we're rendering the missing params shell, this will return null. This\n  // is because we won't be rendering any not found boundaries or error\n  // boundaries for the missing params shell. When this runs on the client\n  // (where these error can occur), we will get the correct pathname.\n  const pathname = useUntrackedPathname()\n  const missingSlots = useContext(MissingSlotContext)\n  const hasErrorFallback = !!(notFound || forbidden || unauthorized)\n\n  if (hasErrorFallback) {\n    return (\n      <HTTPAccessFallbackErrorBoundary\n        pathname={pathname}\n        notFound={notFound}\n        forbidden={forbidden}\n        unauthorized={unauthorized}\n        missingSlots={missingSlots}\n      >\n        {children}\n      </HTTPAccessFallbackErrorBoundary>\n    )\n  }\n\n  return <>{children}</>\n}\n","export function nonNullable<T>(value: T): value is NonNullable<T> {\n  return value !== null && value !== undefined\n}\n","import React from 'react'\nimport { nonNullable } from '../../non-nullable'\n\nexport function Meta({\n  name,\n  property,\n  content,\n  media,\n}: {\n  name?: string\n  property?: string\n  media?: string\n  content: string | number | URL | null | undefined\n}): React.ReactElement | null {\n  if (typeof content !== 'undefined' && content !== null && content !== '') {\n    return (\n      <meta\n        {...(name ? { name } : { property })}\n        {...(media ? { media } : undefined)}\n        content={typeof content === 'string' ? content : content.toString()}\n      />\n    )\n  }\n  return null\n}\n\nexport function MetaFilter<T extends {} | {}[]>(\n  items: (T | null)[]\n): NonNullable<T>[] {\n  const acc: NonNullable<T>[] = []\n  for (const item of items) {\n    if (Array.isArray(item)) {\n      acc.push(...item.filter(nonNullable))\n    } else if (nonNullable(item)) {\n      acc.push(item)\n    }\n  }\n  return acc\n}\n\ntype ExtendMetaContent = Record<\n  string,\n  undefined | string | URL | number | boolean | null | undefined\n>\ntype MultiMetaContent =\n  | (ExtendMetaContent | string | URL | number)[]\n  | null\n  | undefined\n\nfunction camelToSnake(camelCaseStr: string) {\n  return camelCaseStr.replace(/([A-Z])/g, function (match) {\n    return '_' + match.toLowerCase()\n  })\n}\n\nconst aliasPropPrefixes = new Set([\n  'og:image',\n  'twitter:image',\n  'og:video',\n  'og:audio',\n])\nfunction getMetaKey(prefix: string, key: string) {\n  // Use `twitter:image` and `og:image` instead of `twitter:image:url` and `og:image:url`\n  // to be more compatible as it's a more common format.\n  // `og:video` & `og:audio` do not have a `:url` suffix alias\n  if (aliasPropPrefixes.has(prefix) && key === 'url') {\n    return prefix\n  }\n  if (prefix.startsWith('og:') || prefix.startsWith('twitter:')) {\n    key = camelToSnake(key)\n  }\n  return prefix + ':' + key\n}\n\nfunction ExtendMeta({\n  content,\n  namePrefix,\n  propertyPrefix,\n}: {\n  content?: ExtendMetaContent\n  namePrefix?: string\n  propertyPrefix?: string\n}) {\n  if (!content) return null\n  return MetaFilter(\n    Object.entries(content).map(([k, v]) => {\n      return typeof v === 'undefined'\n        ? null\n        : Meta({\n            ...(propertyPrefix && { property: getMetaKey(propertyPrefix, k) }),\n            ...(namePrefix && { name: getMetaKey(namePrefix, k) }),\n            content: typeof v === 'string' ? v : v?.toString(),\n          })\n    })\n  )\n}\n\nexport function MultiMeta({\n  propertyPrefix,\n  namePrefix,\n  contents,\n}: {\n  propertyPrefix?: string\n  namePrefix?: string\n  contents?: MultiMetaContent | null\n}) {\n  if (typeof contents === 'undefined' || contents === null) {\n    return null\n  }\n\n  return MetaFilter(\n    contents.map((content) => {\n      if (\n        typeof content === 'string' ||\n        typeof content === 'number' ||\n        content instanceof URL\n      ) {\n        return Meta({\n          ...(propertyPrefix\n            ? { property: propertyPrefix }\n            : { name: namePrefix }),\n          content,\n        })\n      } else {\n        return ExtendMeta({\n          namePrefix,\n          propertyPrefix,\n          content,\n        })\n      }\n    })\n  )\n}\n","import type { ViewportLayout } from './types/extra-types'\nimport type { Icons } from './types/metadata-types'\n\nexport const ViewportMetaKeys: { [k in keyof ViewportLayout]: string } = {\n  width: 'width',\n  height: 'height',\n  initialScale: 'initial-scale',\n  minimumScale: 'minimum-scale',\n  maximumScale: 'maximum-scale',\n  viewportFit: 'viewport-fit',\n  userScalable: 'user-scalable',\n  interactiveWidget: 'interactive-widget',\n} as const\n\nexport const IconKeys: (keyof Icons)[] = ['icon', 'shortcut', 'apple', 'other']\n","function resolveArray<T>(value: T | T[]): T[] {\n  if (Array.isArray(value)) {\n    return value as any\n  }\n  return [value] as any\n}\n\nfunction resolveAsArrayOrUndefined<T>(\n  value: T | T[] | undefined | null\n): T extends undefined | null ? undefined : T[] {\n  if (typeof value === 'undefined' || value === null) {\n    return undefined as any\n  }\n  return resolveArray(value) as any\n}\n\nfunction getOrigin(url: string | URL): string | undefined {\n  let origin = undefined\n  if (typeof url === 'string') {\n    try {\n      url = new URL(url)\n      origin = url.origin\n    } catch {}\n  }\n  return origin\n}\n\nexport { resolveAsArrayOrUndefined, resolveArray, getOrigin }\n","import type {\n  ResolvedMetadata,\n  ResolvedViewport,\n  Viewport,\n} from '../types/metadata-interface'\nimport type { ViewportLayout } from '../types/extra-types'\n\nimport { Meta, MetaFilter, MultiMeta } from './meta'\nimport { ViewportMetaKeys } from '../constants'\nimport { getOrigin } from './utils'\n\n// convert viewport object to string for viewport meta tag\nfunction resolveViewportLayout(viewport: Viewport) {\n  let resolved: string | null = null\n\n  if (viewport && typeof viewport === 'object') {\n    resolved = ''\n    for (const viewportKey_ in ViewportMetaKeys) {\n      const viewportKey = viewportKey_ as keyof ViewportLayout\n      if (viewportKey in viewport) {\n        let value = viewport[viewportKey]\n        if (typeof value === 'boolean') {\n          value = value ? 'yes' : 'no'\n        } else if (!value && viewportKey === 'initialScale') {\n          value = undefined\n        }\n        if (value) {\n          if (resolved) resolved += ', '\n          resolved += `${ViewportMetaKeys[viewportKey]}=${value}`\n        }\n      }\n    }\n  }\n  return resolved\n}\n\nexport function ViewportMeta({ viewport }: { viewport: ResolvedViewport }) {\n  return MetaFilter([\n    <meta charSet=\"utf-8\" />,\n    Meta({ name: 'viewport', content: resolveViewportLayout(viewport) }),\n    ...(viewport.themeColor\n      ? viewport.themeColor.map((themeColor) =>\n          Meta({\n            name: 'theme-color',\n            content: themeColor.color,\n            media: themeColor.media,\n          })\n        )\n      : []),\n    Meta({ name: 'color-scheme', content: viewport.colorScheme }),\n  ])\n}\n\nexport function BasicMeta({ metadata }: { metadata: ResolvedMetadata }) {\n  const manifestOrigin = metadata.manifest\n    ? getOrigin(metadata.manifest)\n    : undefined\n\n  return MetaFilter([\n    metadata.title !== null && metadata.title.absolute ? (\n      <title>{metadata.title.absolute}</title>\n    ) : null,\n    Meta({ name: 'description', content: metadata.description }),\n    Meta({ name: 'application-name', content: metadata.applicationName }),\n    ...(metadata.authors\n      ? metadata.authors.map((author) => [\n          author.url ? (\n            <link rel=\"author\" href={author.url.toString()} />\n          ) : null,\n          Meta({ name: 'author', content: author.name }),\n        ])\n      : []),\n    metadata.manifest ? (\n      <link\n        rel=\"manifest\"\n        href={metadata.manifest.toString()}\n        // If it's same origin, and it's a preview deployment,\n        // including credentials for manifest request.\n        crossOrigin={\n          !manifestOrigin && process.env.VERCEL_ENV === 'preview'\n            ? 'use-credentials'\n            : undefined\n        }\n      />\n    ) : null,\n    Meta({ name: 'generator', content: metadata.generator }),\n    Meta({ name: 'keywords', content: metadata.keywords?.join(',') }),\n    Meta({ name: 'referrer', content: metadata.referrer }),\n    Meta({ name: 'creator', content: metadata.creator }),\n    Meta({ name: 'publisher', content: metadata.publisher }),\n    Meta({ name: 'robots', content: metadata.robots?.basic }),\n    Meta({ name: 'googlebot', content: metadata.robots?.googleBot }),\n    Meta({ name: 'abstract', content: metadata.abstract }),\n    ...(metadata.archives\n      ? metadata.archives.map((archive) => (\n          <link rel=\"archives\" href={archive} />\n        ))\n      : []),\n    ...(metadata.assets\n      ? metadata.assets.map((asset) => <link rel=\"assets\" href={asset} />)\n      : []),\n    ...(metadata.bookmarks\n      ? metadata.bookmarks.map((bookmark) => (\n          <link rel=\"bookmarks\" href={bookmark} />\n        ))\n      : []),\n    ...(metadata.pagination\n      ? [\n          metadata.pagination.previous ? (\n            <link rel=\"prev\" href={metadata.pagination.previous} />\n          ) : null,\n          metadata.pagination.next ? (\n            <link rel=\"next\" href={metadata.pagination.next} />\n          ) : null,\n        ]\n      : []),\n    Meta({ name: 'category', content: metadata.category }),\n    Meta({ name: 'classification', content: metadata.classification }),\n    ...(metadata.other\n      ? Object.entries(metadata.other).map(([name, content]) => {\n          if (Array.isArray(content)) {\n            return content.map((contentItem) =>\n              Meta({ name, content: contentItem })\n            )\n          } else {\n            return Meta({ name, content })\n          }\n        })\n      : []),\n  ])\n}\n\nexport function ItunesMeta({ itunes }: { itunes: ResolvedMetadata['itunes'] }) {\n  if (!itunes) return null\n  const { appId, appArgument } = itunes\n  let content = `app-id=${appId}`\n  if (appArgument) {\n    content += `, app-argument=${appArgument}`\n  }\n  return <meta name=\"apple-itunes-app\" content={content} />\n}\n\nexport function FacebookMeta({\n  facebook,\n}: {\n  facebook: ResolvedMetadata['facebook']\n}) {\n  if (!facebook) return null\n\n  const { appId, admins } = facebook\n\n  return MetaFilter([\n    appId ? <meta property=\"fb:app_id\" content={appId} /> : null,\n    ...(admins\n      ? admins.map((admin) => <meta property=\"fb:admins\" content={admin} />)\n      : []),\n  ])\n}\n\nexport function PinterestMeta({\n  pinterest,\n}: {\n  pinterest: ResolvedMetadata['pinterest']\n}) {\n  if (!pinterest || !pinterest.richPin) return null\n\n  const { richPin } = pinterest\n\n  return <meta property=\"pinterest-rich-pin\" content={richPin.toString()} />\n}\n\nconst formatDetectionKeys = [\n  'telephone',\n  'date',\n  'address',\n  'email',\n  'url',\n] as const\nexport function FormatDetectionMeta({\n  formatDetection,\n}: {\n  formatDetection: ResolvedMetadata['formatDetection']\n}) {\n  if (!formatDetection) return null\n  let content = ''\n  for (const key of formatDetectionKeys) {\n    if (key in formatDetection) {\n      if (content) content += ', '\n      content += `${key}=no`\n    }\n  }\n  return <meta name=\"format-detection\" content={content} />\n}\n\nexport function AppleWebAppMeta({\n  appleWebApp,\n}: {\n  appleWebApp: ResolvedMetadata['appleWebApp']\n}) {\n  if (!appleWebApp) return null\n\n  const { capable, title, startupImage, statusBarStyle } = appleWebApp\n\n  return MetaFilter([\n    capable ? Meta({ name: 'mobile-web-app-capable', content: 'yes' }) : null,\n    Meta({ name: 'apple-mobile-web-app-title', content: title }),\n    startupImage\n      ? startupImage.map((image) => (\n          <link\n            href={image.url}\n            media={image.media}\n            rel=\"apple-touch-startup-image\"\n          />\n        ))\n      : null,\n    statusBarStyle\n      ? Meta({\n          name: 'apple-mobile-web-app-status-bar-style',\n          content: statusBarStyle,\n        })\n      : null,\n  ])\n}\n\nexport function VerificationMeta({\n  verification,\n}: {\n  verification: ResolvedMetadata['verification']\n}) {\n  if (!verification) return null\n\n  return MetaFilter([\n    MultiMeta({\n      namePrefix: 'google-site-verification',\n      contents: verification.google,\n    }),\n    MultiMeta({ namePrefix: 'y_key', contents: verification.yahoo }),\n    MultiMeta({\n      namePrefix: 'yandex-verification',\n      contents: verification.yandex,\n    }),\n    MultiMeta({ namePrefix: 'me', contents: verification.me }),\n    ...(verification.other\n      ? Object.entries(verification.other).map(([key, value]) =>\n          MultiMeta({ namePrefix: key, contents: value })\n        )\n      : []),\n  ])\n}\n","import type { ResolvedMetadata } from '../types/metadata-interface'\nimport type { AlternateLinkDescriptor } from '../types/alternative-urls-types'\n\nimport React from 'react'\nimport { MetaFilter } from './meta'\n\nfunction AlternateLink({\n  descriptor,\n  ...props\n}: {\n  descriptor: AlternateLinkDescriptor\n} & React.LinkHTMLAttributes<HTMLLinkElement>) {\n  if (!descriptor.url) return null\n  return (\n    <link\n      {...props}\n      {...(descriptor.title && { title: descriptor.title })}\n      href={descriptor.url.toString()}\n    />\n  )\n}\n\nexport function AlternatesMetadata({\n  alternates,\n}: {\n  alternates: ResolvedMetadata['alternates']\n}) {\n  if (!alternates) return null\n\n  const { canonical, languages, media, types } = alternates\n\n  return MetaFilter([\n    canonical\n      ? AlternateLink({ rel: 'canonical', descriptor: canonical })\n      : null,\n    languages\n      ? Object.entries(languages).flatMap(([locale, descriptors]) =>\n          descriptors?.map((descriptor) =>\n            AlternateLink({ rel: 'alternate', hrefLang: locale, descriptor })\n          )\n        )\n      : null,\n    media\n      ? Object.entries(media).flatMap(([mediaName, descriptors]) =>\n          descriptors?.map((descriptor) =>\n            AlternateLink({ rel: 'alternate', media: mediaName, descriptor })\n          )\n        )\n      : null,\n    types\n      ? Object.entries(types).flatMap(([type, descriptors]) =>\n          descriptors?.map((descriptor) =>\n            AlternateLink({ rel: 'alternate', type, descriptor })\n          )\n        )\n      : null,\n  ])\n}\n","import type { ResolvedMetadata } from '../types/metadata-interface'\nimport type { TwitterAppDescriptor } from '../types/twitter-types'\n\nimport { Meta, MetaFilter, MultiMeta } from './meta'\n\nexport function OpenGraphMetadata({\n  openGraph,\n}: {\n  openGraph: ResolvedMetadata['openGraph']\n}) {\n  if (!openGraph) {\n    return null\n  }\n\n  let typedOpenGraph\n  if ('type' in openGraph) {\n    const openGraphType = openGraph.type\n    switch (openGraphType) {\n      case 'website':\n        typedOpenGraph = [Meta({ property: 'og:type', content: 'website' })]\n        break\n      case 'article':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'article' }),\n          Meta({\n            property: 'article:published_time',\n            content: openGraph.publishedTime?.toString(),\n          }),\n          Meta({\n            property: 'article:modified_time',\n            content: openGraph.modifiedTime?.toString(),\n          }),\n          Meta({\n            property: 'article:expiration_time',\n            content: openGraph.expirationTime?.toString(),\n          }),\n          MultiMeta({\n            propertyPrefix: 'article:author',\n            contents: openGraph.authors,\n          }),\n          Meta({ property: 'article:section', content: openGraph.section }),\n          MultiMeta({\n            propertyPrefix: 'article:tag',\n            contents: openGraph.tags,\n          }),\n        ]\n        break\n      case 'book':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'book' }),\n          Meta({ property: 'book:isbn', content: openGraph.isbn }),\n          Meta({\n            property: 'book:release_date',\n            content: openGraph.releaseDate,\n          }),\n          MultiMeta({\n            propertyPrefix: 'book:author',\n            contents: openGraph.authors,\n          }),\n          MultiMeta({ propertyPrefix: 'book:tag', contents: openGraph.tags }),\n        ]\n        break\n      case 'profile':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'profile' }),\n          Meta({\n            property: 'profile:first_name',\n            content: openGraph.firstName,\n          }),\n          Meta({ property: 'profile:last_name', content: openGraph.lastName }),\n          Meta({ property: 'profile:username', content: openGraph.username }),\n          Meta({ property: 'profile:gender', content: openGraph.gender }),\n        ]\n        break\n      case 'music.song':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'music.song' }),\n          Meta({\n            property: 'music:duration',\n            content: openGraph.duration?.toString(),\n          }),\n          MultiMeta({\n            propertyPrefix: 'music:album',\n            contents: openGraph.albums,\n          }),\n          MultiMeta({\n            propertyPrefix: 'music:musician',\n            contents: openGraph.musicians,\n          }),\n        ]\n        break\n      case 'music.album':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'music.album' }),\n          MultiMeta({\n            propertyPrefix: 'music:song',\n            contents: openGraph.songs,\n          }),\n          MultiMeta({\n            propertyPrefix: 'music:musician',\n            contents: openGraph.musicians,\n          }),\n          Meta({\n            property: 'music:release_date',\n            content: openGraph.releaseDate,\n          }),\n        ]\n        break\n      case 'music.playlist':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'music.playlist' }),\n          MultiMeta({\n            propertyPrefix: 'music:song',\n            contents: openGraph.songs,\n          }),\n          MultiMeta({\n            propertyPrefix: 'music:creator',\n            contents: openGraph.creators,\n          }),\n        ]\n        break\n      case 'music.radio_station':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'music.radio_station' }),\n          MultiMeta({\n            propertyPrefix: 'music:creator',\n            contents: openGraph.creators,\n          }),\n        ]\n        break\n\n      case 'video.movie':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'video.movie' }),\n          MultiMeta({\n            propertyPrefix: 'video:actor',\n            contents: openGraph.actors,\n          }),\n          MultiMeta({\n            propertyPrefix: 'video:director',\n            contents: openGraph.directors,\n          }),\n          MultiMeta({\n            propertyPrefix: 'video:writer',\n            contents: openGraph.writers,\n          }),\n          Meta({ property: 'video:duration', content: openGraph.duration }),\n          Meta({\n            property: 'video:release_date',\n            content: openGraph.releaseDate,\n          }),\n          MultiMeta({ propertyPrefix: 'video:tag', contents: openGraph.tags }),\n        ]\n        break\n      case 'video.episode':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'video.episode' }),\n          MultiMeta({\n            propertyPrefix: 'video:actor',\n            contents: openGraph.actors,\n          }),\n          MultiMeta({\n            propertyPrefix: 'video:director',\n            contents: openGraph.directors,\n          }),\n          MultiMeta({\n            propertyPrefix: 'video:writer',\n            contents: openGraph.writers,\n          }),\n          Meta({ property: 'video:duration', content: openGraph.duration }),\n          Meta({\n            property: 'video:release_date',\n            content: openGraph.releaseDate,\n          }),\n          MultiMeta({ propertyPrefix: 'video:tag', contents: openGraph.tags }),\n          Meta({ property: 'video:series', content: openGraph.series }),\n        ]\n        break\n      case 'video.tv_show':\n        typedOpenGraph = [\n          Meta({ property: 'og:type', content: 'video.tv_show' }),\n        ]\n        break\n      case 'video.other':\n        typedOpenGraph = [Meta({ property: 'og:type', content: 'video.other' })]\n        break\n\n      default:\n        const _exhaustiveCheck: never = openGraphType\n        throw new Error(`Invalid OpenGraph type: ${_exhaustiveCheck}`)\n    }\n  }\n\n  return MetaFilter([\n    Meta({ property: 'og:determiner', content: openGraph.determiner }),\n    Meta({ property: 'og:title', content: openGraph.title?.absolute }),\n    Meta({ property: 'og:description', content: openGraph.description }),\n    Meta({ property: 'og:url', content: openGraph.url?.toString() }),\n    Meta({ property: 'og:site_name', content: openGraph.siteName }),\n    Meta({ property: 'og:locale', content: openGraph.locale }),\n    Meta({ property: 'og:country_name', content: openGraph.countryName }),\n    Meta({ property: 'og:ttl', content: openGraph.ttl?.toString() }),\n    MultiMeta({ propertyPrefix: 'og:image', contents: openGraph.images }),\n    MultiMeta({ propertyPrefix: 'og:video', contents: openGraph.videos }),\n    MultiMeta({ propertyPrefix: 'og:audio', contents: openGraph.audio }),\n    MultiMeta({ propertyPrefix: 'og:email', contents: openGraph.emails }),\n    MultiMeta({\n      propertyPrefix: 'og:phone_number',\n      contents: openGraph.phoneNumbers,\n    }),\n    MultiMeta({\n      propertyPrefix: 'og:fax_number',\n      contents: openGraph.faxNumbers,\n    }),\n    MultiMeta({\n      propertyPrefix: 'og:locale:alternate',\n      contents: openGraph.alternateLocale,\n    }),\n    ...(typedOpenGraph ? typedOpenGraph : []),\n  ])\n}\n\nfunction TwitterAppItem({\n  app,\n  type,\n}: {\n  app: TwitterAppDescriptor\n  type: 'iphone' | 'ipad' | 'googleplay'\n}) {\n  return [\n    Meta({ name: `twitter:app:name:${type}`, content: app.name }),\n    Meta({ name: `twitter:app:id:${type}`, content: app.id[type] }),\n    Meta({\n      name: `twitter:app:url:${type}`,\n      content: app.url?.[type]?.toString(),\n    }),\n  ]\n}\n\nexport function TwitterMetadata({\n  twitter,\n}: {\n  twitter: ResolvedMetadata['twitter']\n}) {\n  if (!twitter) return null\n  const { card } = twitter\n\n  return MetaFilter([\n    Meta({ name: 'twitter:card', content: card }),\n    Meta({ name: 'twitter:site', content: twitter.site }),\n    Meta({ name: 'twitter:site:id', content: twitter.siteId }),\n    Meta({ name: 'twitter:creator', content: twitter.creator }),\n    Meta({ name: 'twitter:creator:id', content: twitter.creatorId }),\n    Meta({ name: 'twitter:title', content: twitter.title?.absolute }),\n    Meta({ name: 'twitter:description', content: twitter.description }),\n    MultiMeta({ namePrefix: 'twitter:image', contents: twitter.images }),\n    ...(card === 'player'\n      ? twitter.players.flatMap((player) => [\n          Meta({\n            name: 'twitter:player',\n            content: player.playerUrl.toString(),\n          }),\n          Meta({\n            name: 'twitter:player:stream',\n            content: player.streamUrl.toString(),\n          }),\n          Meta({ name: 'twitter:player:width', content: player.width }),\n          Meta({ name: 'twitter:player:height', content: player.height }),\n        ])\n      : []),\n    ...(card === 'app'\n      ? [\n          TwitterAppItem({ app: twitter.app, type: 'iphone' }),\n          TwitterAppItem({ app: twitter.app, type: 'ipad' }),\n          TwitterAppItem({ app: twitter.app, type: 'googleplay' }),\n        ]\n      : []),\n  ])\n}\n\nexport function AppLinksMeta({\n  appLinks,\n}: {\n  appLinks: ResolvedMetadata['appLinks']\n}) {\n  if (!appLinks) return null\n  return MetaFilter([\n    MultiMeta({ propertyPrefix: 'al:ios', contents: appLinks.ios }),\n    MultiMeta({ propertyPrefix: 'al:iphone', contents: appLinks.iphone }),\n    MultiMeta({ propertyPrefix: 'al:ipad', contents: appLinks.ipad }),\n    MultiMeta({ propertyPrefix: 'al:android', contents: appLinks.android }),\n    MultiMeta({\n      propertyPrefix: 'al:windows_phone',\n      contents: appLinks.windows_phone,\n    }),\n    MultiMeta({ propertyPrefix: 'al:windows', contents: appLinks.windows }),\n    MultiMeta({\n      propertyPrefix: 'al:windows_universal',\n      contents: appLinks.windows_universal,\n    }),\n    MultiMeta({ propertyPrefix: 'al:web', contents: appLinks.web }),\n  ])\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/lib/metadata/generate/icon-mark.js\"));\n","'use client'\n\n// This is a client component that only renders during SSR,\n// but will be replaced during streaming with an icon insertion script tag.\n// We don't want it to be presented anywhere so it's only visible during streaming,\n// right after the icon meta tags so that browser can pick it up as soon as it's rendered.\n// Note: we don't just emit the script here because we only need the script if it's not in the head,\n// and we need it to be hoistable alongside the other metadata but sync scripts are not hoistable.\nexport const IconMark = () => {\n  if (typeof window !== 'undefined') {\n    return null\n  }\n  return <meta name=\"«nxt-icon»\" />\n}\n","import type { ResolvedMetadata } from '../types/metadata-interface'\nimport type { Icon, IconDescriptor } from '../types/metadata-types'\nimport { IconMark } from './icon-mark'\n\nimport { MetaFilter } from './meta'\n\nfunction IconDescriptorLink({ icon }: { icon: IconDescriptor }) {\n  const { url, rel = 'icon', ...props } = icon\n\n  return <link rel={rel} href={url.toString()} {...props} />\n}\n\nfunction IconLink({ rel, icon }: { rel?: string; icon: Icon }) {\n  if (typeof icon === 'object' && !(icon instanceof URL)) {\n    if (!icon.rel && rel) icon.rel = rel\n    return IconDescriptorLink({ icon })\n  } else {\n    const href = icon.toString()\n    return <link rel={rel} href={href} />\n  }\n}\n\nexport function IconsMetadata({ icons }: { icons: ResolvedMetadata['icons'] }) {\n  if (!icons) return null\n\n  const shortcutList = icons.shortcut\n  const iconList = icons.icon\n  const appleList = icons.apple\n  const otherList = icons.other\n\n  const hasIcon = Boolean(\n    shortcutList?.length ||\n      iconList?.length ||\n      appleList?.length ||\n      otherList?.length\n  )\n  if (!hasIcon) return null\n\n  return MetaFilter([\n    shortcutList\n      ? shortcutList.map((icon) => IconLink({ rel: 'shortcut icon', icon }))\n      : null,\n    iconList ? iconList.map((icon) => IconLink({ rel: 'icon', icon })) : null,\n    appleList\n      ? appleList.map((icon) => IconLink({ rel: 'apple-touch-icon', icon }))\n      : null,\n    otherList ? otherList.map((icon) => IconDescriptorLink({ icon })) : null,\n    hasIcon ? <IconMark /> : null,\n  ])\n}\n","import type {\n  ResolvedMetadata,\n  ResolvedViewport,\n} from './types/metadata-interface'\n\nexport function createDefaultViewport(): ResolvedViewport {\n  return {\n    // name=viewport\n    width: 'device-width',\n    initialScale: 1,\n    // visual metadata\n    themeColor: null,\n    colorScheme: null,\n  }\n}\n\nexport function createDefaultMetadata(): ResolvedMetadata {\n  return {\n    // Deprecated ones\n    viewport: null,\n    themeColor: null,\n    colorScheme: null,\n\n    metadataBase: null,\n    // Other values are all null\n    title: null,\n    description: null,\n    applicationName: null,\n    authors: null,\n    generator: null,\n    keywords: null,\n    referrer: null,\n    creator: null,\n    publisher: null,\n    robots: null,\n    manifest: null,\n    alternates: {\n      canonical: null,\n      languages: null,\n      media: null,\n      types: null,\n    },\n    icons: null,\n    openGraph: null,\n    twitter: null,\n    verification: {},\n    appleWebApp: null,\n    formatDetection: null,\n    itunes: null,\n    facebook: null,\n    pinterest: null,\n    abstract: null,\n    appLinks: null,\n    archives: null,\n    assets: null,\n    bookmarks: null,\n    category: null,\n    classification: null,\n    pagination: {\n      previous: null,\n      next: null,\n    },\n    other: {},\n  }\n}\n","/**\n * This module is for next.js server internal usage of path module.\n * It will use native path module for nodejs runtime.\n * It will use path-browserify polyfill for edge runtime.\n */\nlet path\n\nif (process.env.NEXT_RUNTIME === 'edge') {\n  path = require('next/dist/compiled/path-browserify')\n} else {\n  path = require('path')\n}\n\nmodule.exports = path\n","import path from '../../../shared/lib/isomorphic/path'\nimport type { MetadataContext } from '../types/resolvers'\n\nfunction isStringOrURL(icon: any): icon is string | URL {\n  return typeof icon === 'string' || icon instanceof URL\n}\n\nfunction createLocalMetadataBase() {\n  return new URL(`http://localhost:${process.env.PORT || 3000}`)\n}\n\nfunction getPreviewDeploymentUrl(): URL | undefined {\n  const origin = process.env.VERCEL_BRANCH_URL || process.env.VERCEL_URL\n  return origin ? new URL(`https://${origin}`) : undefined\n}\n\nfunction getProductionDeploymentUrl(): URL | undefined {\n  const origin = process.env.VERCEL_PROJECT_PRODUCTION_URL\n  return origin ? new URL(`https://${origin}`) : undefined\n}\n\n/**\n * Given an optional user-provided metadataBase, this determines what the metadataBase should\n * fallback to. Specifically:\n * - In dev, it should always be localhost\n * - In Vercel preview builds, it should be the preview build ID\n * - In start, it should be the user-provided metadataBase value. Otherwise,\n * it'll fall back to the Vercel production deployment, and localhost as a last resort.\n */\nexport function getSocialImageMetadataBaseFallback(\n  metadataBase: URL | null\n): URL {\n  const defaultMetadataBase = createLocalMetadataBase()\n  const previewDeploymentUrl = getPreviewDeploymentUrl()\n  const productionDeploymentUrl = getProductionDeploymentUrl()\n\n  let fallbackMetadataBase\n  if (process.env.NODE_ENV === 'development') {\n    fallbackMetadataBase = defaultMetadataBase\n  } else {\n    fallbackMetadataBase =\n      process.env.NODE_ENV === 'production' &&\n      previewDeploymentUrl &&\n      process.env.VERCEL_ENV === 'preview'\n        ? previewDeploymentUrl\n        : metadataBase || productionDeploymentUrl || defaultMetadataBase\n  }\n\n  return fallbackMetadataBase\n}\n\nfunction resolveUrl(url: null | undefined, metadataBase: URL | null): null\nfunction resolveUrl(url: string | URL, metadataBase: URL | null): URL\nfunction resolveUrl(\n  url: string | URL | null | undefined,\n  metadataBase: URL | null\n): URL | null\nfunction resolveUrl(\n  url: string | URL | null | undefined,\n  metadataBase: URL | null\n): URL | null {\n  if (url instanceof URL) return url\n  if (!url) return null\n\n  try {\n    // If we can construct a URL instance from url, ignore metadataBase\n    const parsedUrl = new URL(url)\n    return parsedUrl\n  } catch {}\n\n  if (!metadataBase) {\n    metadataBase = createLocalMetadataBase()\n  }\n\n  // Handle relative or absolute paths\n  const pathname = metadataBase.pathname || ''\n  const joinedPath = path.posix.join(pathname, url)\n\n  return new URL(joinedPath, metadataBase)\n}\n\n// Resolve with `pathname` if `url` is a relative path.\nfunction resolveRelativeUrl(url: string | URL, pathname: string): string | URL {\n  if (typeof url === 'string' && url.startsWith('./')) {\n    return path.posix.resolve(pathname, url)\n  }\n  return url\n}\n\n// The regex is matching logic from packages/next/src/lib/load-custom-routes.ts\nconst FILE_REGEX =\n  /^(?:\\/((?!\\.well-known(?:\\/.*)?)(?:[^/]+\\/)*[^/]+\\.\\w+))(\\/?|$)/i\nfunction isFilePattern(pathname: string): boolean {\n  return FILE_REGEX.test(pathname)\n}\n\n// Resolve `pathname` if `url` is a relative path the compose with `metadataBase`.\nfunction resolveAbsoluteUrlWithPathname(\n  url: string | URL,\n  metadataBase: URL | null,\n  pathname: string,\n  { trailingSlash }: MetadataContext\n): string {\n  // Resolve url with pathname that always starts with `/`\n  url = resolveRelativeUrl(url, pathname)\n\n  // Convert string url or URL instance to absolute url string,\n  // if there's case needs to be resolved with metadataBase\n  let resolvedUrl = ''\n  const result = metadataBase ? resolveUrl(url, metadataBase) : url\n  if (typeof result === 'string') {\n    resolvedUrl = result\n  } else {\n    resolvedUrl = result.pathname === '/' ? result.origin : result.href\n  }\n\n  // Add trailing slash if it's enabled for urls matches the condition\n  // - Not external, same origin with metadataBase\n  // - Doesn't have query\n  if (trailingSlash && !resolvedUrl.endsWith('/')) {\n    let isRelative = resolvedUrl.startsWith('/')\n    let hasQuery = resolvedUrl.includes('?')\n    let isExternal = false\n    let isFileUrl = false\n\n    if (!isRelative) {\n      try {\n        const parsedUrl = new URL(resolvedUrl)\n        isExternal =\n          metadataBase != null && parsedUrl.origin !== metadataBase.origin\n        isFileUrl = isFilePattern(parsedUrl.pathname)\n      } catch {\n        // If it's not a valid URL, treat it as external\n        isExternal = true\n      }\n      if (\n        // Do not apply trailing slash for file like urls, aligning with the behavior with `trailingSlash`\n        !isFileUrl &&\n        !isExternal &&\n        !hasQuery\n      )\n        return `${resolvedUrl}/`\n    }\n  }\n\n  return resolvedUrl\n}\n\nexport {\n  isStringOrURL,\n  resolveUrl,\n  resolveRelativeUrl,\n  resolveAbsoluteUrlWithPathname,\n}\n","import type { Metadata } from '../types/metadata-interface'\nimport type { AbsoluteTemplateString } from '../types/metadata-types'\n\nfunction resolveTitleTemplate(\n  template: string | null | undefined,\n  title: string\n) {\n  return template ? template.replace(/%s/g, title) : title\n}\n\nexport function resolveTitle(\n  title: Metadata['title'],\n  stashedTemplate: string | null | undefined\n): AbsoluteTemplateString {\n  let resolved\n  const template =\n    typeof title !== 'string' && title && 'template' in title\n      ? title.template\n      : null\n\n  if (typeof title === 'string') {\n    resolved = resolveTitleTemplate(stashedTemplate, title)\n  } else if (title) {\n    if ('default' in title) {\n      resolved = resolveTitleTemplate(stashedTemplate, title.default)\n    }\n    if ('absolute' in title && title.absolute) {\n      resolved = title.absolute\n    }\n  }\n\n  if (title && typeof title !== 'string') {\n    return {\n      template,\n      absolute: resolved || '',\n    }\n  } else {\n    return { absolute: resolved || title || '', template }\n  }\n}\n","import type { UrlWithParsedQuery } from 'url'\nimport { NEXT_RSC_UNION_QUERY } from '../client/components/app-router-headers'\n\nconst DUMMY_ORIGIN = 'http://n'\n\nexport function isFullStringUrl(url: string) {\n  return /https?:\\/\\//.test(url)\n}\n\nexport function parseUrl(url: string): URL | undefined {\n  let parsed: URL | undefined = undefined\n  try {\n    parsed = new URL(url, DUMMY_ORIGIN)\n  } catch {}\n  return parsed\n}\n\nexport function parseReqUrl(url: string): UrlWithParsedQuery | undefined {\n  const parsedUrl: URL | undefined = parseUrl(url)\n\n  if (!parsedUrl) {\n    return\n  }\n\n  const query: Record<string, string | string[]> = {}\n\n  for (const key of parsedUrl.searchParams.keys()) {\n    const values = parsedUrl.searchParams.getAll(key)\n    query[key] = values.length > 1 ? values : values[0]\n  }\n\n  const legacyUrl: UrlWithParsedQuery = {\n    query,\n    hash: parsedUrl.hash,\n    search: parsedUrl.search,\n    path: parsedUrl.pathname,\n    pathname: parsedUrl.pathname,\n    href: `${parsedUrl.pathname}${parsedUrl.search}${parsedUrl.hash}`,\n    host: '',\n    hostname: '',\n    auth: '',\n    protocol: '',\n    slashes: null,\n    port: '',\n  }\n  return legacyUrl\n}\n\nexport function stripNextRscUnionQuery(relativeUrl: string): string {\n  const urlInstance = new URL(relativeUrl, DUMMY_ORIGIN)\n  urlInstance.searchParams.delete(NEXT_RSC_UNION_QUERY)\n\n  return urlInstance.pathname + urlInstance.search\n}\n","// ISC License\n\n// Copyright (c) 2021 Alexey Raspopov, Kostiantyn Denysov, Anton Verinov\n\n// Permission to use, copy, modify, and/or distribute this software for any\n// purpose with or without fee is hereby granted, provided that the above\n// copyright notice and this permission notice appear in all copies.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n// WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n// MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n// ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n// WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n// ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n// OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n//\n// https://github.com/alexeyraspopov/picocolors/blob/b6261487e7b81aaab2440e397a356732cad9e342/picocolors.js#L1\n\nconst { env, stdout } = globalThis?.process ?? {}\n\nconst enabled =\n  env &&\n  !env.NO_COLOR &&\n  (env.FORCE_COLOR || (stdout?.isTTY && !env.CI && env.TERM !== 'dumb'))\n\nconst replaceClose = (\n  str: string,\n  close: string,\n  replace: string,\n  index: number\n): string => {\n  const start = str.substring(0, index) + replace\n  const end = str.substring(index + close.length)\n  const nextIndex = end.indexOf(close)\n  return ~nextIndex\n    ? start + replaceClose(end, close, replace, nextIndex)\n    : start + end\n}\n\nconst formatter = (open: string, close: string, replace = open) => {\n  if (!enabled) return String\n  return (input: string) => {\n    const string = '' + input\n    const index = string.indexOf(close, open.length)\n    return ~index\n      ? open + replaceClose(string, close, replace, index) + close\n      : open + string + close\n  }\n}\n\nexport const reset = enabled ? (s: string) => `\\x1b[0m${s}\\x1b[0m` : String\nexport const bold = formatter('\\x1b[1m', '\\x1b[22m', '\\x1b[22m\\x1b[1m')\nexport const dim = formatter('\\x1b[2m', '\\x1b[22m', '\\x1b[22m\\x1b[2m')\nexport const italic = formatter('\\x1b[3m', '\\x1b[23m')\nexport const underline = formatter('\\x1b[4m', '\\x1b[24m')\nexport const inverse = formatter('\\x1b[7m', '\\x1b[27m')\nexport const hidden = formatter('\\x1b[8m', '\\x1b[28m')\nexport const strikethrough = formatter('\\x1b[9m', '\\x1b[29m')\nexport const black = formatter('\\x1b[30m', '\\x1b[39m')\nexport const red = formatter('\\x1b[31m', '\\x1b[39m')\nexport const green = formatter('\\x1b[32m', '\\x1b[39m')\nexport const yellow = formatter('\\x1b[33m', '\\x1b[39m')\nexport const blue = formatter('\\x1b[34m', '\\x1b[39m')\nexport const magenta = formatter('\\x1b[35m', '\\x1b[39m')\nexport const purple = formatter('\\x1b[38;2;173;127;168m', '\\x1b[39m')\nexport const cyan = formatter('\\x1b[36m', '\\x1b[39m')\nexport const white = formatter('\\x1b[37m', '\\x1b[39m')\nexport const gray = formatter('\\x1b[90m', '\\x1b[39m')\nexport const bgBlack = formatter('\\x1b[40m', '\\x1b[49m')\nexport const bgRed = formatter('\\x1b[41m', '\\x1b[49m')\nexport const bgGreen = formatter('\\x1b[42m', '\\x1b[49m')\nexport const bgYellow = formatter('\\x1b[43m', '\\x1b[49m')\nexport const bgBlue = formatter('\\x1b[44m', '\\x1b[49m')\nexport const bgMagenta = formatter('\\x1b[45m', '\\x1b[49m')\nexport const bgCyan = formatter('\\x1b[46m', '\\x1b[49m')\nexport const bgWhite = formatter('\\x1b[47m', '\\x1b[49m')\n","export class LRUCache<T> {\n  private cache: Map<string, T>\n  private sizes: Map<string, number>\n  private totalSize: number\n  private maxSize: number\n  private calculateSize: (value: T) => number\n\n  constructor(maxSize: number, calculateSize?: (value: T) => number) {\n    this.cache = new Map()\n    this.sizes = new Map()\n    this.totalSize = 0\n    this.maxSize = maxSize\n    this.calculateSize = calculateSize || (() => 1)\n  }\n\n  set(key?: string | null, value?: T): void {\n    if (!key || !value) return\n\n    const size = this.calculateSize(value)\n\n    if (size > this.maxSize) {\n      console.warn('Single item size exceeds maxSize')\n      return\n    }\n\n    if (this.cache.has(key)) {\n      this.totalSize -= this.sizes.get(key) || 0\n    }\n\n    this.cache.set(key, value)\n    this.sizes.set(key, size)\n    this.totalSize += size\n\n    this.touch(key)\n  }\n\n  has(key?: string | null): boolean {\n    if (!key) return false\n\n    this.touch(key)\n    return Boolean(this.cache.get(key))\n  }\n\n  get(key?: string | null): T | undefined {\n    if (!key) return\n\n    const value = this.cache.get(key)\n    if (value === undefined) {\n      return undefined\n    }\n\n    this.touch(key)\n    return value\n  }\n\n  private touch(key: string): void {\n    const value = this.cache.get(key)\n    if (value !== undefined) {\n      this.cache.delete(key)\n      this.cache.set(key, value)\n      this.evictIfNecessary()\n    }\n  }\n\n  private evictIfNecessary(): void {\n    while (this.totalSize > this.maxSize && this.cache.size > 0) {\n      this.evictLeastRecentlyUsed()\n    }\n  }\n\n  private evictLeastRecentlyUsed(): void {\n    const lruKey = this.cache.keys().next().value\n    if (lruKey !== undefined) {\n      const lruSize = this.sizes.get(lruKey) || 0\n      this.totalSize -= lruSize\n      this.cache.delete(lruKey)\n      this.sizes.delete(lruKey)\n    }\n  }\n\n  reset() {\n    this.cache.clear()\n    this.sizes.clear()\n    this.totalSize = 0\n  }\n\n  keys() {\n    return [...this.cache.keys()]\n  }\n\n  remove(key: string): void {\n    if (this.cache.has(key)) {\n      this.totalSize -= this.sizes.get(key) || 0\n      this.cache.delete(key)\n      this.sizes.delete(key)\n    }\n  }\n\n  clear(): void {\n    this.cache.clear()\n    this.sizes.clear()\n    this.totalSize = 0\n  }\n\n  get size(): number {\n    return this.cache.size\n  }\n\n  get currentSize(): number {\n    return this.totalSize\n  }\n}\n","import { bold, green, magenta, red, yellow, white } from '../../lib/picocolors'\nimport { LRUCache } from '../../server/lib/lru-cache'\n\nexport const prefixes = {\n  wait: white(bold('○')),\n  error: red(bold('⨯')),\n  warn: yellow(bold('⚠')),\n  ready: '▲', // no color\n  info: white(bold(' ')),\n  event: green(bold('✓')),\n  trace: magenta(bold('»')),\n} as const\n\nconst LOGGING_METHOD = {\n  log: 'log',\n  warn: 'warn',\n  error: 'error',\n} as const\n\nfunction prefixedLog(prefixType: keyof typeof prefixes, ...message: any[]) {\n  if ((message[0] === '' || message[0] === undefined) && message.length === 1) {\n    message.shift()\n  }\n\n  const consoleMethod: keyof typeof LOGGING_METHOD =\n    prefixType in LOGGING_METHOD\n      ? LOGGING_METHOD[prefixType as keyof typeof LOGGING_METHOD]\n      : 'log'\n\n  const prefix = prefixes[prefixType]\n  // If there's no message, don't print the prefix but a new line\n  if (message.length === 0) {\n    console[consoleMethod]('')\n  } else {\n    // Ensure if there's ANSI escape codes it's concatenated into one string.\n    // Chrome DevTool can only handle color if it's in one string.\n    if (message.length === 1 && typeof message[0] === 'string') {\n      console[consoleMethod](' ' + prefix + ' ' + message[0])\n    } else {\n      console[consoleMethod](' ' + prefix, ...message)\n    }\n  }\n}\n\nexport function bootstrap(...message: string[]) {\n  // logging format: ' <prefix> <message>'\n  // e.g. ' ✓ Compiled successfully'\n  // Add spaces to align with the indent of other logs\n  console.log('   ' + message.join(' '))\n}\n\nexport function wait(...message: any[]) {\n  prefixedLog('wait', ...message)\n}\n\nexport function error(...message: any[]) {\n  prefixedLog('error', ...message)\n}\n\nexport function warn(...message: any[]) {\n  prefixedLog('warn', ...message)\n}\n\nexport function ready(...message: any[]) {\n  prefixedLog('ready', ...message)\n}\n\nexport function info(...message: any[]) {\n  prefixedLog('info', ...message)\n}\n\nexport function event(...message: any[]) {\n  prefixedLog('event', ...message)\n}\n\nexport function trace(...message: any[]) {\n  prefixedLog('trace', ...message)\n}\n\nconst warnOnceCache = new LRUCache<string>(10_000, (value) => value.length)\nexport function warnOnce(...message: any[]) {\n  const key = message.join(' ')\n  if (!warnOnceCache.has(key)) {\n    warnOnceCache.set(key, key)\n    warn(...message)\n  }\n}\n","import type { ResolvedMetadata } from '../types/metadata-interface'\nimport type {\n  OpenGraphType,\n  OpenGraph,\n  ResolvedOpenGraph,\n} from '../types/opengraph-types'\nimport type {\n  FieldResolverExtraArgs,\n  AsyncFieldResolverExtraArgs,\n  MetadataContext,\n} from '../types/resolvers'\nimport type { ResolvedTwitterMetadata, Twitter } from '../types/twitter-types'\nimport { resolveArray, resolveAsArrayOrUndefined } from '../generate/utils'\nimport {\n  getSocialImageMetadataBaseFallback,\n  isStringOrURL,\n  resolveUrl,\n  resolveAbsoluteUrlWithPathname,\n} from './resolve-url'\nimport { resolveTitle } from './resolve-title'\nimport { isFullStringUrl } from '../../url'\nimport { warnOnce } from '../../../build/output/log'\n\ntype FlattenArray<T> = T extends (infer U)[] ? U : T\ntype ResolvedMetadataBase = ResolvedMetadata['metadataBase']\n\nconst OgTypeFields = {\n  article: ['authors', 'tags'],\n  song: ['albums', 'musicians'],\n  playlist: ['albums', 'musicians'],\n  radio: ['creators'],\n  video: ['actors', 'directors', 'writers', 'tags'],\n  basic: [\n    'emails',\n    'phoneNumbers',\n    'faxNumbers',\n    'alternateLocale',\n    'audio',\n    'videos',\n  ],\n} as const\n\nfunction resolveAndValidateImage(\n  item: FlattenArray<OpenGraph['images'] | Twitter['images']>,\n  metadataBase: ResolvedMetadataBase,\n  isStaticMetadataRouteFile: boolean | undefined\n) {\n  if (!item) return undefined\n  const isItemUrl = isStringOrURL(item)\n  const inputUrl = isItemUrl ? item : item.url\n  if (!inputUrl) return undefined\n\n  // process.env.VERCEL is set to \"1\" when System Environment Variables are\n  // exposed. When exposed, validation is not necessary since we are falling back to\n  // process.env.VERCEL_PROJECT_PRODUCTION_URL, process.env.VERCEL_BRANCH_URL, or\n  // process.env.VERCEL_URL for the `metadataBase`. process.env.VERCEL is undefined\n  // when System Environment Variables are not exposed. When not exposed, we cannot\n  // detect in the build environment if the deployment is a Vercel deployment or not.\n  //\n  // x-ref: https://vercel.com/docs/projects/environment-variables/system-environment-variables#system-environment-variables\n  const isUsingVercelSystemEnvironmentVariables = Boolean(process.env.VERCEL)\n\n  const isRelativeUrl =\n    typeof inputUrl === 'string' && !isFullStringUrl(inputUrl)\n\n  // When no explicit metadataBase is specified by the user, we'll override it with the fallback metadata\n  // under the following conditions:\n  // - The provided URL is relative (ie ./og-image).\n  // - The image is statically generated by Next.js (such as the special `opengraph-image` route)\n  // In both cases, we want to ensure that across all environments, the ogImage is a fully qualified URL.\n  // In the `opengraph-image` case, since the user isn't explicitly passing a relative path, this ensures\n  // the ogImage will be properly discovered across different environments without the user needing to\n  // have a bunch of `process.env` checks when defining their `metadataBase`.\n  if (isRelativeUrl && (!metadataBase || isStaticMetadataRouteFile)) {\n    const fallbackMetadataBase =\n      getSocialImageMetadataBaseFallback(metadataBase)\n\n    // When not using Vercel environment variables for URL injection, we aren't able to determine\n    // a fallback value for `metadataBase`. For self-hosted setups, we want to warn\n    // about this since the only fallback we'll be able to generate is `localhost`.\n    // In development, we'll only warn for relative metadata that isn't part of the static\n    // metadata conventions (eg `opengraph-image`), as otherwise it's currently very noisy\n    // for common cases. Eventually we should remove this warning all together in favor of\n    // devtools.\n    const shouldWarn =\n      !isUsingVercelSystemEnvironmentVariables &&\n      !metadataBase &&\n      (process.env.NODE_ENV === 'production' || !isStaticMetadataRouteFile)\n\n    if (shouldWarn) {\n      warnOnce(\n        `metadataBase property in metadata export is not set for resolving social open graph or twitter images, using \"${fallbackMetadataBase.origin}\". See https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadatabase`\n      )\n    }\n\n    metadataBase = fallbackMetadataBase\n  }\n\n  return isItemUrl\n    ? {\n        url: resolveUrl(inputUrl, metadataBase),\n      }\n    : {\n        ...item,\n        // Update image descriptor url\n        url: resolveUrl(inputUrl, metadataBase),\n      }\n}\n\nexport function resolveImages(\n  images: Twitter['images'],\n  metadataBase: ResolvedMetadataBase,\n  isStaticMetadataRouteFile: boolean\n): NonNullable<ResolvedMetadata['twitter']>['images']\nexport function resolveImages(\n  images: OpenGraph['images'],\n  metadataBase: ResolvedMetadataBase,\n  isStaticMetadataRouteFile: boolean\n): NonNullable<ResolvedMetadata['openGraph']>['images']\nexport function resolveImages(\n  images: OpenGraph['images'] | Twitter['images'],\n  metadataBase: ResolvedMetadataBase,\n  isStaticMetadataRouteFile: boolean\n):\n  | NonNullable<ResolvedMetadata['twitter']>['images']\n  | NonNullable<ResolvedMetadata['openGraph']>['images'] {\n  const resolvedImages = resolveAsArrayOrUndefined(images)\n  if (!resolvedImages) return resolvedImages\n\n  const nonNullableImages = []\n  for (const item of resolvedImages) {\n    const resolvedItem = resolveAndValidateImage(\n      item,\n      metadataBase,\n      isStaticMetadataRouteFile\n    )\n    if (!resolvedItem) continue\n\n    nonNullableImages.push(resolvedItem)\n  }\n\n  return nonNullableImages\n}\n\nconst ogTypeToFields: Record<string, readonly string[]> = {\n  article: OgTypeFields.article,\n  book: OgTypeFields.article,\n  'music.song': OgTypeFields.song,\n  'music.album': OgTypeFields.song,\n  'music.playlist': OgTypeFields.playlist,\n  'music.radio_station': OgTypeFields.radio,\n  'video.movie': OgTypeFields.video,\n  'video.episode': OgTypeFields.video,\n}\n\nfunction getFieldsByOgType(ogType: OpenGraphType | undefined) {\n  if (!ogType || !(ogType in ogTypeToFields)) return OgTypeFields.basic\n  return ogTypeToFields[ogType].concat(OgTypeFields.basic)\n}\n\nexport const resolveOpenGraph: AsyncFieldResolverExtraArgs<\n  'openGraph',\n  [ResolvedMetadataBase, Promise<string>, MetadataContext, string | null]\n> = async (\n  openGraph,\n  metadataBase,\n  pathname,\n  metadataContext,\n  titleTemplate\n) => {\n  if (!openGraph) return null\n\n  function resolveProps(target: ResolvedOpenGraph, og: OpenGraph) {\n    const ogType = og && 'type' in og ? og.type : undefined\n    const keys = getFieldsByOgType(ogType)\n    for (const k of keys) {\n      const key = k as keyof ResolvedOpenGraph\n      if (key in og && key !== 'url') {\n        const value = og[key]\n        // TODO: improve typing inferring\n        ;(target as any)[key] = value ? resolveArray(value) : null\n      }\n    }\n    target.images = resolveImages(\n      og.images,\n      metadataBase,\n      metadataContext.isStaticMetadataRouteFile\n    )\n  }\n\n  const resolved = {\n    ...openGraph,\n    title: resolveTitle(openGraph.title, titleTemplate),\n  } as ResolvedOpenGraph\n  resolveProps(resolved, openGraph)\n\n  resolved.url = openGraph.url\n    ? resolveAbsoluteUrlWithPathname(\n        openGraph.url,\n        metadataBase,\n        await pathname,\n        metadataContext\n      )\n    : null\n\n  return resolved\n}\n\nconst TwitterBasicInfoKeys = [\n  'site',\n  'siteId',\n  'creator',\n  'creatorId',\n  'description',\n] as const\n\nexport const resolveTwitter: FieldResolverExtraArgs<\n  'twitter',\n  [ResolvedMetadataBase, MetadataContext, string | null]\n> = (twitter, metadataBase, metadataContext, titleTemplate) => {\n  if (!twitter) return null\n  let card = 'card' in twitter ? twitter.card : undefined\n  const resolved = {\n    ...twitter,\n    title: resolveTitle(twitter.title, titleTemplate),\n  } as ResolvedTwitterMetadata\n  for (const infoKey of TwitterBasicInfoKeys) {\n    resolved[infoKey] = twitter[infoKey] || null\n  }\n\n  resolved.images = resolveImages(\n    twitter.images,\n    metadataBase,\n    metadataContext.isStaticMetadataRouteFile\n  )\n\n  card = card || (resolved.images?.length ? 'summary_large_image' : 'summary')\n  resolved.card = card\n\n  if ('card' in resolved) {\n    switch (resolved.card) {\n      case 'player': {\n        resolved.players = resolveAsArrayOrUndefined(resolved.players) || []\n        break\n      }\n      case 'app': {\n        resolved.app = resolved.app || {}\n        break\n      }\n      default:\n        break\n    }\n  }\n\n  return resolved\n}\n","import type { AppDirModules } from '../../build/webpack/loaders/next-app-loader'\nimport { DEFAULT_SEGMENT_KEY } from '../../shared/lib/segment'\n\n/**\n * LoaderTree is generated in next-app-loader.\n */\nexport type LoaderTree = [\n  segment: string,\n  parallelRoutes: { [parallelRouterKey: string]: LoaderTree },\n  modules: AppDirModules,\n]\n\nexport async function getLayoutOrPageModule(loaderTree: LoaderTree) {\n  const { layout, page, defaultPage } = loaderTree[2]\n  const isLayout = typeof layout !== 'undefined'\n  const isPage = typeof page !== 'undefined'\n  const isDefaultPage =\n    typeof defaultPage !== 'undefined' && loaderTree[0] === DEFAULT_SEGMENT_KEY\n\n  let mod = undefined\n  let modType: 'layout' | 'page' | undefined = undefined\n  let filePath = undefined\n\n  if (isLayout) {\n    mod = await layout[0]()\n    modType = 'layout'\n    filePath = layout[1]\n  } else if (isPage) {\n    mod = await page[0]()\n    modType = 'page'\n    filePath = page[1]\n  } else if (isDefaultPage) {\n    mod = await defaultPage[0]()\n    modType = 'page'\n    filePath = defaultPage[1]\n  }\n\n  return { mod, modType, filePath }\n}\n\nexport async function getComponentTypeModule(\n  loaderTree: LoaderTree,\n  moduleType: 'layout' | 'not-found' | 'forbidden' | 'unauthorized'\n) {\n  const { [moduleType]: module } = loaderTree[2]\n  if (typeof module !== 'undefined') {\n    return await module[0]()\n  }\n  return undefined\n}\n","export function interopDefault(mod: any) {\n  return mod.default || mod\n}\n","import type {\n  AlternateLinkDescriptor,\n  ResolvedAlternateURLs,\n} from '../types/alternative-urls-types'\nimport type {\n  Metadata,\n  ResolvedMetadata,\n  Viewport,\n} from '../types/metadata-interface'\nimport type { ResolvedVerification } from '../types/metadata-types'\nimport type {\n  FieldResolver,\n  AsyncFieldResolverExtraArgs,\n  MetadataContext,\n} from '../types/resolvers'\nimport { resolveAsArrayOrUndefined } from '../generate/utils'\nimport { resolveAbsoluteUrlWithPathname } from './resolve-url'\n\nfunction resolveAlternateUrl(\n  url: string | URL,\n  metadataBase: URL | null,\n  pathname: string,\n  metadataContext: MetadataContext\n) {\n  // If alter native url is an URL instance,\n  // we treat it as a URL base and resolve with current pathname\n  if (url instanceof URL) {\n    const newUrl = new URL(pathname, url)\n    url.searchParams.forEach((value, key) =>\n      newUrl.searchParams.set(key, value)\n    )\n    url = newUrl\n  }\n  return resolveAbsoluteUrlWithPathname(\n    url,\n    metadataBase,\n    pathname,\n    metadataContext\n  )\n}\n\nexport const resolveThemeColor: FieldResolver<'themeColor', Viewport> = (\n  themeColor\n) => {\n  if (!themeColor) return null\n  const themeColorDescriptors: Viewport['themeColor'] = []\n\n  resolveAsArrayOrUndefined(themeColor)?.forEach((descriptor) => {\n    if (typeof descriptor === 'string')\n      themeColorDescriptors.push({ color: descriptor })\n    else if (typeof descriptor === 'object')\n      themeColorDescriptors.push({\n        color: descriptor.color,\n        media: descriptor.media,\n      })\n  })\n\n  return themeColorDescriptors\n}\n\nasync function resolveUrlValuesOfObject(\n  obj:\n    | Record<\n        string,\n        string | URL | AlternateLinkDescriptor[] | null | undefined\n      >\n    | null\n    | undefined,\n  metadataBase: ResolvedMetadata['metadataBase'],\n  pathname: Promise<string>,\n  metadataContext: MetadataContext\n): Promise<null | Record<string, AlternateLinkDescriptor[]>> {\n  if (!obj) return null\n\n  const result: Record<string, AlternateLinkDescriptor[]> = {}\n  for (const [key, value] of Object.entries(obj)) {\n    if (typeof value === 'string' || value instanceof URL) {\n      const pathnameForUrl = await pathname\n      result[key] = [\n        {\n          url: resolveAlternateUrl(\n            value,\n            metadataBase,\n            pathnameForUrl,\n            metadataContext\n          ),\n        },\n      ]\n    } else if (value && value.length) {\n      result[key] = []\n      const pathnameForUrl = await pathname\n      value.forEach((item, index) => {\n        const url = resolveAlternateUrl(\n          item.url,\n          metadataBase,\n          pathnameForUrl,\n          metadataContext\n        )\n        result[key][index] = {\n          url,\n          title: item.title,\n        }\n      })\n    }\n  }\n  return result\n}\n\nasync function resolveCanonicalUrl(\n  urlOrDescriptor: string | URL | null | AlternateLinkDescriptor | undefined,\n  metadataBase: URL | null,\n  pathname: Promise<string>,\n  metadataContext: MetadataContext\n): Promise<null | AlternateLinkDescriptor> {\n  if (!urlOrDescriptor) return null\n\n  const url =\n    typeof urlOrDescriptor === 'string' || urlOrDescriptor instanceof URL\n      ? urlOrDescriptor\n      : urlOrDescriptor.url\n\n  const pathnameForUrl = await pathname\n\n  // Return string url because structureClone can't handle URL instance\n  return {\n    url: resolveAlternateUrl(\n      url,\n      metadataBase,\n      pathnameForUrl,\n      metadataContext\n    ),\n  }\n}\n\nexport const resolveAlternates: AsyncFieldResolverExtraArgs<\n  'alternates',\n  [ResolvedMetadata['metadataBase'], Promise<string>, MetadataContext]\n> = async (alternates, metadataBase, pathname, context) => {\n  if (!alternates) return null\n\n  const canonical = await resolveCanonicalUrl(\n    alternates.canonical,\n    metadataBase,\n    pathname,\n    context\n  )\n  const languages = await resolveUrlValuesOfObject(\n    alternates.languages,\n    metadataBase,\n    pathname,\n    context\n  )\n  const media = await resolveUrlValuesOfObject(\n    alternates.media,\n    metadataBase,\n    pathname,\n    context\n  )\n  const types = await resolveUrlValuesOfObject(\n    alternates.types,\n    metadataBase,\n    pathname,\n    context\n  )\n\n  const result: ResolvedAlternateURLs = {\n    canonical,\n    languages,\n    media,\n    types,\n  }\n\n  return result\n}\n\nconst robotsKeys = [\n  'noarchive',\n  'nosnippet',\n  'noimageindex',\n  'nocache',\n  'notranslate',\n  'indexifembedded',\n  'nositelinkssearchbox',\n  'unavailable_after',\n  'max-video-preview',\n  'max-image-preview',\n  'max-snippet',\n] as const\nconst resolveRobotsValue: (robots: Metadata['robots']) => string | null = (\n  robots\n) => {\n  if (!robots) return null\n  if (typeof robots === 'string') return robots\n\n  const values: string[] = []\n\n  if (robots.index) values.push('index')\n  else if (typeof robots.index === 'boolean') values.push('noindex')\n\n  if (robots.follow) values.push('follow')\n  else if (typeof robots.follow === 'boolean') values.push('nofollow')\n\n  for (const key of robotsKeys) {\n    const value = robots[key]\n    if (typeof value !== 'undefined' && value !== false) {\n      values.push(typeof value === 'boolean' ? key : `${key}:${value}`)\n    }\n  }\n\n  return values.join(', ')\n}\n\nexport const resolveRobots: FieldResolver<'robots'> = (robots) => {\n  if (!robots) return null\n  return {\n    basic: resolveRobotsValue(robots),\n    googleBot:\n      typeof robots !== 'string' ? resolveRobotsValue(robots.googleBot) : null,\n  }\n}\n\nconst VerificationKeys = ['google', 'yahoo', 'yandex', 'me', 'other'] as const\nexport const resolveVerification: FieldResolver<'verification'> = (\n  verification\n) => {\n  if (!verification) return null\n  const res: ResolvedVerification = {}\n\n  for (const key of VerificationKeys) {\n    const value = verification[key]\n    if (value) {\n      if (key === 'other') {\n        res.other = {}\n        for (const otherKey in verification.other) {\n          const otherValue = resolveAsArrayOrUndefined(\n            verification.other[otherKey]\n          )\n          if (otherValue) res.other[otherKey] = otherValue\n        }\n      } else res[key] = resolveAsArrayOrUndefined(value) as (string | number)[]\n    }\n  }\n  return res\n}\n\nexport const resolveAppleWebApp: FieldResolver<'appleWebApp'> = (appWebApp) => {\n  if (!appWebApp) return null\n  if (appWebApp === true) {\n    return {\n      capable: true,\n    }\n  }\n\n  const startupImages = appWebApp.startupImage\n    ? resolveAsArrayOrUndefined(appWebApp.startupImage)?.map((item) =>\n        typeof item === 'string' ? { url: item } : item\n      )\n    : null\n\n  return {\n    capable: 'capable' in appWebApp ? !!appWebApp.capable : true,\n    title: appWebApp.title || null,\n    startupImage: startupImages,\n    statusBarStyle: appWebApp.statusBarStyle || 'default',\n  }\n}\n\nexport const resolveAppLinks: FieldResolver<'appLinks'> = (appLinks) => {\n  if (!appLinks) return null\n  for (const key in appLinks) {\n    // @ts-ignore // TODO: type infer\n    appLinks[key] = resolveAsArrayOrUndefined(appLinks[key])\n  }\n  return appLinks as ResolvedMetadata['appLinks']\n}\n\nexport const resolveItunes: AsyncFieldResolverExtraArgs<\n  'itunes',\n  [ResolvedMetadata['metadataBase'], Promise<string>, MetadataContext]\n> = async (itunes, metadataBase, pathname, context) => {\n  if (!itunes) return null\n  return {\n    appId: itunes.appId,\n    appArgument: itunes.appArgument\n      ? resolveAlternateUrl(\n          itunes.appArgument,\n          metadataBase,\n          await pathname,\n          context\n        )\n      : undefined,\n  }\n}\n\nexport const resolveFacebook: FieldResolver<'facebook'> = (facebook) => {\n  if (!facebook) return null\n  return {\n    appId: facebook.appId,\n    admins: resolveAsArrayOrUndefined(facebook.admins),\n  }\n}\n\nexport const resolvePagination: AsyncFieldResolverExtraArgs<\n  'pagination',\n  [ResolvedMetadata['metadataBase'], Promise<string>, MetadataContext]\n> = async (pagination, metadataBase, pathname, context) => {\n  return {\n    previous: pagination?.previous\n      ? resolveAlternateUrl(\n          pagination.previous,\n          metadataBase,\n          await pathname,\n          context\n        )\n      : null,\n    next: pagination?.next\n      ? resolveAlternateUrl(\n          pagination.next,\n          metadataBase,\n          await pathname,\n          context\n        )\n      : null,\n  }\n}\n","import type { ResolvedMetadata } from '../types/metadata-interface'\nimport type { Icon, IconDescriptor } from '../types/metadata-types'\nimport type { FieldResolver } from '../types/resolvers'\nimport { resolveAsArrayOrUndefined } from '../generate/utils'\nimport { isStringOrURL } from './resolve-url'\nimport { IconKeys } from '../constants'\n\nexport function resolveIcon(icon: Icon): IconDescriptor {\n  if (isStringOrURL(icon)) return { url: icon }\n  else if (Array.isArray(icon)) return icon\n  return icon\n}\n\nexport const resolveIcons: FieldResolver<'icons'> = (icons) => {\n  if (!icons) {\n    return null\n  }\n\n  const resolved: ResolvedMetadata['icons'] = {\n    icon: [],\n    apple: [],\n  }\n  if (Array.isArray(icons)) {\n    resolved.icon = icons.map(resolveIcon).filter(Boolean)\n  } else if (isStringOrURL(icons)) {\n    resolved.icon = [resolveIcon(icons)]\n  } else {\n    for (const key of IconKeys) {\n      const values = resolveAsArrayOrUndefined(icons[key])\n      if (values) resolved[key] = values.map(resolveIcon)\n    }\n  }\n  return resolved\n}\n","import type {\n  Metadata,\n  ResolvedMetadata,\n  ResolvedViewport,\n  ResolvingMetadata,\n  ResolvingViewport,\n  Viewport,\n} from './types/metadata-interface'\nimport type { MetadataImageModule } from '../../build/webpack/loaders/metadata/types'\nimport type { GetDynamicParamFromSegment } from '../../server/app-render/app-render'\nimport type { Twitter } from './types/twitter-types'\nimport type { OpenGraph } from './types/opengraph-types'\nimport type { AppDirModules } from '../../build/webpack/loaders/next-app-loader'\nimport type { MetadataContext } from './types/resolvers'\nimport type { LoaderTree } from '../../server/lib/app-dir-module'\nimport type {\n  AbsoluteTemplateString,\n  IconDescriptor,\n  ResolvedIcons,\n} from './types/metadata-types'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { StaticMetadata } from './types/icons'\nimport type { WorkStore } from '../../server/app-render/work-async-storage.external'\nimport type { Params } from '../../server/request/params'\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport 'server-only'\n\nimport { cache } from 'react'\nimport {\n  createDefaultMetadata,\n  createDefaultViewport,\n} from './default-metadata'\nimport { resolveOpenGraph, resolveTwitter } from './resolvers/resolve-opengraph'\nimport { resolveTitle } from './resolvers/resolve-title'\nimport { resolveAsArrayOrUndefined } from './generate/utils'\nimport {\n  getComponentTypeModule,\n  getLayoutOrPageModule,\n} from '../../server/lib/app-dir-module'\nimport { interopDefault } from '../interop-default'\nimport {\n  resolveAlternates,\n  resolveAppleWebApp,\n  resolveAppLinks,\n  resolveRobots,\n  resolveThemeColor,\n  resolveVerification,\n  resolveItunes,\n  resolveFacebook,\n  resolvePagination,\n} from './resolvers/resolve-basics'\nimport { resolveIcons } from './resolvers/resolve-icons'\nimport { getTracer } from '../../server/lib/trace/tracer'\nimport { ResolveMetadataSpan } from '../../server/lib/trace/constants'\nimport { PAGE_SEGMENT_KEY } from '../../shared/lib/segment'\nimport * as Log from '../../build/output/log'\nimport { createServerParamsForMetadata } from '../../server/request/params'\n\ntype StaticIcons = Pick<ResolvedIcons, 'icon' | 'apple'>\n\ntype MetadataResolver = (\n  parent: ResolvingMetadata\n) => Metadata | Promise<Metadata>\ntype ViewportResolver = (\n  parent: ResolvingViewport\n) => Viewport | Promise<Viewport>\n\nexport type MetadataErrorType = 'not-found' | 'forbidden' | 'unauthorized'\n\nexport type MetadataItems = Array<\n  [Metadata | MetadataResolver | null, StaticMetadata]\n>\n\nexport type ViewportItems = Array<Viewport | ViewportResolver | null>\n\ntype TitleTemplates = {\n  title: string | null\n  twitter: string | null\n  openGraph: string | null\n}\n\ntype BuildState = {\n  warnings: Set<string>\n}\n\ntype LayoutProps = {\n  params: { [key: string]: any }\n}\ntype PageProps = {\n  params: { [key: string]: any }\n  searchParams: { [key: string]: any }\n}\n\nfunction isFavicon(icon: IconDescriptor | undefined): boolean {\n  if (!icon) {\n    return false\n  }\n\n  // turbopack appends a hash to all images\n  return (\n    (icon.url === '/favicon.ico' ||\n      icon.url.toString().startsWith('/favicon.ico?')) &&\n    icon.type === 'image/x-icon'\n  )\n}\n\nasync function mergeStaticMetadata(\n  source: Metadata | null,\n  target: ResolvedMetadata,\n  staticFilesMetadata: StaticMetadata,\n  metadataContext: MetadataContext,\n  titleTemplates: TitleTemplates,\n  leafSegmentStaticIcons: StaticIcons,\n  pathname: Promise<string>\n): Promise<ResolvedMetadata> {\n  if (!staticFilesMetadata) return target\n  const { icon, apple, openGraph, twitter, manifest } = staticFilesMetadata\n\n  // Keep updating the static icons in the most leaf node\n\n  if (icon) {\n    leafSegmentStaticIcons.icon = icon\n  }\n  if (apple) {\n    leafSegmentStaticIcons.apple = apple\n  }\n\n  // file based metadata is specified and current level metadata twitter.images is not specified\n  if (twitter && !source?.twitter?.hasOwnProperty('images')) {\n    const resolvedTwitter = resolveTwitter(\n      { ...target.twitter, images: twitter } as Twitter,\n      target.metadataBase,\n      { ...metadataContext, isStaticMetadataRouteFile: true },\n      titleTemplates.twitter\n    )\n    target.twitter = resolvedTwitter\n  }\n\n  // file based metadata is specified and current level metadata openGraph.images is not specified\n  if (openGraph && !source?.openGraph?.hasOwnProperty('images')) {\n    const resolvedOpenGraph = await resolveOpenGraph(\n      { ...target.openGraph, images: openGraph } as OpenGraph,\n      target.metadataBase,\n      pathname,\n      { ...metadataContext, isStaticMetadataRouteFile: true },\n      titleTemplates.openGraph\n    )\n    target.openGraph = resolvedOpenGraph\n  }\n  if (manifest) {\n    target.manifest = manifest\n  }\n\n  return target\n}\n\n// Merge the source metadata into the resolved target metadata.\nasync function mergeMetadata(\n  route: string,\n  pathname: Promise<string>,\n  {\n    source,\n    target,\n    staticFilesMetadata,\n    titleTemplates,\n    metadataContext,\n    buildState,\n    leafSegmentStaticIcons,\n  }: {\n    source: Metadata | null\n    target: ResolvedMetadata\n    staticFilesMetadata: StaticMetadata\n    titleTemplates: TitleTemplates\n    metadataContext: MetadataContext\n    buildState: BuildState\n    leafSegmentStaticIcons: StaticIcons\n  }\n): Promise<ResolvedMetadata> {\n  // If there's override metadata, prefer it otherwise fallback to the default metadata.\n  const metadataBase =\n    typeof source?.metadataBase !== 'undefined'\n      ? source.metadataBase\n      : target.metadataBase\n  for (const key_ in source) {\n    const key = key_ as keyof Metadata\n\n    switch (key) {\n      case 'title': {\n        target.title = resolveTitle(source.title, titleTemplates.title)\n        break\n      }\n      case 'alternates': {\n        target.alternates = await resolveAlternates(\n          source.alternates,\n          metadataBase,\n          pathname,\n          metadataContext\n        )\n        break\n      }\n      case 'openGraph': {\n        target.openGraph = await resolveOpenGraph(\n          source.openGraph,\n          metadataBase,\n          pathname,\n          metadataContext,\n          titleTemplates.openGraph\n        )\n        break\n      }\n      case 'twitter': {\n        target.twitter = resolveTwitter(\n          source.twitter,\n          metadataBase,\n          metadataContext,\n          titleTemplates.twitter\n        )\n        break\n      }\n      case 'facebook':\n        target.facebook = resolveFacebook(source.facebook)\n        break\n      case 'verification':\n        target.verification = resolveVerification(source.verification)\n        break\n\n      case 'icons': {\n        target.icons = resolveIcons(source.icons)\n        break\n      }\n      case 'appleWebApp':\n        target.appleWebApp = resolveAppleWebApp(source.appleWebApp)\n        break\n      case 'appLinks':\n        target.appLinks = resolveAppLinks(source.appLinks)\n        break\n      case 'robots': {\n        target.robots = resolveRobots(source.robots)\n        break\n      }\n      case 'archives':\n      case 'assets':\n      case 'bookmarks':\n      case 'keywords': {\n        target[key] = resolveAsArrayOrUndefined(source[key])\n        break\n      }\n      case 'authors': {\n        target[key] = resolveAsArrayOrUndefined(source.authors)\n        break\n      }\n      case 'itunes': {\n        target[key] = await resolveItunes(\n          source.itunes,\n          metadataBase,\n          pathname,\n          metadataContext\n        )\n        break\n      }\n      case 'pagination': {\n        target.pagination = await resolvePagination(\n          source.pagination,\n          metadataBase,\n          pathname,\n          metadataContext\n        )\n        break\n      }\n      // directly assign fields that fallback to null\n      case 'applicationName':\n      case 'description':\n      case 'generator':\n      case 'creator':\n      case 'publisher':\n      case 'category':\n      case 'classification':\n      case 'referrer':\n      case 'formatDetection':\n      case 'manifest':\n      case 'pinterest':\n        // @ts-ignore TODO: support inferring\n        target[key] = source[key] || null\n        break\n      case 'other':\n        target.other = Object.assign({}, target.other, source.other)\n        break\n      case 'metadataBase':\n        target.metadataBase = metadataBase\n        break\n\n      default: {\n        if (\n          (key === 'viewport' ||\n            key === 'themeColor' ||\n            key === 'colorScheme') &&\n          source[key] != null\n        ) {\n          buildState.warnings.add(\n            `Unsupported metadata ${key} is configured in metadata export in ${route}. Please move it to viewport export instead.\\nRead more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport`\n          )\n        }\n        break\n      }\n    }\n  }\n  return mergeStaticMetadata(\n    source,\n    target,\n    staticFilesMetadata,\n    metadataContext,\n    titleTemplates,\n    leafSegmentStaticIcons,\n    pathname\n  )\n}\n\nfunction mergeViewport({\n  target,\n  source,\n}: {\n  target: ResolvedViewport\n  source: Viewport | null\n}): void {\n  if (!source) return\n  for (const key_ in source) {\n    const key = key_ as keyof Viewport\n\n    switch (key) {\n      case 'themeColor': {\n        target.themeColor = resolveThemeColor(source.themeColor)\n        break\n      }\n      case 'colorScheme':\n        target.colorScheme = source.colorScheme || null\n        break\n      default:\n        // always override the target with the source\n        // @ts-ignore viewport properties\n        target[key] = source[key]\n        break\n    }\n  }\n}\n\nfunction getDefinedViewport(\n  mod: any,\n  props: any,\n  tracingProps: { route: string }\n): Viewport | ViewportResolver | null {\n  if (typeof mod.generateViewport === 'function') {\n    const { route } = tracingProps\n    return (parent: ResolvingViewport) =>\n      getTracer().trace(\n        ResolveMetadataSpan.generateViewport,\n        {\n          spanName: `generateViewport ${route}`,\n          attributes: {\n            'next.page': route,\n          },\n        },\n        () => mod.generateViewport(props, parent)\n      )\n  }\n  return mod.viewport || null\n}\n\nfunction getDefinedMetadata(\n  mod: any,\n  props: any,\n  tracingProps: { route: string }\n): Metadata | MetadataResolver | null {\n  if (typeof mod.generateMetadata === 'function') {\n    const { route } = tracingProps\n    return (parent: ResolvingMetadata) =>\n      getTracer().trace(\n        ResolveMetadataSpan.generateMetadata,\n        {\n          spanName: `generateMetadata ${route}`,\n          attributes: {\n            'next.page': route,\n          },\n        },\n        () => mod.generateMetadata(props, parent)\n      )\n  }\n  return mod.metadata || null\n}\n\nasync function collectStaticImagesFiles(\n  metadata: AppDirModules['metadata'],\n  props: any,\n  type: keyof NonNullable<AppDirModules['metadata']>\n) {\n  if (!metadata?.[type]) return undefined\n\n  const iconPromises = metadata[type as 'icon' | 'apple'].map(\n    async (imageModule: (p: any) => Promise<MetadataImageModule[]>) =>\n      interopDefault(await imageModule(props))\n  )\n\n  return iconPromises?.length > 0\n    ? (await Promise.all(iconPromises))?.flat()\n    : undefined\n}\n\nasync function resolveStaticMetadata(\n  modules: AppDirModules,\n  props: any\n): Promise<StaticMetadata> {\n  const { metadata } = modules\n  if (!metadata) return null\n\n  const [icon, apple, openGraph, twitter] = await Promise.all([\n    collectStaticImagesFiles(metadata, props, 'icon'),\n    collectStaticImagesFiles(metadata, props, 'apple'),\n    collectStaticImagesFiles(metadata, props, 'openGraph'),\n    collectStaticImagesFiles(metadata, props, 'twitter'),\n  ])\n\n  const staticMetadata = {\n    icon,\n    apple,\n    openGraph,\n    twitter,\n    manifest: metadata.manifest,\n  }\n\n  return staticMetadata\n}\n\n// [layout.metadata, static files metadata] -> ... -> [page.metadata, static files metadata]\nasync function collectMetadata({\n  tree,\n  metadataItems,\n  errorMetadataItem,\n  props,\n  route,\n  errorConvention,\n}: {\n  tree: LoaderTree\n  metadataItems: MetadataItems\n  errorMetadataItem: MetadataItems[number]\n  props: any\n  route: string\n  errorConvention?: MetadataErrorType\n}) {\n  let mod\n  let modType\n  const hasErrorConventionComponent = Boolean(\n    errorConvention && tree[2][errorConvention]\n  )\n  if (errorConvention) {\n    mod = await getComponentTypeModule(tree, 'layout')\n    modType = errorConvention\n  } else {\n    const { mod: layoutOrPageMod, modType: layoutOrPageModType } =\n      await getLayoutOrPageModule(tree)\n    mod = layoutOrPageMod\n    modType = layoutOrPageModType\n  }\n\n  if (modType) {\n    route += `/${modType}`\n  }\n\n  const staticFilesMetadata = await resolveStaticMetadata(tree[2], props)\n  const metadataExport = mod ? getDefinedMetadata(mod, props, { route }) : null\n\n  metadataItems.push([metadataExport, staticFilesMetadata])\n\n  if (hasErrorConventionComponent && errorConvention) {\n    const errorMod = await getComponentTypeModule(tree, errorConvention)\n    const errorMetadataExport = errorMod\n      ? getDefinedMetadata(errorMod, props, { route })\n      : null\n\n    errorMetadataItem[0] = errorMetadataExport\n    errorMetadataItem[1] = staticFilesMetadata\n  }\n}\n\n// [layout.metadata, static files metadata] -> ... -> [page.metadata, static files metadata]\nasync function collectViewport({\n  tree,\n  viewportItems,\n  errorViewportItemRef,\n  props,\n  route,\n  errorConvention,\n}: {\n  tree: LoaderTree\n  viewportItems: ViewportItems\n  errorViewportItemRef: ErrorViewportItemRef\n  props: any\n  route: string\n  errorConvention?: MetadataErrorType\n}) {\n  let mod\n  let modType\n  const hasErrorConventionComponent = Boolean(\n    errorConvention && tree[2][errorConvention]\n  )\n  if (errorConvention) {\n    mod = await getComponentTypeModule(tree, 'layout')\n    modType = errorConvention\n  } else {\n    const { mod: layoutOrPageMod, modType: layoutOrPageModType } =\n      await getLayoutOrPageModule(tree)\n    mod = layoutOrPageMod\n    modType = layoutOrPageModType\n  }\n\n  if (modType) {\n    route += `/${modType}`\n  }\n\n  const viewportExport = mod ? getDefinedViewport(mod, props, { route }) : null\n\n  viewportItems.push(viewportExport)\n\n  if (hasErrorConventionComponent && errorConvention) {\n    const errorMod = await getComponentTypeModule(tree, errorConvention)\n    const errorViewportExport = errorMod\n      ? getDefinedViewport(errorMod, props, { route })\n      : null\n\n    errorViewportItemRef.current = errorViewportExport\n  }\n}\n\nconst resolveMetadataItems = cache(async function (\n  tree: LoaderTree,\n  searchParams: Promise<ParsedUrlQuery>,\n  errorConvention: MetadataErrorType | undefined,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore\n) {\n  const parentParams = {}\n  const metadataItems: MetadataItems = []\n  const errorMetadataItem: MetadataItems[number] = [null, null]\n  const treePrefix = undefined\n  return resolveMetadataItemsImpl(\n    metadataItems,\n    tree,\n    treePrefix,\n    parentParams,\n    searchParams,\n    errorConvention,\n    errorMetadataItem,\n    getDynamicParamFromSegment,\n    workStore\n  )\n})\n\nasync function resolveMetadataItemsImpl(\n  metadataItems: MetadataItems,\n  tree: LoaderTree,\n  /** Provided tree can be nested subtree, this argument says what is the path of such subtree */\n  treePrefix: undefined | string[],\n  parentParams: Params,\n  searchParams: Promise<ParsedUrlQuery>,\n  errorConvention: MetadataErrorType | undefined,\n  errorMetadataItem: MetadataItems[number],\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore\n): Promise<MetadataItems> {\n  const [segment, parallelRoutes, { page }] = tree\n  const currentTreePrefix =\n    treePrefix && treePrefix.length ? [...treePrefix, segment] : [segment]\n  const isPage = typeof page !== 'undefined'\n\n  // Handle dynamic segment params.\n  const segmentParam = getDynamicParamFromSegment(segment)\n  /**\n   * Create object holding the parent params and current params\n   */\n  let currentParams = parentParams\n  if (segmentParam && segmentParam.value !== null) {\n    currentParams = {\n      ...parentParams,\n      [segmentParam.param]: segmentParam.value,\n    }\n  }\n\n  const params = createServerParamsForMetadata(currentParams, workStore)\n\n  let layerProps: LayoutProps | PageProps\n  if (isPage) {\n    layerProps = {\n      params,\n      searchParams,\n    }\n  } else {\n    layerProps = {\n      params,\n    }\n  }\n\n  await collectMetadata({\n    tree,\n    metadataItems,\n    errorMetadataItem,\n    errorConvention,\n    props: layerProps,\n    route: currentTreePrefix\n      // __PAGE__ shouldn't be shown in a route\n      .filter((s) => s !== PAGE_SEGMENT_KEY)\n      .join('/'),\n  })\n\n  for (const key in parallelRoutes) {\n    const childTree = parallelRoutes[key]\n    await resolveMetadataItemsImpl(\n      metadataItems,\n      childTree,\n      currentTreePrefix,\n      currentParams,\n      searchParams,\n      errorConvention,\n      errorMetadataItem,\n      getDynamicParamFromSegment,\n      workStore\n    )\n  }\n\n  if (Object.keys(parallelRoutes).length === 0 && errorConvention) {\n    // If there are no parallel routes, place error metadata as the last item.\n    // e.g. layout -> layout -> not-found\n    metadataItems.push(errorMetadataItem)\n  }\n\n  return metadataItems\n}\n\ntype ErrorViewportItemRef = { current: ViewportItems[number] }\nconst resolveViewportItems = cache(async function (\n  tree: LoaderTree,\n  searchParams: Promise<ParsedUrlQuery>,\n  errorConvention: MetadataErrorType | undefined,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore\n) {\n  const parentParams = {}\n  const viewportItems: ViewportItems = []\n  const errorViewportItemRef: ErrorViewportItemRef = {\n    current: null,\n  }\n  const treePrefix = undefined\n  return resolveViewportItemsImpl(\n    viewportItems,\n    tree,\n    treePrefix,\n    parentParams,\n    searchParams,\n    errorConvention,\n    errorViewportItemRef,\n    getDynamicParamFromSegment,\n    workStore\n  )\n})\n\nasync function resolveViewportItemsImpl(\n  viewportItems: ViewportItems,\n  tree: LoaderTree,\n  /** Provided tree can be nested subtree, this argument says what is the path of such subtree */\n  treePrefix: undefined | string[],\n  parentParams: Params,\n  searchParams: Promise<ParsedUrlQuery>,\n  errorConvention: MetadataErrorType | undefined,\n  errorViewportItemRef: ErrorViewportItemRef,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore\n): Promise<ViewportItems> {\n  const [segment, parallelRoutes, { page }] = tree\n  const currentTreePrefix =\n    treePrefix && treePrefix.length ? [...treePrefix, segment] : [segment]\n  const isPage = typeof page !== 'undefined'\n\n  // Handle dynamic segment params.\n  const segmentParam = getDynamicParamFromSegment(segment)\n  /**\n   * Create object holding the parent params and current params\n   */\n  let currentParams = parentParams\n  if (segmentParam && segmentParam.value !== null) {\n    currentParams = {\n      ...parentParams,\n      [segmentParam.param]: segmentParam.value,\n    }\n  }\n\n  const params = createServerParamsForMetadata(currentParams, workStore)\n\n  let layerProps: LayoutProps | PageProps\n  if (isPage) {\n    layerProps = {\n      params,\n      searchParams,\n    }\n  } else {\n    layerProps = {\n      params,\n    }\n  }\n\n  await collectViewport({\n    tree,\n    viewportItems,\n    errorViewportItemRef,\n    errorConvention,\n    props: layerProps,\n    route: currentTreePrefix\n      // __PAGE__ shouldn't be shown in a route\n      .filter((s) => s !== PAGE_SEGMENT_KEY)\n      .join('/'),\n  })\n\n  for (const key in parallelRoutes) {\n    const childTree = parallelRoutes[key]\n    await resolveViewportItemsImpl(\n      viewportItems,\n      childTree,\n      currentTreePrefix,\n      currentParams,\n      searchParams,\n      errorConvention,\n      errorViewportItemRef,\n      getDynamicParamFromSegment,\n      workStore\n    )\n  }\n\n  if (Object.keys(parallelRoutes).length === 0 && errorConvention) {\n    // If there are no parallel routes, place error metadata as the last item.\n    // e.g. layout -> layout -> not-found\n    viewportItems.push(errorViewportItemRef.current)\n  }\n\n  return viewportItems\n}\n\ntype WithTitle = { title?: AbsoluteTemplateString | null }\ntype WithDescription = { description?: string | null }\n\nconst isTitleTruthy = (title: AbsoluteTemplateString | null | undefined) =>\n  !!title?.absolute\nconst hasTitle = (metadata: WithTitle | null) => isTitleTruthy(metadata?.title)\n\nfunction inheritFromMetadata(\n  target: (WithTitle & WithDescription) | null,\n  metadata: ResolvedMetadata\n) {\n  if (target) {\n    if (!hasTitle(target) && hasTitle(metadata)) {\n      target.title = metadata.title\n    }\n    if (!target.description && metadata.description) {\n      target.description = metadata.description\n    }\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst commonOgKeys = ['title', 'description', 'images'] as const\nfunction postProcessMetadata(\n  metadata: ResolvedMetadata,\n  favicon: any,\n  titleTemplates: TitleTemplates,\n  metadataContext: MetadataContext\n): ResolvedMetadata {\n  const { openGraph, twitter } = metadata\n\n  if (openGraph) {\n    // If there's openGraph information but not configured in twitter,\n    // inherit them from openGraph metadata.\n    let autoFillProps: Partial<{\n      [Key in (typeof commonOgKeys)[number]]: NonNullable<\n        ResolvedMetadata['openGraph']\n      >[Key]\n    }> = {}\n    const hasTwTitle = hasTitle(twitter)\n    const hasTwDescription = twitter?.description\n    const hasTwImages = Boolean(\n      twitter?.hasOwnProperty('images') && twitter.images\n    )\n    if (!hasTwTitle) {\n      if (isTitleTruthy(openGraph.title)) {\n        autoFillProps.title = openGraph.title\n      } else if (metadata.title && isTitleTruthy(metadata.title)) {\n        autoFillProps.title = metadata.title\n      }\n    }\n    if (!hasTwDescription)\n      autoFillProps.description =\n        openGraph.description || metadata.description || undefined\n    if (!hasTwImages) autoFillProps.images = openGraph.images\n\n    if (Object.keys(autoFillProps).length > 0) {\n      const partialTwitter = resolveTwitter(\n        autoFillProps,\n        metadata.metadataBase,\n        metadataContext,\n        titleTemplates.twitter\n      )\n      if (metadata.twitter) {\n        metadata.twitter = Object.assign({}, metadata.twitter, {\n          ...(!hasTwTitle && { title: partialTwitter?.title }),\n          ...(!hasTwDescription && {\n            description: partialTwitter?.description,\n          }),\n          ...(!hasTwImages && { images: partialTwitter?.images }),\n        })\n      } else {\n        metadata.twitter = partialTwitter\n      }\n    }\n  }\n\n  // If there's no title and description configured in openGraph or twitter,\n  // use the title and description from metadata.\n  inheritFromMetadata(openGraph, metadata)\n  inheritFromMetadata(twitter, metadata)\n\n  if (favicon) {\n    if (!metadata.icons) {\n      metadata.icons = {\n        icon: [],\n        apple: [],\n      }\n    }\n\n    metadata.icons.icon.unshift(favicon)\n  }\n\n  return metadata\n}\n\ntype Result<T> = null | T | Promise<null | T> | PromiseLike<null | T>\n\nfunction prerenderMetadata(metadataItems: MetadataItems) {\n  // If the index is a function then it is a resolver and the next slot\n  // is the corresponding result. If the index is not a function it is the result\n  // itself.\n  const resolversAndResults: Array<\n    ((value: ResolvedMetadata) => void) | Result<Metadata>\n  > = []\n  for (let i = 0; i < metadataItems.length; i++) {\n    const metadataExport = metadataItems[i][0]\n    getResult(resolversAndResults, metadataExport)\n  }\n  return resolversAndResults\n}\n\nfunction prerenderViewport(viewportItems: ViewportItems) {\n  // If the index is a function then it is a resolver and the next slot\n  // is the corresponding result. If the index is not a function it is the result\n  // itself.\n  const resolversAndResults: Array<\n    ((value: ResolvedViewport) => void) | Result<Viewport>\n  > = []\n  for (let i = 0; i < viewportItems.length; i++) {\n    const viewportExport = viewportItems[i]\n    getResult(resolversAndResults, viewportExport)\n  }\n  return resolversAndResults\n}\n\ntype Resolved<T> = T extends Metadata ? ResolvedMetadata : ResolvedViewport\n\nfunction getResult<T extends Metadata | Viewport>(\n  resolversAndResults: Array<((value: Resolved<T>) => void) | Result<T>>,\n  exportForResult: null | T | ((parent: Promise<Resolved<T>>) => Result<T>)\n) {\n  if (typeof exportForResult === 'function') {\n    const result = exportForResult(\n      new Promise<Resolved<T>>((resolve) => resolversAndResults.push(resolve))\n    )\n    resolversAndResults.push(result)\n    if (result instanceof Promise) {\n      // since we eager execute generateMetadata and\n      // they can reject at anytime we need to ensure\n      // we attach the catch handler right away to\n      // prevent unhandled rejections crashing the process\n      result.catch((err) => {\n        return {\n          __nextError: err,\n        }\n      })\n    }\n  } else if (typeof exportForResult === 'object') {\n    resolversAndResults.push(exportForResult)\n  } else {\n    resolversAndResults.push(null)\n  }\n}\n\nfunction resolvePendingResult<\n  ResolvedType extends ResolvedMetadata | ResolvedViewport,\n>(\n  parentResult: ResolvedType,\n  resolveParentResult: (value: ResolvedType) => void\n): void {\n  // In dev we clone and freeze to prevent relying on mutating resolvedMetadata directly.\n  // In prod we just pass resolvedMetadata through without any copying.\n  if (process.env.NODE_ENV === 'development') {\n    // @ts-expect-error -- DeepReadonly<T> is by definition not assignable to T\n    // Instead, we should only accept DeepReadonly<ResolvedType>\n    parentResult = (\n      require('../../shared/lib/deep-freeze') as typeof import('../../shared/lib/deep-freeze')\n    ).deepFreeze(\n      (\n        require('./clone-metadata') as typeof import('./clone-metadata')\n      ).cloneMetadata(parentResult)\n    )\n  }\n\n  resolveParentResult(parentResult)\n}\n\nexport async function accumulateMetadata(\n  route: string,\n  metadataItems: MetadataItems,\n  pathname: Promise<string>,\n  metadataContext: MetadataContext\n): Promise<ResolvedMetadata> {\n  let resolvedMetadata = createDefaultMetadata()\n\n  let titleTemplates: TitleTemplates = {\n    title: null,\n    twitter: null,\n    openGraph: null,\n  }\n\n  const buildState = {\n    warnings: new Set<string>(),\n  }\n\n  let favicon\n\n  // Collect the static icons in the most leaf node,\n  // since we don't collect all the static metadata icons in the parent segments.\n  const leafSegmentStaticIcons = {\n    icon: [],\n    apple: [],\n  }\n\n  const resolversAndResults = prerenderMetadata(metadataItems)\n  let resultIndex = 0\n\n  for (let i = 0; i < metadataItems.length; i++) {\n    const staticFilesMetadata = metadataItems[i][1]\n    // Treat favicon as special case, it should be the first icon in the list\n    // i <= 1 represents root layout, and if current page is also at root\n    if (i <= 1 && isFavicon(staticFilesMetadata?.icon?.[0])) {\n      const iconMod = staticFilesMetadata?.icon?.shift()\n      if (i === 0) favicon = iconMod\n    }\n\n    let pendingMetadata = resolversAndResults[resultIndex++]\n    if (typeof pendingMetadata === 'function') {\n      // This metadata item had a `generateMetadata` and\n      // we need to provide the currently resolved metadata\n      // to it before we continue;\n      const resolveParentMetadata = pendingMetadata\n      // we know that the next item is a result if this item\n      // was a resolver\n      pendingMetadata = resolversAndResults[resultIndex++] as Result<Metadata>\n\n      resolvePendingResult(resolvedMetadata, resolveParentMetadata)\n    }\n    // Otherwise the item was either null or a static export\n\n    let metadata: Metadata | null\n    if (isPromiseLike(pendingMetadata)) {\n      metadata = await pendingMetadata\n    } else {\n      metadata = pendingMetadata\n    }\n\n    resolvedMetadata = await mergeMetadata(route, pathname, {\n      target: resolvedMetadata,\n      source: metadata,\n      metadataContext,\n      staticFilesMetadata,\n      titleTemplates,\n      buildState,\n      leafSegmentStaticIcons,\n    })\n\n    // If the layout is the same layer with page, skip the leaf layout and leaf page\n    // The leaf layout and page are the last two items\n    if (i < metadataItems.length - 2) {\n      titleTemplates = {\n        title: resolvedMetadata.title?.template || null,\n        openGraph: resolvedMetadata.openGraph?.title.template || null,\n        twitter: resolvedMetadata.twitter?.title.template || null,\n      }\n    }\n  }\n\n  if (\n    leafSegmentStaticIcons.icon.length > 0 ||\n    leafSegmentStaticIcons.apple.length > 0\n  ) {\n    if (!resolvedMetadata.icons) {\n      resolvedMetadata.icons = {\n        icon: [],\n        apple: [],\n      }\n      if (leafSegmentStaticIcons.icon.length > 0) {\n        resolvedMetadata.icons.icon.unshift(...leafSegmentStaticIcons.icon)\n      }\n      if (leafSegmentStaticIcons.apple.length > 0) {\n        resolvedMetadata.icons.apple.unshift(...leafSegmentStaticIcons.apple)\n      }\n    }\n  }\n\n  // Only log warnings if there are any, and only once after the metadata resolving process is finished\n  if (buildState.warnings.size > 0) {\n    for (const warning of buildState.warnings) {\n      Log.warn(warning)\n    }\n  }\n\n  return postProcessMetadata(\n    resolvedMetadata,\n    favicon,\n    titleTemplates,\n    metadataContext\n  )\n}\n\nexport async function accumulateViewport(\n  viewportItems: ViewportItems\n): Promise<ResolvedViewport> {\n  const resolvedViewport: ResolvedViewport = createDefaultViewport()\n\n  const resolversAndResults = prerenderViewport(viewportItems)\n  let i = 0\n\n  while (i < resolversAndResults.length) {\n    let pendingViewport = resolversAndResults[i++]\n    if (typeof pendingViewport === 'function') {\n      // this viewport item had a `generateViewport` and\n      // we need to provide the currently resolved viewport\n      // to it before we continue;\n      const resolveParentViewport = pendingViewport\n      // we know that the next item is a result if this item\n      // was a resolver\n      pendingViewport = resolversAndResults[i++] as Result<Viewport>\n\n      resolvePendingResult(resolvedViewport, resolveParentViewport)\n    }\n    // Otherwise the item was either null or a static export\n\n    let viewport: Viewport | null\n    if (isPromiseLike(pendingViewport)) {\n      viewport = await pendingViewport\n    } else {\n      viewport = pendingViewport\n    }\n\n    mergeViewport({\n      target: resolvedViewport,\n      source: viewport,\n    })\n  }\n  return resolvedViewport\n}\n\n// Exposed API for metadata component, that directly resolve the loader tree and related context as resolved metadata.\nexport async function resolveMetadata(\n  tree: LoaderTree,\n  pathname: Promise<string>,\n  searchParams: Promise<ParsedUrlQuery>,\n  errorConvention: MetadataErrorType | undefined,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore,\n  metadataContext: MetadataContext\n): Promise<ResolvedMetadata> {\n  const metadataItems = await resolveMetadataItems(\n    tree,\n    searchParams,\n    errorConvention,\n    getDynamicParamFromSegment,\n    workStore\n  )\n  return accumulateMetadata(\n    workStore.route,\n    metadataItems,\n    pathname,\n    metadataContext\n  )\n}\n\n// Exposed API for viewport component, that directly resolve the loader tree and related context as resolved viewport.\nexport async function resolveViewport(\n  tree: LoaderTree,\n  searchParams: Promise<ParsedUrlQuery>,\n  errorConvention: MetadataErrorType | undefined,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore\n): Promise<ResolvedViewport> {\n  const viewportItems = await resolveViewportItems(\n    tree,\n    searchParams,\n    errorConvention,\n    getDynamicParamFromSegment,\n    workStore\n  )\n  return accumulateViewport(viewportItems)\n}\n\nfunction isPromiseLike<T>(\n  value: unknown | PromiseLike<T>\n): value is PromiseLike<T> {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof (value as PromiseLike<unknown>).then === 'function'\n  )\n}\n","export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/metadata/async-metadata.js\"));\n","'use client'\n\nimport { Suspense, use } from 'react'\nimport type { StreamingMetadataResolvedState } from './types'\n\nfunction MetadataOutlet({\n  promise,\n}: {\n  promise: Promise<StreamingMetadataResolvedState>\n}) {\n  const { error, digest } = use(promise)\n  if (error) {\n    if (digest) {\n      // The error will lose its original digest after passing from server layer to client layer；\n      // We recover the digest property here to override the React created one if original digest exists.\n      ;(error as any).digest = digest\n    }\n    throw error\n  }\n  return null\n}\n\nexport function AsyncMetadataOutlet({\n  promise,\n}: {\n  promise: Promise<StreamingMetadataResolvedState>\n}) {\n  return (\n    <Suspense fallback={null}>\n      <MetadataOutlet promise={promise} />\n    </Suspense>\n  )\n}\n","const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone')\n\nexport function isPostpone(error: any): boolean {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    error.$$typeof === REACT_POSTPONE_TYPE\n  )\n}\n","import type { WorkStore } from '../app-render/work-async-storage.external'\n\nimport {\n  postponeWithTracking,\n  type DynamicTrackingState,\n} from '../app-render/dynamic-rendering'\n\nimport {\n  workUnitAsyncStorage,\n  type PrerenderStore,\n} from '../app-render/work-unit-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nexport function createServerPathnameForMetadata(\n  underlyingPathname: string,\n  workStore: WorkStore\n): Promise<string> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy': {\n        return createPrerenderPathname(\n          underlyingPathname,\n          workStore,\n          workUnitStore\n        )\n      }\n      default:\n      // fallthrough\n    }\n  }\n  return createRenderPathname(underlyingPathname)\n}\n\nfunction createPrerenderPathname(\n  underlyingPathname: string,\n  workStore: WorkStore,\n  prerenderStore: PrerenderStore\n): Promise<string> {\n  const fallbackParams = workStore.fallbackRouteParams\n  if (fallbackParams && fallbackParams.size > 0) {\n    switch (prerenderStore.type) {\n      case 'prerender':\n        return makeHangingPromise<string>(\n          prerenderStore.renderSignal,\n          '`pathname`'\n        )\n      case 'prerender-client':\n        throw new InvariantError(\n          'createPrerenderPathname was called inside a client component scope.'\n        )\n      case 'prerender-ppr':\n        return makeErroringPathname(workStore, prerenderStore.dynamicTracking)\n        break\n      default:\n        return makeErroringPathname(workStore, null)\n    }\n  }\n\n  // We don't have any fallback params so we have an entirely static safe params object\n  return Promise.resolve(underlyingPathname)\n}\n\nfunction makeErroringPathname<T>(\n  workStore: WorkStore,\n  dynamicTracking: null | DynamicTrackingState\n): Promise<T> {\n  let reject: null | ((reason: unknown) => void) = null\n  const promise = new Promise<T>((_, re) => {\n    reject = re\n  })\n\n  const originalThen = promise.then.bind(promise)\n\n  // We instrument .then so that we can generate a tracking event only if you actually\n  // await this promise, not just that it is created.\n  promise.then = (onfulfilled, onrejected) => {\n    if (reject) {\n      try {\n        postponeWithTracking(\n          workStore.route,\n          'metadata relative url resolving',\n          dynamicTracking\n        )\n      } catch (error) {\n        reject(error)\n        reject = null\n      }\n    }\n    return originalThen(onfulfilled, onrejected)\n  }\n\n  // We wrap in a noop proxy to trick the runtime into thinking it\n  // isn't a native promise (it's not really). This is so that awaiting\n  // the promise will call the `then` property triggering the lazy postpone\n  return new Proxy(promise, {})\n}\n\nfunction createRenderPathname(underlyingPathname: string): Promise<string> {\n  return Promise.resolve(underlyingPathname)\n}\n","import React, { Suspense, cache, cloneElement } from 'react'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { GetDynamicParamFromSegment } from '../../server/app-render/app-render'\nimport type { LoaderTree } from '../../server/lib/app-dir-module'\nimport type { StreamingMetadataResolvedState } from '../../client/components/metadata/types'\nimport type { SearchParams } from '../../server/request/search-params'\nimport {\n  AppleWebAppMeta,\n  FormatDetectionMeta,\n  ItunesMeta,\n  BasicMeta,\n  ViewportMeta,\n  VerificationMeta,\n  FacebookMeta,\n  PinterestMeta,\n} from './generate/basic'\nimport { AlternatesMetadata } from './generate/alternate'\nimport {\n  OpenGraphMetadata,\n  TwitterMetadata,\n  AppLinksMeta,\n} from './generate/opengraph'\nimport { IconsMetadata } from './generate/icons'\nimport {\n  type MetadataErrorType,\n  resolveMetadata,\n  resolveViewport,\n} from './resolve-metadata'\nimport { MetaFilter } from './generate/meta'\nimport type {\n  ResolvedMetadata,\n  ResolvedViewport,\n} from './types/metadata-interface'\nimport { isHTTPAccessFallbackError } from '../../client/components/http-access-fallback/http-access-fallback'\nimport type { MetadataContext } from './types/resolvers'\nimport type { WorkStore } from '../../server/app-render/work-async-storage.external'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n} from './metadata-constants'\nimport { AsyncMetadataOutlet } from '../../client/components/metadata/async-metadata'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { createServerSearchParamsForMetadata } from '../../server/request/search-params'\nimport { createServerPathnameForMetadata } from '../../server/request/pathname'\n\n// Use a promise to share the status of the metadata resolving,\n// returning two components `MetadataTree` and `MetadataOutlet`\n// `MetadataTree` is the one that will be rendered at first in the content sequence for metadata tags.\n// `MetadataOutlet` is the one that will be rendered under error boundaries for metadata resolving errors.\n// In this way we can let the metadata tags always render successfully,\n// and the error will be caught by the error boundary and trigger fallbacks.\nexport function createMetadataComponents({\n  tree,\n  pathname,\n  parsedQuery,\n  metadataContext,\n  getDynamicParamFromSegment,\n  appUsingSizeAdjustment,\n  errorType,\n  workStore,\n  MetadataBoundary,\n  ViewportBoundary,\n  serveStreamingMetadata,\n}: {\n  tree: LoaderTree\n  pathname: string\n  parsedQuery: SearchParams\n  metadataContext: MetadataContext\n  getDynamicParamFromSegment: GetDynamicParamFromSegment\n  appUsingSizeAdjustment: boolean\n  errorType?: MetadataErrorType | 'redirect'\n  workStore: WorkStore\n  MetadataBoundary: (props: { children: React.ReactNode }) => React.ReactNode\n  ViewportBoundary: (props: { children: React.ReactNode }) => React.ReactNode\n  serveStreamingMetadata: boolean\n}): {\n  MetadataTree: React.ComponentType\n  ViewportTree: React.ComponentType\n  getMetadataReady: () => Promise<void>\n  getViewportReady: () => Promise<void>\n  StreamingMetadataOutlet: React.ComponentType | null\n} {\n  const searchParams = createServerSearchParamsForMetadata(\n    parsedQuery,\n    workStore\n  )\n  const pathnameForMetadata = createServerPathnameForMetadata(\n    pathname,\n    workStore\n  )\n\n  function ViewportTree() {\n    return (\n      <>\n        <ViewportBoundary>\n          <Viewport />\n        </ViewportBoundary>\n        {/* This meta tag is for next/font which is still required to be blocking. */}\n        {appUsingSizeAdjustment ? (\n          <meta name=\"next-size-adjust\" content=\"\" />\n        ) : null}\n      </>\n    )\n  }\n\n  function MetadataTree() {\n    return (\n      <MetadataBoundary>\n        <Metadata />\n      </MetadataBoundary>\n    )\n  }\n\n  function viewport() {\n    return getResolvedViewport(\n      tree,\n      searchParams,\n      getDynamicParamFromSegment,\n      workStore,\n      errorType\n    )\n  }\n\n  async function Viewport() {\n    try {\n      return await viewport()\n    } catch (error) {\n      if (!errorType && isHTTPAccessFallbackError(error)) {\n        try {\n          return await getNotFoundViewport(\n            tree,\n            searchParams,\n            getDynamicParamFromSegment,\n            workStore\n          )\n        } catch {}\n      }\n      // We don't actually want to error in this component. We will\n      // also error in the MetadataOutlet which causes the error to\n      // bubble from the right position in the page to be caught by the\n      // appropriate boundaries\n      return null\n    }\n  }\n  Viewport.displayName = VIEWPORT_BOUNDARY_NAME\n\n  function metadata() {\n    return getResolvedMetadata(\n      tree,\n      pathnameForMetadata,\n      searchParams,\n      getDynamicParamFromSegment,\n      metadataContext,\n      workStore,\n      errorType\n    )\n  }\n\n  async function resolveFinalMetadata(): Promise<StreamingMetadataResolvedState> {\n    let result: React.ReactNode\n    let error = null\n    try {\n      result = await metadata()\n      return {\n        metadata: result,\n        error: null,\n        digest: undefined,\n      }\n    } catch (metadataErr) {\n      error = metadataErr\n      if (!errorType && isHTTPAccessFallbackError(metadataErr)) {\n        try {\n          result = await getNotFoundMetadata(\n            tree,\n            pathnameForMetadata,\n            searchParams,\n            getDynamicParamFromSegment,\n            metadataContext,\n            workStore\n          )\n          return {\n            metadata: result,\n            error,\n            digest: (error as any)?.digest,\n          }\n        } catch (notFoundMetadataErr) {\n          error = notFoundMetadataErr\n          // In PPR rendering we still need to throw the postpone error.\n          // If metadata is postponed, React needs to be aware of the location of error.\n          if (serveStreamingMetadata && isPostpone(notFoundMetadataErr)) {\n            throw notFoundMetadataErr\n          }\n        }\n      }\n      // In PPR rendering we still need to throw the postpone error.\n      // If metadata is postponed, React needs to be aware of the location of error.\n      if (serveStreamingMetadata && isPostpone(metadataErr)) {\n        throw metadataErr\n      }\n      // We don't actually want to error in this component. We will\n      // also error in the MetadataOutlet which causes the error to\n      // bubble from the right position in the page to be caught by the\n      // appropriate boundaries\n      return {\n        metadata: result,\n        error,\n        digest: (error as any)?.digest,\n      }\n    }\n  }\n\n  function Metadata() {\n    if (!serveStreamingMetadata) {\n      return <MetadataResolver />\n    }\n    return (\n      <div hidden>\n        <Suspense fallback={null}>\n          <MetadataResolver />\n        </Suspense>\n      </div>\n    )\n  }\n\n  async function MetadataResolver() {\n    const metadataState = await resolveFinalMetadata()\n    return metadataState.metadata\n  }\n\n  Metadata.displayName = METADATA_BOUNDARY_NAME\n\n  async function getMetadataReady(): Promise<void> {\n    // Only warm up metadata() call when it's blocking metadata,\n    // otherwise it will be fully managed by AsyncMetadata component.\n    if (!serveStreamingMetadata) {\n      await metadata()\n    }\n    return undefined\n  }\n\n  async function getViewportReady(): Promise<void> {\n    await viewport()\n    return undefined\n  }\n\n  function StreamingMetadataOutletImpl() {\n    return <AsyncMetadataOutlet promise={resolveFinalMetadata()} />\n  }\n\n  const StreamingMetadataOutlet = serveStreamingMetadata\n    ? StreamingMetadataOutletImpl\n    : null\n\n  return {\n    ViewportTree,\n    MetadataTree,\n    getViewportReady,\n    getMetadataReady,\n    StreamingMetadataOutlet,\n  }\n}\n\nconst getResolvedMetadata = cache(getResolvedMetadataImpl)\nasync function getResolvedMetadataImpl(\n  tree: LoaderTree,\n  pathname: Promise<string>,\n  searchParams: Promise<ParsedUrlQuery>,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  metadataContext: MetadataContext,\n  workStore: WorkStore,\n  errorType?: MetadataErrorType | 'redirect'\n): Promise<React.ReactNode> {\n  const errorConvention = errorType === 'redirect' ? undefined : errorType\n  return renderMetadata(\n    tree,\n    pathname,\n    searchParams,\n    getDynamicParamFromSegment,\n    metadataContext,\n    workStore,\n    errorConvention\n  )\n}\n\nconst getNotFoundMetadata = cache(getNotFoundMetadataImpl)\nasync function getNotFoundMetadataImpl(\n  tree: LoaderTree,\n  pathname: Promise<string>,\n  searchParams: Promise<ParsedUrlQuery>,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  metadataContext: MetadataContext,\n  workStore: WorkStore\n): Promise<React.ReactNode> {\n  const notFoundErrorConvention = 'not-found'\n  return renderMetadata(\n    tree,\n    pathname,\n    searchParams,\n    getDynamicParamFromSegment,\n    metadataContext,\n    workStore,\n    notFoundErrorConvention\n  )\n}\n\nconst getResolvedViewport = cache(getResolvedViewportImpl)\nasync function getResolvedViewportImpl(\n  tree: LoaderTree,\n  searchParams: Promise<ParsedUrlQuery>,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore,\n  errorType?: MetadataErrorType | 'redirect'\n): Promise<React.ReactNode> {\n  const errorConvention = errorType === 'redirect' ? undefined : errorType\n  return renderViewport(\n    tree,\n    searchParams,\n    getDynamicParamFromSegment,\n    workStore,\n    errorConvention\n  )\n}\n\nconst getNotFoundViewport = cache(getNotFoundViewportImpl)\nasync function getNotFoundViewportImpl(\n  tree: LoaderTree,\n  searchParams: Promise<ParsedUrlQuery>,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore\n): Promise<React.ReactNode> {\n  const notFoundErrorConvention = 'not-found'\n  return renderViewport(\n    tree,\n    searchParams,\n    getDynamicParamFromSegment,\n    workStore,\n    notFoundErrorConvention\n  )\n}\n\nasync function renderMetadata(\n  tree: LoaderTree,\n  pathname: Promise<string>,\n  searchParams: Promise<ParsedUrlQuery>,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  metadataContext: MetadataContext,\n  workStore: WorkStore,\n  errorConvention?: MetadataErrorType\n) {\n  const resolvedMetadata = await resolveMetadata(\n    tree,\n    pathname,\n    searchParams,\n    errorConvention,\n    getDynamicParamFromSegment,\n    workStore,\n    metadataContext\n  )\n  const elements: Array<React.ReactNode> =\n    createMetadataElements(resolvedMetadata)\n  return (\n    <>\n      {elements.map((el, index) => {\n        return cloneElement(el as React.ReactElement, { key: index })\n      })}\n    </>\n  )\n}\n\nasync function renderViewport(\n  tree: LoaderTree,\n  searchParams: Promise<ParsedUrlQuery>,\n  getDynamicParamFromSegment: GetDynamicParamFromSegment,\n  workStore: WorkStore,\n  errorConvention?: MetadataErrorType\n) {\n  const resolvedViewport = await resolveViewport(\n    tree,\n    searchParams,\n    errorConvention,\n    getDynamicParamFromSegment,\n    workStore\n  )\n\n  const elements: Array<React.ReactNode> =\n    createViewportElements(resolvedViewport)\n  return (\n    <>\n      {elements.map((el, index) => {\n        return cloneElement(el as React.ReactElement, { key: index })\n      })}\n    </>\n  )\n}\n\nfunction createMetadataElements(metadata: ResolvedMetadata) {\n  return MetaFilter([\n    BasicMeta({ metadata }),\n    AlternatesMetadata({ alternates: metadata.alternates }),\n    ItunesMeta({ itunes: metadata.itunes }),\n    FacebookMeta({ facebook: metadata.facebook }),\n    PinterestMeta({ pinterest: metadata.pinterest }),\n    FormatDetectionMeta({ formatDetection: metadata.formatDetection }),\n    VerificationMeta({ verification: metadata.verification }),\n    AppleWebAppMeta({ appleWebApp: metadata.appleWebApp }),\n    OpenGraphMetadata({ openGraph: metadata.openGraph }),\n    TwitterMetadata({ twitter: metadata.twitter }),\n    AppLinksMeta({ appLinks: metadata.appLinks }),\n    IconsMetadata({ icons: metadata.icons }),\n  ])\n}\n\nfunction createViewportElements(viewport: ResolvedViewport) {\n  return MetaFilter([ViewportMeta({ viewport: viewport })])\n}\n","/**\n * Clones a response by teeing the body so we can return two independent\n * ReadableStreams from it. This avoids the bug in the undici library around\n * response cloning.\n *\n * After cloning, the original response's body will be consumed and closed.\n *\n * @see https://github.com/vercel/next.js/pull/73274\n *\n * @param original - The original response to clone.\n * @returns A tuple containing two independent clones of the original response.\n */\nexport function cloneResponse(original: Response): [Response, Response] {\n  // If the response has no body, then we can just return the original response\n  // twice because it's immutable.\n  if (!original.body) {\n    return [original, original]\n  }\n\n  const [body1, body2] = original.body.tee()\n\n  const cloned1 = new Response(body1, {\n    status: original.status,\n    statusText: original.statusText,\n    headers: original.headers,\n  })\n\n  Object.defineProperty(cloned1, 'url', {\n    value: original.url,\n  })\n\n  const cloned2 = new Response(body2, {\n    status: original.status,\n    statusText: original.statusText,\n    headers: original.headers,\n  })\n\n  Object.defineProperty(cloned2, 'url', {\n    value: original.url,\n  })\n\n  return [cloned1, cloned2]\n}\n","/**\n * Based on https://github.com/facebook/react/blob/d4e78c42a94be027b4dc7ed2659a5fddfbf9bd4e/packages/react/src/ReactFetch.js\n */\nimport * as React from 'react'\nimport { cloneResponse } from './clone-response'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nconst simpleCacheKey = '[\"GET\",[],null,\"follow\",null,null,null,null]' // generateCacheKey(new Request('https://blank'));\n\nfunction generateCacheKey(request: Request): string {\n  // We pick the fields that goes into the key used to dedupe requests.\n  // We don't include the `cache` field, because we end up using whatever\n  // caching resulted from the first request.\n  // Notably we currently don't consider non-standard (or future) options.\n  // This might not be safe. TODO: warn for non-standard extensions differing.\n  // IF YOU CHANGE THIS UPDATE THE simpleCacheKey ABOVE.\n  return JSON.stringify([\n    request.method,\n    Array.from(request.headers.entries()),\n    request.mode,\n    request.redirect,\n    request.credentials,\n    request.referrer,\n    request.referrerPolicy,\n    request.integrity,\n  ])\n}\n\ntype CacheEntry = [\n  key: string,\n  promise: Promise<Response>,\n  response: Response | null,\n]\n\nexport function createDedupeFetch(originalFetch: typeof fetch) {\n  const getCacheEntries = React.cache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars -- url is the cache key\n    (url: string): CacheEntry[] => []\n  )\n\n  return function dedupeFetch(\n    resource: URL | RequestInfo,\n    options?: RequestInit\n  ): Promise<Response> {\n    if (options && options.signal) {\n      // If we're passed a signal, then we assume that\n      // someone else controls the lifetime of this object and opts out of\n      // caching. It's effectively the opt-out mechanism.\n      // Ideally we should be able to check this on the Request but\n      // it always gets initialized with its own signal so we don't\n      // know if it's supposed to override - unless we also override the\n      // Request constructor.\n      return originalFetch(resource, options)\n    }\n    // Normalize the Request\n    let url: string\n    let cacheKey: string\n    if (typeof resource === 'string' && !options) {\n      // Fast path.\n      cacheKey = simpleCacheKey\n      url = resource\n    } else {\n      // Normalize the request.\n      // if resource is not a string or a URL (its an instance of Request)\n      // then do not instantiate a new Request but instead\n      // reuse the request as to not disturb the body in the event it's a ReadableStream.\n      const request =\n        typeof resource === 'string' || resource instanceof URL\n          ? new Request(resource, options)\n          : resource\n      if (\n        (request.method !== 'GET' && request.method !== 'HEAD') ||\n        request.keepalive\n      ) {\n        // We currently don't dedupe requests that might have side-effects. Those\n        // have to be explicitly cached. We assume that the request doesn't have a\n        // body if it's GET or HEAD.\n        // keepalive gets treated the same as if you passed a custom cache signal.\n        return originalFetch(resource, options)\n      }\n      cacheKey = generateCacheKey(request)\n      url = request.url\n    }\n\n    const cacheEntries = getCacheEntries(url)\n    for (let i = 0, j = cacheEntries.length; i < j; i += 1) {\n      const [key, promise] = cacheEntries[i]\n      if (key === cacheKey) {\n        return promise.then(() => {\n          const response = cacheEntries[i][2]\n          if (!response) throw new InvariantError('No cached response')\n\n          // We're cloning the response using this utility because there exists\n          // a bug in the undici library around response cloning. See the\n          // following pull request for more details:\n          // https://github.com/vercel/next.js/pull/73274\n          const [cloned1, cloned2] = cloneResponse(response)\n          cacheEntries[i][2] = cloned2\n          return cloned1\n        })\n      }\n    }\n\n    // We pass the original arguments here in case normalizing the Request\n    // doesn't include all the options in this environment.\n    const promise = originalFetch(resource, options)\n    const entry: CacheEntry = [cacheKey, promise, null]\n    cacheEntries.push(entry)\n\n    return promise.then((response) => {\n      // We're cloning the response using this utility because there exists\n      // a bug in the undici library around response cloning. See the\n      // following pull request for more details:\n      // https://github.com/vercel/next.js/pull/73274\n      const [cloned1, cloned2] = cloneResponse(response)\n      entry[2] = cloned2\n      return cloned1\n    })\n  }\n}\n","import type {\n  WorkAsyncStorage,\n  WorkStore,\n} from '../app-render/work-async-storage.external'\n\nimport { AppRenderSpan, NextNodeServerSpan } from './trace/constants'\nimport { getTracer, SpanKind } from './trace/tracer'\nimport {\n  CACHE_ONE_YEAR,\n  INFINITE_CACHE,\n  NEXT_CACHE_TAG_MAX_ITEMS,\n  NEXT_CACHE_TAG_MAX_LENGTH,\n} from '../../lib/constants'\nimport { markCurrentScopeAsDynamic } from '../app-render/dynamic-rendering'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport type { FetchMetric } from '../base-http'\nimport { createDedupeFetch } from './dedupe-fetch'\nimport type { WorkUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\nimport {\n  CachedRouteKind,\n  IncrementalCacheKind,\n  type CachedFetchData,\n} from '../response-cache'\nimport { waitAtLeastOneReactRenderTask } from '../../lib/scheduler'\nimport { cloneResponse } from './clone-response'\n\nconst isEdgeRuntime = process.env.NEXT_RUNTIME === 'edge'\n\ntype Fetcher = typeof fetch\n\ntype PatchedFetcher = Fetcher & {\n  readonly __nextPatched: true\n  readonly __nextGetStaticStore: () => WorkAsyncStorage\n  readonly _nextOriginalFetch: Fetcher\n}\n\nexport const NEXT_PATCH_SYMBOL = Symbol.for('next-patch')\n\nfunction isFetchPatched() {\n  return (globalThis as Record<symbol, unknown>)[NEXT_PATCH_SYMBOL] === true\n}\n\nexport function validateRevalidate(\n  revalidateVal: unknown,\n  route: string\n): undefined | number {\n  try {\n    let normalizedRevalidate: number | undefined = undefined\n\n    if (revalidateVal === false) {\n      normalizedRevalidate = INFINITE_CACHE\n    } else if (\n      typeof revalidateVal === 'number' &&\n      !isNaN(revalidateVal) &&\n      revalidateVal > -1\n    ) {\n      normalizedRevalidate = revalidateVal\n    } else if (typeof revalidateVal !== 'undefined') {\n      throw new Error(\n        `Invalid revalidate value \"${revalidateVal}\" on \"${route}\", must be a non-negative number or false`\n      )\n    }\n    return normalizedRevalidate\n  } catch (err: any) {\n    // handle client component error from attempting to check revalidate value\n    if (err instanceof Error && err.message.includes('Invalid revalidate')) {\n      throw err\n    }\n    return undefined\n  }\n}\n\nexport function validateTags(tags: any[], description: string) {\n  const validTags: string[] = []\n  const invalidTags: Array<{\n    tag: any\n    reason: string\n  }> = []\n\n  for (let i = 0; i < tags.length; i++) {\n    const tag = tags[i]\n\n    if (typeof tag !== 'string') {\n      invalidTags.push({ tag, reason: 'invalid type, must be a string' })\n    } else if (tag.length > NEXT_CACHE_TAG_MAX_LENGTH) {\n      invalidTags.push({\n        tag,\n        reason: `exceeded max length of ${NEXT_CACHE_TAG_MAX_LENGTH}`,\n      })\n    } else {\n      validTags.push(tag)\n    }\n\n    if (validTags.length > NEXT_CACHE_TAG_MAX_ITEMS) {\n      console.warn(\n        `Warning: exceeded max tag count for ${description}, dropped tags:`,\n        tags.slice(i).join(', ')\n      )\n      break\n    }\n  }\n\n  if (invalidTags.length > 0) {\n    console.warn(`Warning: invalid tags passed to ${description}: `)\n\n    for (const { tag, reason } of invalidTags) {\n      console.log(`tag: \"${tag}\" ${reason}`)\n    }\n  }\n  return validTags\n}\n\nfunction trackFetchMetric(\n  workStore: WorkStore,\n  ctx: Omit<FetchMetric, 'end' | 'idx'>\n) {\n  // If the static generation store is not available, we can't track the fetch\n  if (!workStore) return\n  if (workStore.requestEndedState?.ended) return\n\n  const isDebugBuild =\n    (!!process.env.NEXT_DEBUG_BUILD ||\n      process.env.NEXT_SSG_FETCH_METRICS === '1') &&\n    workStore.isStaticGeneration\n  const isDevelopment = process.env.NODE_ENV === 'development'\n\n  if (\n    // The only time we want to track fetch metrics outside of development is when\n    // we are performing a static generation & we are in debug mode.\n    !isDebugBuild &&\n    !isDevelopment\n  ) {\n    return\n  }\n\n  workStore.fetchMetrics ??= []\n\n  workStore.fetchMetrics.push({\n    ...ctx,\n    end: performance.timeOrigin + performance.now(),\n    idx: workStore.nextFetchId || 0,\n  })\n}\n\ninterface PatchableModule {\n  workAsyncStorage: WorkAsyncStorage\n  workUnitAsyncStorage: WorkUnitAsyncStorage\n}\n\nexport function createPatchedFetcher(\n  originFetch: Fetcher,\n  { workAsyncStorage, workUnitAsyncStorage }: PatchableModule\n): PatchedFetcher {\n  // Create the patched fetch function. We don't set the type here, as it's\n  // verified as the return value of this function.\n  const patched = async (\n    input: RequestInfo | URL,\n    init: RequestInit | undefined\n  ) => {\n    let url: URL | undefined\n    try {\n      url = new URL(input instanceof Request ? input.url : input)\n      url.username = ''\n      url.password = ''\n    } catch {\n      // Error caused by malformed URL should be handled by native fetch\n      url = undefined\n    }\n    const fetchUrl = url?.href ?? ''\n    const method = init?.method?.toUpperCase() || 'GET'\n\n    // Do create a new span trace for internal fetches in the\n    // non-verbose mode.\n    const isInternal = (init?.next as any)?.internal === true\n    const hideSpan = process.env.NEXT_OTEL_FETCH_DISABLED === '1'\n    // We don't track fetch metrics for internal fetches\n    // so it's not critical that we have a start time, as it won't be recorded.\n    // This is to workaround a flaky issue where performance APIs might\n    // not be available and will require follow-up investigation.\n    const fetchStart: number | undefined = isInternal\n      ? undefined\n      : performance.timeOrigin + performance.now()\n\n    const workStore = workAsyncStorage.getStore()\n    const workUnitStore = workUnitAsyncStorage.getStore()\n\n    // During static generation we track cache reads so we can reason about when they fill\n    let cacheSignal =\n      workUnitStore && workUnitStore.type === 'prerender'\n        ? workUnitStore.cacheSignal\n        : null\n    if (cacheSignal) {\n      cacheSignal.beginRead()\n    }\n\n    const result = getTracer().trace(\n      isInternal ? NextNodeServerSpan.internalFetch : AppRenderSpan.fetch,\n      {\n        hideSpan,\n        kind: SpanKind.CLIENT,\n        spanName: ['fetch', method, fetchUrl].filter(Boolean).join(' '),\n        attributes: {\n          'http.url': fetchUrl,\n          'http.method': method,\n          'net.peer.name': url?.hostname,\n          'net.peer.port': url?.port || undefined,\n        },\n      },\n      async () => {\n        // If this is an internal fetch, we should not do any special treatment.\n        if (isInternal) {\n          return originFetch(input, init)\n        }\n\n        // If the workStore is not available, we can't do any\n        // special treatment of fetch, therefore fallback to the original\n        // fetch implementation.\n        if (!workStore) {\n          return originFetch(input, init)\n        }\n\n        // We should also fallback to the original fetch implementation if we\n        // are in draft mode, it does not constitute a static generation.\n        if (workStore.isDraftMode) {\n          return originFetch(input, init)\n        }\n\n        const isRequestInput =\n          input &&\n          typeof input === 'object' &&\n          typeof (input as Request).method === 'string'\n\n        const getRequestMeta = (field: string) => {\n          // If request input is present but init is not, retrieve from input first.\n          const value = (init as any)?.[field]\n          return value || (isRequestInput ? (input as any)[field] : null)\n        }\n\n        let finalRevalidate: number | undefined = undefined\n        const getNextField = (field: 'revalidate' | 'tags') => {\n          return typeof init?.next?.[field] !== 'undefined'\n            ? init?.next?.[field]\n            : isRequestInput\n              ? (input as any).next?.[field]\n              : undefined\n        }\n        // RequestInit doesn't keep extra fields e.g. next so it's\n        // only available if init is used separate\n        const originalFetchRevalidate = getNextField('revalidate')\n        let currentFetchRevalidate = originalFetchRevalidate\n        const tags: string[] = validateTags(\n          getNextField('tags') || [],\n          `fetch ${input.toString()}`\n        )\n\n        const revalidateStore =\n          workUnitStore &&\n          (workUnitStore.type === 'cache' ||\n            workUnitStore.type === 'prerender' ||\n            // TODO: stop accumulating tags in client prerender\n            workUnitStore.type === 'prerender-client' ||\n            workUnitStore.type === 'prerender-ppr' ||\n            workUnitStore.type === 'prerender-legacy')\n            ? workUnitStore\n            : undefined\n\n        if (revalidateStore) {\n          if (Array.isArray(tags)) {\n            // Collect tags onto parent caches or parent prerenders.\n            const collectedTags =\n              revalidateStore.tags ?? (revalidateStore.tags = [])\n            for (const tag of tags) {\n              if (!collectedTags.includes(tag)) {\n                collectedTags.push(tag)\n              }\n            }\n          }\n        }\n\n        const implicitTags = workUnitStore?.implicitTags\n\n        // Inside unstable-cache we treat it the same as force-no-store on the\n        // page.\n        const pageFetchCacheMode =\n          workUnitStore && workUnitStore.type === 'unstable-cache'\n            ? 'force-no-store'\n            : workStore.fetchCache\n\n        const isUsingNoStore = !!workStore.isUnstableNoStore\n\n        let currentFetchCacheConfig = getRequestMeta('cache')\n        let cacheReason = ''\n        let cacheWarning: string | undefined\n\n        if (\n          typeof currentFetchCacheConfig === 'string' &&\n          typeof currentFetchRevalidate !== 'undefined'\n        ) {\n          // If the revalidate value conflicts with the cache value, we should warn the user and unset the conflicting values.\n          const isConflictingRevalidate =\n            // revalidate: 0 and cache: force-cache\n            (currentFetchCacheConfig === 'force-cache' &&\n              currentFetchRevalidate === 0) ||\n            // revalidate: >0 or revalidate: false and cache: no-store\n            (currentFetchCacheConfig === 'no-store' &&\n              (currentFetchRevalidate > 0 || currentFetchRevalidate === false))\n\n          if (isConflictingRevalidate) {\n            cacheWarning = `Specified \"cache: ${currentFetchCacheConfig}\" and \"revalidate: ${currentFetchRevalidate}\", only one should be specified.`\n            currentFetchCacheConfig = undefined\n            currentFetchRevalidate = undefined\n          }\n        }\n\n        const hasExplicitFetchCacheOptOut =\n          // fetch config itself signals not to cache\n          currentFetchCacheConfig === 'no-cache' ||\n          currentFetchCacheConfig === 'no-store' ||\n          // the fetch isn't explicitly caching and the segment level cache config signals not to cache\n          // note: `pageFetchCacheMode` is also set by being in an unstable_cache context.\n          pageFetchCacheMode === 'force-no-store' ||\n          pageFetchCacheMode === 'only-no-store'\n\n        // If no explicit fetch cache mode is set, but dynamic = `force-dynamic` is set,\n        // we shouldn't consider caching the fetch. This is because the `dynamic` cache\n        // is considered a \"top-level\" cache mode, whereas something like `fetchCache` is more\n        // fine-grained. Top-level modes are responsible for setting reasonable defaults for the\n        // other configurations.\n        const noFetchConfigAndForceDynamic =\n          !pageFetchCacheMode &&\n          !currentFetchCacheConfig &&\n          !currentFetchRevalidate &&\n          workStore.forceDynamic\n\n        if (\n          // force-cache was specified without a revalidate value. We set the revalidate value to false\n          // which will signal the cache to not revalidate\n          currentFetchCacheConfig === 'force-cache' &&\n          typeof currentFetchRevalidate === 'undefined'\n        ) {\n          currentFetchRevalidate = false\n        } else if (\n          hasExplicitFetchCacheOptOut ||\n          noFetchConfigAndForceDynamic\n        ) {\n          currentFetchRevalidate = 0\n        }\n\n        if (\n          currentFetchCacheConfig === 'no-cache' ||\n          currentFetchCacheConfig === 'no-store'\n        ) {\n          cacheReason = `cache: ${currentFetchCacheConfig}`\n        }\n\n        finalRevalidate = validateRevalidate(\n          currentFetchRevalidate,\n          workStore.route\n        )\n\n        const _headers = getRequestMeta('headers')\n        const initHeaders: Headers =\n          typeof _headers?.get === 'function'\n            ? _headers\n            : new Headers(_headers || {})\n\n        const hasUnCacheableHeader =\n          initHeaders.get('authorization') || initHeaders.get('cookie')\n\n        const isUnCacheableMethod = !['get', 'head'].includes(\n          getRequestMeta('method')?.toLowerCase() || 'get'\n        )\n\n        /**\n         * We automatically disable fetch caching under the following conditions:\n         * - Fetch cache configs are not set. Specifically:\n         *    - A page fetch cache mode is not set (export const fetchCache=...)\n         *    - A fetch cache mode is not set in the fetch call (fetch(url, { cache: ... }))\n         *      or the fetch cache mode is set to 'default'\n         *    - A fetch revalidate value is not set in the fetch call (fetch(url, { revalidate: ... }))\n         * - OR the fetch comes after a configuration that triggered dynamic rendering (e.g., reading cookies())\n         *   and the fetch was considered uncacheable (e.g., POST method or has authorization headers)\n         */\n        const hasNoExplicitCacheConfig =\n          // eslint-disable-next-line eqeqeq\n          pageFetchCacheMode == undefined &&\n          // eslint-disable-next-line eqeqeq\n          (currentFetchCacheConfig == undefined ||\n            // when considering whether to opt into the default \"no-cache\" fetch semantics,\n            // a \"default\" cache config should be treated the same as no cache config\n            currentFetchCacheConfig === 'default') &&\n          // eslint-disable-next-line eqeqeq\n          currentFetchRevalidate == undefined\n\n        let autoNoCache = Boolean(\n          (hasUnCacheableHeader || isUnCacheableMethod) &&\n            revalidateStore?.revalidate === 0\n        )\n\n        let isImplicitBuildTimeCache = false\n\n        if (!autoNoCache && hasNoExplicitCacheConfig) {\n          // We don't enable automatic no-cache behavior during build-time\n          // prerendering so that we can still leverage the fetch cache between\n          // export workers.\n          if (workStore.isBuildTimePrerendering) {\n            isImplicitBuildTimeCache = true\n          } else {\n            autoNoCache = true\n          }\n        }\n\n        if (\n          hasNoExplicitCacheConfig &&\n          workUnitStore !== undefined &&\n          (workUnitStore.type === 'prerender' ||\n            // While we don't want to do caching in the client scope\n            // we know the fetch will be dynamic for dynamicIO so we\n            // may as well avoid the call here\n            workUnitStore.type === 'prerender-client')\n        ) {\n          // If we have no cache config, and we're in Dynamic I/O prerendering, it'll be a dynamic call.\n          // We don't have to issue that dynamic call.\n          if (cacheSignal) {\n            cacheSignal.endRead()\n            cacheSignal = null\n          }\n          return makeHangingPromise<Response>(\n            workUnitStore.renderSignal,\n            'fetch()'\n          )\n        }\n\n        switch (pageFetchCacheMode) {\n          case 'force-no-store': {\n            cacheReason = 'fetchCache = force-no-store'\n            break\n          }\n          case 'only-no-store': {\n            if (\n              currentFetchCacheConfig === 'force-cache' ||\n              (typeof finalRevalidate !== 'undefined' && finalRevalidate > 0)\n            ) {\n              throw new Error(\n                `cache: 'force-cache' used on fetch for ${fetchUrl} with 'export const fetchCache = 'only-no-store'`\n              )\n            }\n            cacheReason = 'fetchCache = only-no-store'\n            break\n          }\n          case 'only-cache': {\n            if (currentFetchCacheConfig === 'no-store') {\n              throw new Error(\n                `cache: 'no-store' used on fetch for ${fetchUrl} with 'export const fetchCache = 'only-cache'`\n              )\n            }\n            break\n          }\n          case 'force-cache': {\n            if (\n              typeof currentFetchRevalidate === 'undefined' ||\n              currentFetchRevalidate === 0\n            ) {\n              cacheReason = 'fetchCache = force-cache'\n              finalRevalidate = INFINITE_CACHE\n            }\n            break\n          }\n          default:\n          // sometimes we won't match the above cases. the reason we don't move\n          // everything to this switch is the use of autoNoCache which is not a fetchCacheMode\n          // I suspect this could be unified with fetchCacheMode however in which case we could\n          // simplify the switch case and ensure we have an exhaustive switch handling all modes\n        }\n\n        if (typeof finalRevalidate === 'undefined') {\n          if (pageFetchCacheMode === 'default-cache' && !isUsingNoStore) {\n            finalRevalidate = INFINITE_CACHE\n            cacheReason = 'fetchCache = default-cache'\n          } else if (pageFetchCacheMode === 'default-no-store') {\n            finalRevalidate = 0\n            cacheReason = 'fetchCache = default-no-store'\n          } else if (isUsingNoStore) {\n            finalRevalidate = 0\n            cacheReason = 'noStore call'\n          } else if (autoNoCache) {\n            finalRevalidate = 0\n            cacheReason = 'auto no cache'\n          } else {\n            // TODO: should we consider this case an invariant?\n            cacheReason = 'auto cache'\n            finalRevalidate = revalidateStore\n              ? revalidateStore.revalidate\n              : INFINITE_CACHE\n          }\n        } else if (!cacheReason) {\n          cacheReason = `revalidate: ${finalRevalidate}`\n        }\n\n        if (\n          // when force static is configured we don't bail from\n          // `revalidate: 0` values\n          !(workStore.forceStatic && finalRevalidate === 0) &&\n          // we don't consider autoNoCache to switch to dynamic for ISR\n          !autoNoCache &&\n          // If the revalidate value isn't currently set or the value is less\n          // than the current revalidate value, we should update the revalidate\n          // value.\n          revalidateStore &&\n          finalRevalidate < revalidateStore.revalidate\n        ) {\n          // If we were setting the revalidate value to 0, we should try to\n          // postpone instead first.\n          if (finalRevalidate === 0) {\n            if (workUnitStore) {\n              switch (workUnitStore.type) {\n                case 'prerender':\n                case 'prerender-client':\n                  if (cacheSignal) {\n                    cacheSignal.endRead()\n                    cacheSignal = null\n                  }\n                  return makeHangingPromise<Response>(\n                    workUnitStore.renderSignal,\n                    'fetch()'\n                  )\n                default:\n                // fallthrough\n              }\n            }\n\n            markCurrentScopeAsDynamic(\n              workStore,\n              workUnitStore,\n              `revalidate: 0 fetch ${input} ${workStore.route}`\n            )\n          }\n\n          // We only want to set the revalidate store's revalidate time if it\n          // was explicitly set for the fetch call, i.e.\n          // originalFetchRevalidate.\n          if (revalidateStore && originalFetchRevalidate === finalRevalidate) {\n            revalidateStore.revalidate = finalRevalidate\n          }\n        }\n\n        const isCacheableRevalidate =\n          typeof finalRevalidate === 'number' && finalRevalidate > 0\n\n        let cacheKey: string | undefined\n        const { incrementalCache } = workStore\n\n        const useCacheOrRequestStore =\n          workUnitStore?.type === 'request' || workUnitStore?.type === 'cache'\n            ? workUnitStore\n            : undefined\n\n        if (\n          incrementalCache &&\n          (isCacheableRevalidate ||\n            useCacheOrRequestStore?.serverComponentsHmrCache)\n        ) {\n          try {\n            cacheKey = await incrementalCache.generateCacheKey(\n              fetchUrl,\n              isRequestInput ? (input as RequestInit) : init\n            )\n          } catch (err) {\n            console.error(`Failed to generate cache key for`, input)\n          }\n        }\n\n        const fetchIdx = workStore.nextFetchId ?? 1\n        workStore.nextFetchId = fetchIdx + 1\n\n        let handleUnlock: () => Promise<void> | void = () => {}\n\n        const doOriginalFetch = async (\n          isStale?: boolean,\n          cacheReasonOverride?: string\n        ) => {\n          const requestInputFields = [\n            'cache',\n            'credentials',\n            'headers',\n            'integrity',\n            'keepalive',\n            'method',\n            'mode',\n            'redirect',\n            'referrer',\n            'referrerPolicy',\n            'window',\n            'duplex',\n\n            // don't pass through signal when revalidating\n            ...(isStale ? [] : ['signal']),\n          ]\n\n          if (isRequestInput) {\n            const reqInput: Request = input as any\n            const reqOptions: RequestInit = {\n              body: (reqInput as any)._ogBody || reqInput.body,\n            }\n\n            for (const field of requestInputFields) {\n              // @ts-expect-error custom fields\n              reqOptions[field] = reqInput[field]\n            }\n            input = new Request(reqInput.url, reqOptions)\n          } else if (init) {\n            const { _ogBody, body, signal, ...otherInput } =\n              init as RequestInit & { _ogBody?: any }\n            init = {\n              ...otherInput,\n              body: _ogBody || body,\n              signal: isStale ? undefined : signal,\n            }\n          }\n\n          // add metadata to init without editing the original\n          const clonedInit = {\n            ...init,\n            next: { ...init?.next, fetchType: 'origin', fetchIdx },\n          }\n\n          return originFetch(input, clonedInit)\n            .then(async (res) => {\n              if (!isStale && fetchStart) {\n                trackFetchMetric(workStore, {\n                  start: fetchStart,\n                  url: fetchUrl,\n                  cacheReason: cacheReasonOverride || cacheReason,\n                  cacheStatus:\n                    finalRevalidate === 0 || cacheReasonOverride\n                      ? 'skip'\n                      : 'miss',\n                  cacheWarning,\n                  status: res.status,\n                  method: clonedInit.method || 'GET',\n                })\n              }\n              if (\n                res.status === 200 &&\n                incrementalCache &&\n                cacheKey &&\n                (isCacheableRevalidate ||\n                  useCacheOrRequestStore?.serverComponentsHmrCache)\n              ) {\n                const normalizedRevalidate =\n                  finalRevalidate >= INFINITE_CACHE\n                    ? CACHE_ONE_YEAR\n                    : finalRevalidate\n\n                if (\n                  workUnitStore &&\n                  (workUnitStore.type === 'prerender' ||\n                    workUnitStore.type === 'prerender-client')\n                ) {\n                  // We are prerendering at build time or revalidate time with dynamicIO so we need to\n                  // buffer the response so we can guarantee it can be read in a microtask\n                  const bodyBuffer = await res.arrayBuffer()\n\n                  const fetchedData = {\n                    headers: Object.fromEntries(res.headers.entries()),\n                    body: Buffer.from(bodyBuffer).toString('base64'),\n                    status: res.status,\n                    url: res.url,\n                  }\n\n                  // We can skip checking the serverComponentsHmrCache because we aren't in\n                  // dev mode.\n\n                  await incrementalCache.set(\n                    cacheKey,\n                    {\n                      kind: CachedRouteKind.FETCH,\n                      data: fetchedData,\n                      revalidate: normalizedRevalidate,\n                    },\n                    {\n                      fetchCache: true,\n                      fetchUrl,\n                      fetchIdx,\n                      tags,\n                      isImplicitBuildTimeCache,\n                    }\n                  )\n                  await handleUnlock()\n\n                  // We return a new Response to the caller.\n                  return new Response(bodyBuffer, {\n                    headers: res.headers,\n                    status: res.status,\n                    statusText: res.statusText,\n                  })\n                } else {\n                  // We're cloning the response using this utility because there\n                  // exists a bug in the undici library around response cloning.\n                  // See the following pull request for more details:\n                  // https://github.com/vercel/next.js/pull/73274\n\n                  const [cloned1, cloned2] = cloneResponse(res)\n\n                  // We are dynamically rendering including dev mode. We want to return\n                  // the response to the caller as soon as possible because it might stream\n                  // over a very long time.\n                  const cacheSetPromise = cloned1\n                    .arrayBuffer()\n                    .then(async (arrayBuffer) => {\n                      const bodyBuffer = Buffer.from(arrayBuffer)\n\n                      const fetchedData = {\n                        headers: Object.fromEntries(cloned1.headers.entries()),\n                        body: bodyBuffer.toString('base64'),\n                        status: cloned1.status,\n                        url: cloned1.url,\n                      }\n\n                      useCacheOrRequestStore?.serverComponentsHmrCache?.set(\n                        cacheKey,\n                        fetchedData\n                      )\n\n                      if (isCacheableRevalidate) {\n                        await incrementalCache.set(\n                          cacheKey,\n                          {\n                            kind: CachedRouteKind.FETCH,\n                            data: fetchedData,\n                            revalidate: normalizedRevalidate,\n                          },\n                          {\n                            fetchCache: true,\n                            fetchUrl,\n                            fetchIdx,\n                            tags,\n                            isImplicitBuildTimeCache,\n                          }\n                        )\n                      }\n                    })\n                    .catch((error) =>\n                      console.warn(`Failed to set fetch cache`, input, error)\n                    )\n                    .finally(handleUnlock)\n\n                  const pendingRevalidateKey = `cache-set-${cacheKey}`\n                  workStore.pendingRevalidates ??= {}\n                  if (pendingRevalidateKey in workStore.pendingRevalidates) {\n                    // there is already a pending revalidate entry that\n                    // we need to await to avoid race conditions\n                    await workStore.pendingRevalidates[pendingRevalidateKey]\n                  }\n                  workStore.pendingRevalidates[pendingRevalidateKey] =\n                    cacheSetPromise.finally(() => {\n                      // If the pending revalidate is not present in the store, then\n                      // we have nothing to delete.\n                      if (\n                        !workStore.pendingRevalidates?.[pendingRevalidateKey]\n                      ) {\n                        return\n                      }\n\n                      delete workStore.pendingRevalidates[pendingRevalidateKey]\n                    })\n\n                  return cloned2\n                }\n              }\n\n              // we had response that we determined shouldn't be cached so we return it\n              // and don't cache it. This also needs to unlock the cache lock we acquired.\n              await handleUnlock()\n\n              return res\n            })\n            .catch((error) => {\n              handleUnlock()\n              throw error\n            })\n        }\n\n        let cacheReasonOverride\n        let isForegroundRevalidate = false\n        let isHmrRefreshCache = false\n\n        if (cacheKey && incrementalCache) {\n          let cachedFetchData: CachedFetchData | undefined\n\n          if (\n            useCacheOrRequestStore?.isHmrRefresh &&\n            useCacheOrRequestStore.serverComponentsHmrCache\n          ) {\n            cachedFetchData =\n              useCacheOrRequestStore.serverComponentsHmrCache.get(cacheKey)\n\n            isHmrRefreshCache = true\n          }\n\n          if (isCacheableRevalidate && !cachedFetchData) {\n            handleUnlock = await incrementalCache.lock(cacheKey)\n            const entry = workStore.isOnDemandRevalidate\n              ? null\n              : await incrementalCache.get(cacheKey, {\n                  kind: IncrementalCacheKind.FETCH,\n                  revalidate: finalRevalidate,\n                  fetchUrl,\n                  fetchIdx,\n                  tags,\n                  softTags: implicitTags?.tags,\n                })\n\n            if (hasNoExplicitCacheConfig) {\n              // We sometimes use the cache to dedupe fetches that do not specify a cache configuration\n              // In these cases we want to make sure we still exclude them from prerenders if dynamicIO is on\n              // so we introduce an artificial Task boundary here.\n              if (\n                workUnitStore &&\n                (workUnitStore.type === 'prerender' ||\n                  workUnitStore.type === 'prerender-client')\n              ) {\n                await waitAtLeastOneReactRenderTask()\n              }\n            }\n\n            if (entry) {\n              await handleUnlock()\n            } else {\n              // in dev, incremental cache response will be null in case the browser adds `cache-control: no-cache` in the request headers\n              cacheReasonOverride = 'cache-control: no-cache (hard refresh)'\n            }\n\n            if (entry?.value && entry.value.kind === CachedRouteKind.FETCH) {\n              // when stale and is revalidating we wait for fresh data\n              // so the revalidated entry has the updated data\n              if (workStore.isRevalidate && entry.isStale) {\n                isForegroundRevalidate = true\n              } else {\n                if (entry.isStale) {\n                  workStore.pendingRevalidates ??= {}\n                  if (!workStore.pendingRevalidates[cacheKey]) {\n                    const pendingRevalidate = doOriginalFetch(true)\n                      .then(async (response) => ({\n                        body: await response.arrayBuffer(),\n                        headers: response.headers,\n                        status: response.status,\n                        statusText: response.statusText,\n                      }))\n                      .finally(() => {\n                        workStore.pendingRevalidates ??= {}\n                        delete workStore.pendingRevalidates[cacheKey || '']\n                      })\n\n                    // Attach the empty catch here so we don't get a \"unhandled\n                    // promise rejection\" warning.\n                    pendingRevalidate.catch(console.error)\n\n                    workStore.pendingRevalidates[cacheKey] = pendingRevalidate\n                  }\n                }\n\n                cachedFetchData = entry.value.data\n              }\n            }\n          }\n\n          if (cachedFetchData) {\n            if (fetchStart) {\n              trackFetchMetric(workStore, {\n                start: fetchStart,\n                url: fetchUrl,\n                cacheReason,\n                cacheStatus: isHmrRefreshCache ? 'hmr' : 'hit',\n                cacheWarning,\n                status: cachedFetchData.status || 200,\n                method: init?.method || 'GET',\n              })\n            }\n\n            const response = new Response(\n              Buffer.from(cachedFetchData.body, 'base64'),\n              {\n                headers: cachedFetchData.headers,\n                status: cachedFetchData.status,\n              }\n            )\n\n            Object.defineProperty(response, 'url', {\n              value: cachedFetchData.url,\n            })\n\n            return response\n          }\n        }\n\n        if (workStore.isStaticGeneration && init && typeof init === 'object') {\n          const { cache } = init\n\n          // Delete `cache` property as Cloudflare Workers will throw an error\n          if (isEdgeRuntime) delete init.cache\n\n          if (cache === 'no-store') {\n            // If enabled, we should bail out of static generation.\n            if (workUnitStore) {\n              switch (workUnitStore.type) {\n                case 'prerender':\n                case 'prerender-client':\n                  if (cacheSignal) {\n                    cacheSignal.endRead()\n                    cacheSignal = null\n                  }\n                  return makeHangingPromise<Response>(\n                    workUnitStore.renderSignal,\n                    'fetch()'\n                  )\n                default:\n                // fallthrough\n              }\n            }\n            markCurrentScopeAsDynamic(\n              workStore,\n              workUnitStore,\n              `no-store fetch ${input} ${workStore.route}`\n            )\n          }\n\n          const hasNextConfig = 'next' in init\n          const { next = {} } = init\n          if (\n            typeof next.revalidate === 'number' &&\n            revalidateStore &&\n            next.revalidate < revalidateStore.revalidate\n          ) {\n            if (next.revalidate === 0) {\n              // If enabled, we should bail out of static generation.\n              if (workUnitStore) {\n                switch (workUnitStore.type) {\n                  case 'prerender':\n                  case 'prerender-client':\n                    return makeHangingPromise<Response>(\n                      workUnitStore.renderSignal,\n                      'fetch()'\n                    )\n                  default:\n                  // fallthrough\n                }\n              }\n              markCurrentScopeAsDynamic(\n                workStore,\n                workUnitStore,\n                `revalidate: 0 fetch ${input} ${workStore.route}`\n              )\n            }\n\n            if (!workStore.forceStatic || next.revalidate !== 0) {\n              revalidateStore.revalidate = next.revalidate\n            }\n          }\n          if (hasNextConfig) delete init.next\n        }\n\n        // if we are revalidating the whole page via time or on-demand and\n        // the fetch cache entry is stale we should still de-dupe the\n        // origin hit if it's a cache-able entry\n        if (cacheKey && isForegroundRevalidate) {\n          const pendingRevalidateKey = cacheKey\n          workStore.pendingRevalidates ??= {}\n          let pendingRevalidate =\n            workStore.pendingRevalidates[pendingRevalidateKey]\n\n          if (pendingRevalidate) {\n            const revalidatedResult: {\n              body: ArrayBuffer\n              headers: Headers\n              status: number\n              statusText: string\n            } = await pendingRevalidate\n            return new Response(revalidatedResult.body, {\n              headers: revalidatedResult.headers,\n              status: revalidatedResult.status,\n              statusText: revalidatedResult.statusText,\n            })\n          }\n\n          // We used to just resolve the Response and clone it however for\n          // static generation with dynamicIO we need the response to be able to\n          // be resolved in a microtask and cloning the response will never have\n          // a body that can resolve in a microtask in node (as observed through\n          // experimentation) So instead we await the body and then when it is\n          // available we construct manually cloned Response objects with the\n          // body as an ArrayBuffer. This will be resolvable in a microtask\n          // making it compatible with dynamicIO.\n          const pendingResponse = doOriginalFetch(true, cacheReasonOverride)\n            // We're cloning the response using this utility because there\n            // exists a bug in the undici library around response cloning.\n            // See the following pull request for more details:\n            // https://github.com/vercel/next.js/pull/73274\n            .then(cloneResponse)\n\n          pendingRevalidate = pendingResponse\n            .then(async (responses) => {\n              const response = responses[0]\n              return {\n                body: await response.arrayBuffer(),\n                headers: response.headers,\n                status: response.status,\n                statusText: response.statusText,\n              }\n            })\n            .finally(() => {\n              // If the pending revalidate is not present in the store, then\n              // we have nothing to delete.\n              if (!workStore.pendingRevalidates?.[pendingRevalidateKey]) {\n                return\n              }\n\n              delete workStore.pendingRevalidates[pendingRevalidateKey]\n            })\n\n          // Attach the empty catch here so we don't get a \"unhandled promise\n          // rejection\" warning\n          pendingRevalidate.catch(() => {})\n\n          workStore.pendingRevalidates[pendingRevalidateKey] = pendingRevalidate\n\n          return pendingResponse.then((responses) => responses[1])\n        } else {\n          return doOriginalFetch(false, cacheReasonOverride)\n        }\n      }\n    )\n\n    if (cacheSignal) {\n      try {\n        return await result\n      } finally {\n        if (cacheSignal) {\n          cacheSignal.endRead()\n        }\n      }\n    }\n    return result\n  }\n\n  // Attach the necessary properties to the patched fetch function.\n  // We don't use this to determine if the fetch function has been patched,\n  // but for external consumers to determine if the fetch function has been\n  // patched.\n  patched.__nextPatched = true as const\n  patched.__nextGetStaticStore = () => workAsyncStorage\n  patched._nextOriginalFetch = originFetch\n  ;(globalThis as Record<symbol, unknown>)[NEXT_PATCH_SYMBOL] = true\n\n  return patched\n}\n// we patch fetch to collect cache information used for\n// determining if a page is static or not\nexport function patchFetch(options: PatchableModule) {\n  // If we've already patched fetch, we should not patch it again.\n  if (isFetchPatched()) return\n\n  // Grab the original fetch function. We'll attach this so we can use it in\n  // the patched fetch function.\n  const original = createDedupeFetch(globalThis.fetch)\n\n  // Set the global fetch to the patched fetch.\n  globalThis.fetch = createPatchedFetcher(original, options)\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/error-boundary.js\"));\n","'use client'\n\nimport React, { type JSX } from 'react'\nimport { useUntrackedPathname } from './navigation-untracked'\nimport { isNextRouterError } from './is-next-router-error'\nimport { handleHardNavError } from './nav-failure-handler'\nimport { HandleISRError } from './handle-isr-error'\n\nexport type ErrorComponent = React.ComponentType<{\n  error: Error\n  // global-error, there's no `reset` function;\n  // regular error boundary, there's a `reset` function.\n  reset?: () => void\n}>\n\nexport interface ErrorBoundaryProps {\n  children?: React.ReactNode\n  errorComponent: ErrorComponent | undefined\n  errorStyles?: React.ReactNode | undefined\n  errorScripts?: React.ReactNode | undefined\n}\n\ninterface ErrorBoundaryHandlerProps extends ErrorBoundaryProps {\n  pathname: string | null\n  errorComponent: ErrorComponent\n}\n\ninterface ErrorBoundaryHandlerState {\n  error: Error | null\n  previousPathname: string | null\n}\n\nexport class ErrorBoundaryHandler extends React.Component<\n  ErrorBoundaryHandlerProps,\n  ErrorBoundaryHandlerState\n> {\n  constructor(props: ErrorBoundaryHandlerProps) {\n    super(props)\n    this.state = { error: null, previousPathname: this.props.pathname }\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    if (isNextRouterError(error)) {\n      // Re-throw if an expected internal Next.js router error occurs\n      // this means it should be handled by a different boundary (such as a NotFound boundary in a parent segment)\n      throw error\n    }\n\n    return { error }\n  }\n\n  static getDerivedStateFromProps(\n    props: ErrorBoundaryHandlerProps,\n    state: ErrorBoundaryHandlerState\n  ): ErrorBoundaryHandlerState | null {\n    const { error } = state\n\n    // if we encounter an error while\n    // a navigation is pending we shouldn't render\n    // the error boundary and instead should fallback\n    // to a hard navigation to attempt recovering\n    if (process.env.__NEXT_APP_NAV_FAIL_HANDLING) {\n      if (error && handleHardNavError(error)) {\n        // clear error so we don't render anything\n        return {\n          error: null,\n          previousPathname: props.pathname,\n        }\n      }\n    }\n\n    /**\n     * Handles reset of the error boundary when a navigation happens.\n     * Ensures the error boundary does not stay enabled when navigating to a new page.\n     * Approach of setState in render is safe as it checks the previous pathname and then overrides\n     * it as outlined in https://react.dev/reference/react/useState#storing-information-from-previous-renders\n     */\n    if (props.pathname !== state.previousPathname && state.error) {\n      return {\n        error: null,\n        previousPathname: props.pathname,\n      }\n    }\n    return {\n      error: state.error,\n      previousPathname: props.pathname,\n    }\n  }\n\n  reset = () => {\n    this.setState({ error: null })\n  }\n\n  // Explicit type is needed to avoid the generated `.d.ts` having a wide return type that could be specific to the `@types/react` version.\n  render(): React.ReactNode {\n    if (this.state.error) {\n      return (\n        <>\n          <HandleISRError error={this.state.error} />\n          {this.props.errorStyles}\n          {this.props.errorScripts}\n          <this.props.errorComponent\n            error={this.state.error}\n            reset={this.reset}\n          />\n        </>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\n/**\n * Handles errors through `getDerivedStateFromError`.\n * Renders the provided error component and provides a way to `reset` the error boundary state.\n */\n\n/**\n * Renders error boundary with the provided \"errorComponent\" property as the fallback.\n * If no \"errorComponent\" property is provided it renders the children without an error boundary.\n */\nexport function ErrorBoundary({\n  errorComponent,\n  errorStyles,\n  errorScripts,\n  children,\n}: ErrorBoundaryProps & {\n  children: React.ReactNode\n}): JSX.Element {\n  // When we're rendering the missing params shell, this will return null. This\n  // is because we won't be rendering any not found boundaries or error\n  // boundaries for the missing params shell. When this runs on the client\n  // (where these errors can occur), we will get the correct pathname.\n  const pathname = useUntrackedPathname()\n  if (errorComponent) {\n    return (\n      <ErrorBoundaryHandler\n        pathname={pathname}\n        errorComponent={errorComponent}\n        errorStyles={errorStyles}\n        errorScripts={errorScripts}\n      >\n        {children}\n      </ErrorBoundaryHandler>\n    )\n  }\n\n  return <>{children}</>\n}\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/global-error.js\"));\n","'use client'\n\nimport { HandleISRError } from './handle-isr-error'\n\nconst styles = {\n  error: {\n    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n    fontFamily:\n      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n    height: '100vh',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '28px',\n    margin: '0 8px',\n  },\n} as const\n\nexport type GlobalErrorComponent = React.ComponentType<{\n  error: any\n}>\nfunction GlobalError({ error }: { error: any }) {\n  const digest: string | undefined = error?.digest\n  return (\n    <html id=\"__next_error__\">\n      <head></head>\n      <body>\n        <HandleISRError error={error} />\n        <div style={styles.error}>\n          <div>\n            <h2 style={styles.text}>\n              Application error: a {digest ? 'server' : 'client'}-side exception\n              has occurred while loading {window.location.hostname} (see the{' '}\n              {digest ? 'server logs' : 'browser console'} for more\n              information).\n            </h2>\n            {digest ? <p style={styles.text}>{`Digest: ${digest}`}</p> : null}\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n\n// Exported so that the import signature in the loaders can be identical to user\n// supplied custom global error signatures.\nexport default GlobalError\n","const { createClientModuleProxy } = require(\"react-server-dom-turbopack/server.edge\");\n\n__turbopack_context__.n(createClientModuleProxy(\"[project]/docs-fuma/node_modules/next/dist/esm/client/components/metadata/metadata-boundary.js\"));\n","'use client'\n\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n} from '../../../lib/metadata/metadata-constants'\n\n// We use a namespace object to allow us to recover the name of the function\n// at runtime even when production bundling/minification is used.\nconst NameSpace = {\n  [METADATA_BOUNDARY_NAME]: function ({\n    children,\n  }: {\n    children: React.ReactNode\n  }) {\n    return children\n  },\n  [VIEWPORT_BOUNDARY_NAME]: function ({\n    children,\n  }: {\n    children: React.ReactNode\n  }) {\n    return children\n  },\n  [OUTLET_BOUNDARY_NAME]: function ({\n    children,\n  }: {\n    children: React.ReactNode\n  }) {\n    return children\n  },\n}\n\nexport const MetadataBoundary =\n  // We use slice(0) to trick the bundler into not inlining/minifying the function\n  // so it retains the name inferred from the namespace object\n  NameSpace[METADATA_BOUNDARY_NAME.slice(0) as typeof METADATA_BOUNDARY_NAME]\n\nexport const ViewportBoundary =\n  // We use slice(0) to trick the bundler into not inlining/minifying the function\n  // so it retains the name inferred from the namespace object\n  NameSpace[VIEWPORT_BOUNDARY_NAME.slice(0) as typeof VIEWPORT_BOUNDARY_NAME]\n\nexport const OutletBoundary =\n  // We use slice(0) to trick the bundler into not inlining/minifying the function\n  // so it retains the name inferred from the namespace object\n  NameSpace[OUTLET_BOUNDARY_NAME.slice(0) as typeof OUTLET_BOUNDARY_NAME]\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.ReactDOM\n","/*\n\nFiles in the rsc directory are meant to be packaged as part of the RSC graph using next-app-loader.\n\n*/\n\nimport ReactDOM from 'react-dom'\n\nexport function preloadStyle(\n  href: string,\n  crossOrigin: string | undefined,\n  nonce: string | undefined\n) {\n  const opts: any = { as: 'style' }\n  if (typeof crossOrigin === 'string') {\n    opts.crossOrigin = crossOrigin\n  }\n  if (typeof nonce === 'string') {\n    opts.nonce = nonce\n  }\n  ReactDOM.preload(href, opts)\n}\n\nexport function preloadFont(\n  href: string,\n  type: string,\n  crossOrigin: string | undefined,\n  nonce: string | undefined\n) {\n  const opts: any = { as: 'font', type }\n  if (typeof crossOrigin === 'string') {\n    opts.crossOrigin = crossOrigin\n  }\n  if (typeof nonce === 'string') {\n    opts.nonce = nonce\n  }\n  ReactDOM.preload(href, opts)\n}\n\nexport function preconnect(\n  href: string,\n  crossOrigin: string | undefined,\n  nonce: string | undefined\n) {\n  const opts: any = {}\n  if (typeof crossOrigin === 'string') {\n    opts.crossOrigin = crossOrigin\n  }\n  if (typeof nonce === 'string') {\n    opts.nonce = nonce\n  }\n  ;(ReactDOM as any).preconnect(href, opts)\n}\n","/*\n\nFiles in the rsc directory are meant to be packaged as part of the RSC graph using next-app-loader.\n\n*/\n\n// When postpone is available in canary React we can switch to importing it directly\nexport { Postpone } from '../dynamic-rendering'\n","/*\n\nFiles in the rsc directory are meant to be packaged as part of the RSC graph using next-app-loader.\n\n*/\n\nimport * as React from 'react'\n\ntype Reference = object\ntype TaintableUniqueValue = string | bigint | ArrayBufferView\n\nfunction notImplemented() {\n  throw new Error('Taint can only be used with the taint flag.')\n}\n\nexport const taintObjectReference: (\n  message: string | undefined,\n  object: Reference\n) => void = process.env.__NEXT_EXPERIMENTAL_REACT\n  ? // @ts-ignore\n    React.experimental_taintObjectReference\n  : notImplemented\nexport const taintUniqueValue: (\n  message: string | undefined,\n  lifetime: Reference,\n  value: TaintableUniqueValue\n) => void = process.env.__NEXT_EXPERIMENTAL_REACT\n  ? // @ts-ignore\n    React.experimental_taintUniqueValue\n  : notImplemented\n","/**\n * @license React\n * react-server-dom-turbopack-client.edge.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar ReactDOM = require(\"react-dom\"),\n  decoderOptions = { stream: !0 };\nfunction resolveClientReference(bundlerConfig, metadata) {\n  if (bundlerConfig) {\n    var moduleExports = bundlerConfig[metadata[0]];\n    if ((bundlerConfig = moduleExports && moduleExports[metadata[2]]))\n      moduleExports = bundlerConfig.name;\n    else {\n      bundlerConfig = moduleExports && moduleExports[\"*\"];\n      if (!bundlerConfig)\n        throw Error(\n          'Could not find the module \"' +\n            metadata[0] +\n            '\" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.'\n        );\n      moduleExports = metadata[2];\n    }\n    return 4 === metadata.length\n      ? [bundlerConfig.id, bundlerConfig.chunks, moduleExports, 1]\n      : [bundlerConfig.id, bundlerConfig.chunks, moduleExports];\n  }\n  return metadata;\n}\nfunction resolveServerReference(bundlerConfig, id) {\n  var name = \"\",\n    resolvedModuleData = bundlerConfig[id];\n  if (resolvedModuleData) name = resolvedModuleData.name;\n  else {\n    var idx = id.lastIndexOf(\"#\");\n    -1 !== idx &&\n      ((name = id.slice(idx + 1)),\n      (resolvedModuleData = bundlerConfig[id.slice(0, idx)]));\n    if (!resolvedModuleData)\n      throw Error(\n        'Could not find the module \"' +\n          id +\n          '\" in the React Server Manifest. This is probably a bug in the React Server Components bundler.'\n      );\n  }\n  return [resolvedModuleData.id, resolvedModuleData.chunks, name];\n}\nvar chunkCache = new Map();\nfunction requireAsyncModule(id) {\n  var promise = globalThis.__next_require__(id);\n  if (\"function\" !== typeof promise.then || \"fulfilled\" === promise.status)\n    return null;\n  promise.then(\n    function (value) {\n      promise.status = \"fulfilled\";\n      promise.value = value;\n    },\n    function (reason) {\n      promise.status = \"rejected\";\n      promise.reason = reason;\n    }\n  );\n  return promise;\n}\nfunction ignoreReject() {}\nfunction preloadModule(metadata) {\n  for (var chunks = metadata[1], promises = [], i = 0; i < chunks.length; i++) {\n    var chunkFilename = chunks[i],\n      entry = chunkCache.get(chunkFilename);\n    if (void 0 === entry) {\n      entry = globalThis.__next_chunk_load__(chunkFilename);\n      promises.push(entry);\n      var resolve = chunkCache.set.bind(chunkCache, chunkFilename, null);\n      entry.then(resolve, ignoreReject);\n      chunkCache.set(chunkFilename, entry);\n    } else null !== entry && promises.push(entry);\n  }\n  return 4 === metadata.length\n    ? 0 === promises.length\n      ? requireAsyncModule(metadata[0])\n      : Promise.all(promises).then(function () {\n          return requireAsyncModule(metadata[0]);\n        })\n    : 0 < promises.length\n      ? Promise.all(promises)\n      : null;\n}\nfunction requireModule(metadata) {\n  var moduleExports = globalThis.__next_require__(metadata[0]);\n  if (4 === metadata.length && \"function\" === typeof moduleExports.then)\n    if (\"fulfilled\" === moduleExports.status)\n      moduleExports = moduleExports.value;\n    else throw moduleExports.reason;\n  return \"*\" === metadata[2]\n    ? moduleExports\n    : \"\" === metadata[2]\n      ? moduleExports.__esModule\n        ? moduleExports.default\n        : moduleExports\n      : moduleExports[metadata[2]];\n}\nfunction prepareDestinationWithChunks(moduleLoading, chunks, nonce$jscomp$0) {\n  if (null !== moduleLoading)\n    for (var i = 0; i < chunks.length; i++) {\n      var nonce = nonce$jscomp$0,\n        JSCompiler_temp_const = ReactDOMSharedInternals.d,\n        JSCompiler_temp_const$jscomp$0 = JSCompiler_temp_const.X,\n        JSCompiler_temp_const$jscomp$1 = moduleLoading.prefix + chunks[i];\n      var JSCompiler_inline_result = moduleLoading.crossOrigin;\n      JSCompiler_inline_result =\n        \"string\" === typeof JSCompiler_inline_result\n          ? \"use-credentials\" === JSCompiler_inline_result\n            ? JSCompiler_inline_result\n            : \"\"\n          : void 0;\n      JSCompiler_temp_const$jscomp$0.call(\n        JSCompiler_temp_const,\n        JSCompiler_temp_const$jscomp$1,\n        { crossOrigin: JSCompiler_inline_result, nonce: nonce }\n      );\n    }\n}\nvar ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ASYNC_ITERATOR = Symbol.asyncIterator,\n  isArrayImpl = Array.isArray,\n  getPrototypeOf = Object.getPrototypeOf,\n  ObjectPrototype = Object.prototype,\n  knownServerReferences = new WeakMap();\nfunction serializeNumber(number) {\n  return Number.isFinite(number)\n    ? 0 === number && -Infinity === 1 / number\n      ? \"$-0\"\n      : number\n    : Infinity === number\n      ? \"$Infinity\"\n      : -Infinity === number\n        ? \"$-Infinity\"\n        : \"$NaN\";\n}\nfunction processReply(\n  root,\n  formFieldPrefix,\n  temporaryReferences,\n  resolve,\n  reject\n) {\n  function serializeTypedArray(tag, typedArray) {\n    typedArray = new Blob([\n      new Uint8Array(\n        typedArray.buffer,\n        typedArray.byteOffset,\n        typedArray.byteLength\n      )\n    ]);\n    var blobId = nextPartId++;\n    null === formData && (formData = new FormData());\n    formData.append(formFieldPrefix + blobId, typedArray);\n    return \"$\" + tag + blobId.toString(16);\n  }\n  function serializeBinaryReader(reader) {\n    function progress(entry) {\n      entry.done\n        ? ((entry = nextPartId++),\n          data.append(formFieldPrefix + entry, new Blob(buffer)),\n          data.append(\n            formFieldPrefix + streamId,\n            '\"$o' + entry.toString(16) + '\"'\n          ),\n          data.append(formFieldPrefix + streamId, \"C\"),\n          pendingParts--,\n          0 === pendingParts && resolve(data))\n        : (buffer.push(entry.value),\n          reader.read(new Uint8Array(1024)).then(progress, reject));\n    }\n    null === formData && (formData = new FormData());\n    var data = formData;\n    pendingParts++;\n    var streamId = nextPartId++,\n      buffer = [];\n    reader.read(new Uint8Array(1024)).then(progress, reject);\n    return \"$r\" + streamId.toString(16);\n  }\n  function serializeReader(reader) {\n    function progress(entry) {\n      if (entry.done)\n        data.append(formFieldPrefix + streamId, \"C\"),\n          pendingParts--,\n          0 === pendingParts && resolve(data);\n      else\n        try {\n          var partJSON = JSON.stringify(entry.value, resolveToJSON);\n          data.append(formFieldPrefix + streamId, partJSON);\n          reader.read().then(progress, reject);\n        } catch (x) {\n          reject(x);\n        }\n    }\n    null === formData && (formData = new FormData());\n    var data = formData;\n    pendingParts++;\n    var streamId = nextPartId++;\n    reader.read().then(progress, reject);\n    return \"$R\" + streamId.toString(16);\n  }\n  function serializeReadableStream(stream) {\n    try {\n      var binaryReader = stream.getReader({ mode: \"byob\" });\n    } catch (x) {\n      return serializeReader(stream.getReader());\n    }\n    return serializeBinaryReader(binaryReader);\n  }\n  function serializeAsyncIterable(iterable, iterator) {\n    function progress(entry) {\n      if (entry.done) {\n        if (void 0 === entry.value)\n          data.append(formFieldPrefix + streamId, \"C\");\n        else\n          try {\n            var partJSON = JSON.stringify(entry.value, resolveToJSON);\n            data.append(formFieldPrefix + streamId, \"C\" + partJSON);\n          } catch (x) {\n            reject(x);\n            return;\n          }\n        pendingParts--;\n        0 === pendingParts && resolve(data);\n      } else\n        try {\n          var partJSON$22 = JSON.stringify(entry.value, resolveToJSON);\n          data.append(formFieldPrefix + streamId, partJSON$22);\n          iterator.next().then(progress, reject);\n        } catch (x$23) {\n          reject(x$23);\n        }\n    }\n    null === formData && (formData = new FormData());\n    var data = formData;\n    pendingParts++;\n    var streamId = nextPartId++;\n    iterable = iterable === iterator;\n    iterator.next().then(progress, reject);\n    return \"$\" + (iterable ? \"x\" : \"X\") + streamId.toString(16);\n  }\n  function resolveToJSON(key, value) {\n    if (null === value) return null;\n    if (\"object\" === typeof value) {\n      switch (value.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          if (void 0 !== temporaryReferences && -1 === key.indexOf(\":\")) {\n            var parentReference = writtenObjects.get(this);\n            if (void 0 !== parentReference)\n              return (\n                temporaryReferences.set(parentReference + \":\" + key, value),\n                \"$T\"\n              );\n          }\n          throw Error(\n            \"React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.\"\n          );\n        case REACT_LAZY_TYPE:\n          parentReference = value._payload;\n          var init = value._init;\n          null === formData && (formData = new FormData());\n          pendingParts++;\n          try {\n            var resolvedModel = init(parentReference),\n              lazyId = nextPartId++,\n              partJSON = serializeModel(resolvedModel, lazyId);\n            formData.append(formFieldPrefix + lazyId, partJSON);\n            return \"$\" + lazyId.toString(16);\n          } catch (x) {\n            if (\n              \"object\" === typeof x &&\n              null !== x &&\n              \"function\" === typeof x.then\n            ) {\n              pendingParts++;\n              var lazyId$24 = nextPartId++;\n              parentReference = function () {\n                try {\n                  var partJSON$25 = serializeModel(value, lazyId$24),\n                    data$26 = formData;\n                  data$26.append(formFieldPrefix + lazyId$24, partJSON$25);\n                  pendingParts--;\n                  0 === pendingParts && resolve(data$26);\n                } catch (reason) {\n                  reject(reason);\n                }\n              };\n              x.then(parentReference, parentReference);\n              return \"$\" + lazyId$24.toString(16);\n            }\n            reject(x);\n            return null;\n          } finally {\n            pendingParts--;\n          }\n      }\n      if (\"function\" === typeof value.then) {\n        null === formData && (formData = new FormData());\n        pendingParts++;\n        var promiseId = nextPartId++;\n        value.then(function (partValue) {\n          try {\n            var partJSON$28 = serializeModel(partValue, promiseId);\n            partValue = formData;\n            partValue.append(formFieldPrefix + promiseId, partJSON$28);\n            pendingParts--;\n            0 === pendingParts && resolve(partValue);\n          } catch (reason) {\n            reject(reason);\n          }\n        }, reject);\n        return \"$@\" + promiseId.toString(16);\n      }\n      parentReference = writtenObjects.get(value);\n      if (void 0 !== parentReference)\n        if (modelRoot === value) modelRoot = null;\n        else return parentReference;\n      else\n        -1 === key.indexOf(\":\") &&\n          ((parentReference = writtenObjects.get(this)),\n          void 0 !== parentReference &&\n            ((key = parentReference + \":\" + key),\n            writtenObjects.set(value, key),\n            void 0 !== temporaryReferences &&\n              temporaryReferences.set(key, value)));\n      if (isArrayImpl(value)) return value;\n      if (value instanceof FormData) {\n        null === formData && (formData = new FormData());\n        var data$32 = formData;\n        key = nextPartId++;\n        var prefix = formFieldPrefix + key + \"_\";\n        value.forEach(function (originalValue, originalKey) {\n          data$32.append(prefix + originalKey, originalValue);\n        });\n        return \"$K\" + key.toString(16);\n      }\n      if (value instanceof Map)\n        return (\n          (key = nextPartId++),\n          (parentReference = serializeModel(Array.from(value), key)),\n          null === formData && (formData = new FormData()),\n          formData.append(formFieldPrefix + key, parentReference),\n          \"$Q\" + key.toString(16)\n        );\n      if (value instanceof Set)\n        return (\n          (key = nextPartId++),\n          (parentReference = serializeModel(Array.from(value), key)),\n          null === formData && (formData = new FormData()),\n          formData.append(formFieldPrefix + key, parentReference),\n          \"$W\" + key.toString(16)\n        );\n      if (value instanceof ArrayBuffer)\n        return (\n          (key = new Blob([value])),\n          (parentReference = nextPartId++),\n          null === formData && (formData = new FormData()),\n          formData.append(formFieldPrefix + parentReference, key),\n          \"$A\" + parentReference.toString(16)\n        );\n      if (value instanceof Int8Array) return serializeTypedArray(\"O\", value);\n      if (value instanceof Uint8Array) return serializeTypedArray(\"o\", value);\n      if (value instanceof Uint8ClampedArray)\n        return serializeTypedArray(\"U\", value);\n      if (value instanceof Int16Array) return serializeTypedArray(\"S\", value);\n      if (value instanceof Uint16Array) return serializeTypedArray(\"s\", value);\n      if (value instanceof Int32Array) return serializeTypedArray(\"L\", value);\n      if (value instanceof Uint32Array) return serializeTypedArray(\"l\", value);\n      if (value instanceof Float32Array) return serializeTypedArray(\"G\", value);\n      if (value instanceof Float64Array) return serializeTypedArray(\"g\", value);\n      if (value instanceof BigInt64Array)\n        return serializeTypedArray(\"M\", value);\n      if (value instanceof BigUint64Array)\n        return serializeTypedArray(\"m\", value);\n      if (value instanceof DataView) return serializeTypedArray(\"V\", value);\n      if (\"function\" === typeof Blob && value instanceof Blob)\n        return (\n          null === formData && (formData = new FormData()),\n          (key = nextPartId++),\n          formData.append(formFieldPrefix + key, value),\n          \"$B\" + key.toString(16)\n        );\n      if ((key = getIteratorFn(value)))\n        return (\n          (parentReference = key.call(value)),\n          parentReference === value\n            ? ((key = nextPartId++),\n              (parentReference = serializeModel(\n                Array.from(parentReference),\n                key\n              )),\n              null === formData && (formData = new FormData()),\n              formData.append(formFieldPrefix + key, parentReference),\n              \"$i\" + key.toString(16))\n            : Array.from(parentReference)\n        );\n      if (\n        \"function\" === typeof ReadableStream &&\n        value instanceof ReadableStream\n      )\n        return serializeReadableStream(value);\n      key = value[ASYNC_ITERATOR];\n      if (\"function\" === typeof key)\n        return serializeAsyncIterable(value, key.call(value));\n      key = getPrototypeOf(value);\n      if (\n        key !== ObjectPrototype &&\n        (null === key || null !== getPrototypeOf(key))\n      ) {\n        if (void 0 === temporaryReferences)\n          throw Error(\n            \"Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.\"\n          );\n        return \"$T\";\n      }\n      return value;\n    }\n    if (\"string\" === typeof value) {\n      if (\"Z\" === value[value.length - 1] && this[key] instanceof Date)\n        return \"$D\" + value;\n      key = \"$\" === value[0] ? \"$\" + value : value;\n      return key;\n    }\n    if (\"boolean\" === typeof value) return value;\n    if (\"number\" === typeof value) return serializeNumber(value);\n    if (\"undefined\" === typeof value) return \"$undefined\";\n    if (\"function\" === typeof value) {\n      parentReference = knownServerReferences.get(value);\n      if (void 0 !== parentReference)\n        return (\n          (key = JSON.stringify(\n            { id: parentReference.id, bound: parentReference.bound },\n            resolveToJSON\n          )),\n          null === formData && (formData = new FormData()),\n          (parentReference = nextPartId++),\n          formData.set(formFieldPrefix + parentReference, key),\n          \"$F\" + parentReference.toString(16)\n        );\n      if (\n        void 0 !== temporaryReferences &&\n        -1 === key.indexOf(\":\") &&\n        ((parentReference = writtenObjects.get(this)),\n        void 0 !== parentReference)\n      )\n        return (\n          temporaryReferences.set(parentReference + \":\" + key, value), \"$T\"\n        );\n      throw Error(\n        \"Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.\"\n      );\n    }\n    if (\"symbol\" === typeof value) {\n      if (\n        void 0 !== temporaryReferences &&\n        -1 === key.indexOf(\":\") &&\n        ((parentReference = writtenObjects.get(this)),\n        void 0 !== parentReference)\n      )\n        return (\n          temporaryReferences.set(parentReference + \":\" + key, value), \"$T\"\n        );\n      throw Error(\n        \"Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.\"\n      );\n    }\n    if (\"bigint\" === typeof value) return \"$n\" + value.toString(10);\n    throw Error(\n      \"Type \" +\n        typeof value +\n        \" is not supported as an argument to a Server Function.\"\n    );\n  }\n  function serializeModel(model, id) {\n    \"object\" === typeof model &&\n      null !== model &&\n      ((id = \"$\" + id.toString(16)),\n      writtenObjects.set(model, id),\n      void 0 !== temporaryReferences && temporaryReferences.set(id, model));\n    modelRoot = model;\n    return JSON.stringify(model, resolveToJSON);\n  }\n  var nextPartId = 1,\n    pendingParts = 0,\n    formData = null,\n    writtenObjects = new WeakMap(),\n    modelRoot = root,\n    json = serializeModel(root, 0);\n  null === formData\n    ? resolve(json)\n    : (formData.set(formFieldPrefix + \"0\", json),\n      0 === pendingParts && resolve(formData));\n  return function () {\n    0 < pendingParts &&\n      ((pendingParts = 0),\n      null === formData ? resolve(json) : resolve(formData));\n  };\n}\nvar boundCache = new WeakMap();\nfunction encodeFormData(reference) {\n  var resolve,\n    reject,\n    thenable = new Promise(function (res, rej) {\n      resolve = res;\n      reject = rej;\n    });\n  processReply(\n    reference,\n    \"\",\n    void 0,\n    function (body) {\n      if (\"string\" === typeof body) {\n        var data = new FormData();\n        data.append(\"0\", body);\n        body = data;\n      }\n      thenable.status = \"fulfilled\";\n      thenable.value = body;\n      resolve(body);\n    },\n    function (e) {\n      thenable.status = \"rejected\";\n      thenable.reason = e;\n      reject(e);\n    }\n  );\n  return thenable;\n}\nfunction defaultEncodeFormAction(identifierPrefix) {\n  var referenceClosure = knownServerReferences.get(this);\n  if (!referenceClosure)\n    throw Error(\n      \"Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.\"\n    );\n  var data = null;\n  if (null !== referenceClosure.bound) {\n    data = boundCache.get(referenceClosure);\n    data ||\n      ((data = encodeFormData({\n        id: referenceClosure.id,\n        bound: referenceClosure.bound\n      })),\n      boundCache.set(referenceClosure, data));\n    if (\"rejected\" === data.status) throw data.reason;\n    if (\"fulfilled\" !== data.status) throw data;\n    referenceClosure = data.value;\n    var prefixedData = new FormData();\n    referenceClosure.forEach(function (value, key) {\n      prefixedData.append(\"$ACTION_\" + identifierPrefix + \":\" + key, value);\n    });\n    data = prefixedData;\n    referenceClosure = \"$ACTION_REF_\" + identifierPrefix;\n  } else referenceClosure = \"$ACTION_ID_\" + referenceClosure.id;\n  return {\n    name: referenceClosure,\n    method: \"POST\",\n    encType: \"multipart/form-data\",\n    data: data\n  };\n}\nfunction isSignatureEqual(referenceId, numberOfBoundArgs) {\n  var referenceClosure = knownServerReferences.get(this);\n  if (!referenceClosure)\n    throw Error(\n      \"Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.\"\n    );\n  if (referenceClosure.id !== referenceId) return !1;\n  var boundPromise = referenceClosure.bound;\n  if (null === boundPromise) return 0 === numberOfBoundArgs;\n  switch (boundPromise.status) {\n    case \"fulfilled\":\n      return boundPromise.value.length === numberOfBoundArgs;\n    case \"pending\":\n      throw boundPromise;\n    case \"rejected\":\n      throw boundPromise.reason;\n    default:\n      throw (\n        (\"string\" !== typeof boundPromise.status &&\n          ((boundPromise.status = \"pending\"),\n          boundPromise.then(\n            function (boundArgs) {\n              boundPromise.status = \"fulfilled\";\n              boundPromise.value = boundArgs;\n            },\n            function (error) {\n              boundPromise.status = \"rejected\";\n              boundPromise.reason = error;\n            }\n          )),\n        boundPromise)\n      );\n  }\n}\nfunction registerBoundServerReference(reference, id, bound, encodeFormAction) {\n  knownServerReferences.has(reference) ||\n    (knownServerReferences.set(reference, {\n      id: id,\n      originalBind: reference.bind,\n      bound: bound\n    }),\n    Object.defineProperties(reference, {\n      $$FORM_ACTION: {\n        value:\n          void 0 === encodeFormAction\n            ? defaultEncodeFormAction\n            : function () {\n                var referenceClosure = knownServerReferences.get(this);\n                if (!referenceClosure)\n                  throw Error(\n                    \"Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.\"\n                  );\n                var boundPromise = referenceClosure.bound;\n                null === boundPromise && (boundPromise = Promise.resolve([]));\n                return encodeFormAction(referenceClosure.id, boundPromise);\n              }\n      },\n      $$IS_SIGNATURE_EQUAL: { value: isSignatureEqual },\n      bind: { value: bind }\n    }));\n}\nvar FunctionBind = Function.prototype.bind,\n  ArraySlice = Array.prototype.slice;\nfunction bind() {\n  var referenceClosure = knownServerReferences.get(this);\n  if (!referenceClosure) return FunctionBind.apply(this, arguments);\n  var newFn = referenceClosure.originalBind.apply(this, arguments),\n    args = ArraySlice.call(arguments, 1),\n    boundPromise = null;\n  boundPromise =\n    null !== referenceClosure.bound\n      ? Promise.resolve(referenceClosure.bound).then(function (boundArgs) {\n          return boundArgs.concat(args);\n        })\n      : Promise.resolve(args);\n  knownServerReferences.set(newFn, {\n    id: referenceClosure.id,\n    originalBind: newFn.bind,\n    bound: boundPromise\n  });\n  Object.defineProperties(newFn, {\n    $$FORM_ACTION: { value: this.$$FORM_ACTION },\n    $$IS_SIGNATURE_EQUAL: { value: isSignatureEqual },\n    bind: { value: bind }\n  });\n  return newFn;\n}\nfunction createBoundServerReference(metaData, callServer, encodeFormAction) {\n  function action() {\n    var args = Array.prototype.slice.call(arguments);\n    return bound\n      ? \"fulfilled\" === bound.status\n        ? callServer(id, bound.value.concat(args))\n        : Promise.resolve(bound).then(function (boundArgs) {\n            return callServer(id, boundArgs.concat(args));\n          })\n      : callServer(id, args);\n  }\n  var id = metaData.id,\n    bound = metaData.bound;\n  registerBoundServerReference(action, id, bound, encodeFormAction);\n  return action;\n}\nfunction createServerReference$1(id, callServer, encodeFormAction) {\n  function action() {\n    var args = Array.prototype.slice.call(arguments);\n    return callServer(id, args);\n  }\n  registerBoundServerReference(action, id, null, encodeFormAction);\n  return action;\n}\nfunction ReactPromise(status, value, reason, response) {\n  this.status = status;\n  this.value = value;\n  this.reason = reason;\n  this._response = response;\n}\nReactPromise.prototype = Object.create(Promise.prototype);\nReactPromise.prototype.then = function (resolve, reject) {\n  switch (this.status) {\n    case \"resolved_model\":\n      initializeModelChunk(this);\n      break;\n    case \"resolved_module\":\n      initializeModuleChunk(this);\n  }\n  switch (this.status) {\n    case \"fulfilled\":\n      resolve(this.value);\n      break;\n    case \"pending\":\n    case \"blocked\":\n      resolve &&\n        (null === this.value && (this.value = []), this.value.push(resolve));\n      reject &&\n        (null === this.reason && (this.reason = []), this.reason.push(reject));\n      break;\n    default:\n      reject && reject(this.reason);\n  }\n};\nfunction readChunk(chunk) {\n  switch (chunk.status) {\n    case \"resolved_model\":\n      initializeModelChunk(chunk);\n      break;\n    case \"resolved_module\":\n      initializeModuleChunk(chunk);\n  }\n  switch (chunk.status) {\n    case \"fulfilled\":\n      return chunk.value;\n    case \"pending\":\n    case \"blocked\":\n      throw chunk;\n    default:\n      throw chunk.reason;\n  }\n}\nfunction createPendingChunk(response) {\n  return new ReactPromise(\"pending\", null, null, response);\n}\nfunction wakeChunk(listeners, value) {\n  for (var i = 0; i < listeners.length; i++) (0, listeners[i])(value);\n}\nfunction wakeChunkIfInitialized(chunk, resolveListeners, rejectListeners) {\n  switch (chunk.status) {\n    case \"fulfilled\":\n      wakeChunk(resolveListeners, chunk.value);\n      break;\n    case \"pending\":\n    case \"blocked\":\n      if (chunk.value)\n        for (var i = 0; i < resolveListeners.length; i++)\n          chunk.value.push(resolveListeners[i]);\n      else chunk.value = resolveListeners;\n      if (chunk.reason) {\n        if (rejectListeners)\n          for (\n            resolveListeners = 0;\n            resolveListeners < rejectListeners.length;\n            resolveListeners++\n          )\n            chunk.reason.push(rejectListeners[resolveListeners]);\n      } else chunk.reason = rejectListeners;\n      break;\n    case \"rejected\":\n      rejectListeners && wakeChunk(rejectListeners, chunk.reason);\n  }\n}\nfunction triggerErrorOnChunk(chunk, error) {\n  if (\"pending\" !== chunk.status && \"blocked\" !== chunk.status)\n    chunk.reason.error(error);\n  else {\n    var listeners = chunk.reason;\n    chunk.status = \"rejected\";\n    chunk.reason = error;\n    null !== listeners && wakeChunk(listeners, error);\n  }\n}\nfunction createResolvedIteratorResultChunk(response, value, done) {\n  return new ReactPromise(\n    \"resolved_model\",\n    (done ? '{\"done\":true,\"value\":' : '{\"done\":false,\"value\":') + value + \"}\",\n    null,\n    response\n  );\n}\nfunction resolveIteratorResultChunk(chunk, value, done) {\n  resolveModelChunk(\n    chunk,\n    (done ? '{\"done\":true,\"value\":' : '{\"done\":false,\"value\":') + value + \"}\"\n  );\n}\nfunction resolveModelChunk(chunk, value) {\n  if (\"pending\" !== chunk.status) chunk.reason.enqueueModel(value);\n  else {\n    var resolveListeners = chunk.value,\n      rejectListeners = chunk.reason;\n    chunk.status = \"resolved_model\";\n    chunk.value = value;\n    null !== resolveListeners &&\n      (initializeModelChunk(chunk),\n      wakeChunkIfInitialized(chunk, resolveListeners, rejectListeners));\n  }\n}\nfunction resolveModuleChunk(chunk, value) {\n  if (\"pending\" === chunk.status || \"blocked\" === chunk.status) {\n    var resolveListeners = chunk.value,\n      rejectListeners = chunk.reason;\n    chunk.status = \"resolved_module\";\n    chunk.value = value;\n    null !== resolveListeners &&\n      (initializeModuleChunk(chunk),\n      wakeChunkIfInitialized(chunk, resolveListeners, rejectListeners));\n  }\n}\nvar initializingHandler = null;\nfunction initializeModelChunk(chunk) {\n  var prevHandler = initializingHandler;\n  initializingHandler = null;\n  var resolvedModel = chunk.value;\n  chunk.status = \"blocked\";\n  chunk.value = null;\n  chunk.reason = null;\n  try {\n    var value = JSON.parse(resolvedModel, chunk._response._fromJSON),\n      resolveListeners = chunk.value;\n    null !== resolveListeners &&\n      ((chunk.value = null),\n      (chunk.reason = null),\n      wakeChunk(resolveListeners, value));\n    if (null !== initializingHandler) {\n      if (initializingHandler.errored) throw initializingHandler.value;\n      if (0 < initializingHandler.deps) {\n        initializingHandler.value = value;\n        initializingHandler.chunk = chunk;\n        return;\n      }\n    }\n    chunk.status = \"fulfilled\";\n    chunk.value = value;\n  } catch (error) {\n    (chunk.status = \"rejected\"), (chunk.reason = error);\n  } finally {\n    initializingHandler = prevHandler;\n  }\n}\nfunction initializeModuleChunk(chunk) {\n  try {\n    var value = requireModule(chunk.value);\n    chunk.status = \"fulfilled\";\n    chunk.value = value;\n  } catch (error) {\n    (chunk.status = \"rejected\"), (chunk.reason = error);\n  }\n}\nfunction reportGlobalError(response, error) {\n  response._closed = !0;\n  response._closedReason = error;\n  response._chunks.forEach(function (chunk) {\n    \"pending\" === chunk.status && triggerErrorOnChunk(chunk, error);\n  });\n}\nfunction createLazyChunkWrapper(chunk) {\n  return { $$typeof: REACT_LAZY_TYPE, _payload: chunk, _init: readChunk };\n}\nfunction getChunk(response, id) {\n  var chunks = response._chunks,\n    chunk = chunks.get(id);\n  chunk ||\n    ((chunk = response._closed\n      ? new ReactPromise(\"rejected\", null, response._closedReason, response)\n      : createPendingChunk(response)),\n    chunks.set(id, chunk));\n  return chunk;\n}\nfunction waitForReference(\n  referencedChunk,\n  parentObject,\n  key,\n  response,\n  map,\n  path\n) {\n  function fulfill(value) {\n    for (var i = 1; i < path.length; i++) {\n      for (; value.$$typeof === REACT_LAZY_TYPE; )\n        if (((value = value._payload), value === handler.chunk))\n          value = handler.value;\n        else if (\"fulfilled\" === value.status) value = value.value;\n        else {\n          path.splice(0, i - 1);\n          value.then(fulfill, reject);\n          return;\n        }\n      value = value[path[i]];\n    }\n    i = map(response, value, parentObject, key);\n    parentObject[key] = i;\n    \"\" === key && null === handler.value && (handler.value = i);\n    if (\n      parentObject[0] === REACT_ELEMENT_TYPE &&\n      \"object\" === typeof handler.value &&\n      null !== handler.value &&\n      handler.value.$$typeof === REACT_ELEMENT_TYPE\n    )\n      switch (((value = handler.value), key)) {\n        case \"3\":\n          value.props = i;\n      }\n    handler.deps--;\n    0 === handler.deps &&\n      ((i = handler.chunk),\n      null !== i &&\n        \"blocked\" === i.status &&\n        ((value = i.value),\n        (i.status = \"fulfilled\"),\n        (i.value = handler.value),\n        null !== value && wakeChunk(value, handler.value)));\n  }\n  function reject(error) {\n    if (!handler.errored) {\n      handler.errored = !0;\n      handler.value = error;\n      var chunk = handler.chunk;\n      null !== chunk &&\n        \"blocked\" === chunk.status &&\n        triggerErrorOnChunk(chunk, error);\n    }\n  }\n  if (initializingHandler) {\n    var handler = initializingHandler;\n    handler.deps++;\n  } else\n    handler = initializingHandler = {\n      parent: null,\n      chunk: null,\n      value: null,\n      deps: 1,\n      errored: !1\n    };\n  referencedChunk.then(fulfill, reject);\n  return null;\n}\nfunction loadServerReference(response, metaData, parentObject, key) {\n  if (!response._serverReferenceConfig)\n    return createBoundServerReference(\n      metaData,\n      response._callServer,\n      response._encodeFormAction\n    );\n  var serverReference = resolveServerReference(\n      response._serverReferenceConfig,\n      metaData.id\n    ),\n    promise = preloadModule(serverReference);\n  if (promise)\n    metaData.bound && (promise = Promise.all([promise, metaData.bound]));\n  else if (metaData.bound) promise = Promise.resolve(metaData.bound);\n  else\n    return (\n      (promise = requireModule(serverReference)),\n      registerBoundServerReference(\n        promise,\n        metaData.id,\n        metaData.bound,\n        response._encodeFormAction\n      ),\n      promise\n    );\n  if (initializingHandler) {\n    var handler = initializingHandler;\n    handler.deps++;\n  } else\n    handler = initializingHandler = {\n      parent: null,\n      chunk: null,\n      value: null,\n      deps: 1,\n      errored: !1\n    };\n  promise.then(\n    function () {\n      var resolvedValue = requireModule(serverReference);\n      if (metaData.bound) {\n        var boundArgs = metaData.bound.value.slice(0);\n        boundArgs.unshift(null);\n        resolvedValue = resolvedValue.bind.apply(resolvedValue, boundArgs);\n      }\n      registerBoundServerReference(\n        resolvedValue,\n        metaData.id,\n        metaData.bound,\n        response._encodeFormAction\n      );\n      parentObject[key] = resolvedValue;\n      \"\" === key && null === handler.value && (handler.value = resolvedValue);\n      if (\n        parentObject[0] === REACT_ELEMENT_TYPE &&\n        \"object\" === typeof handler.value &&\n        null !== handler.value &&\n        handler.value.$$typeof === REACT_ELEMENT_TYPE\n      )\n        switch (((boundArgs = handler.value), key)) {\n          case \"3\":\n            boundArgs.props = resolvedValue;\n        }\n      handler.deps--;\n      0 === handler.deps &&\n        ((resolvedValue = handler.chunk),\n        null !== resolvedValue &&\n          \"blocked\" === resolvedValue.status &&\n          ((boundArgs = resolvedValue.value),\n          (resolvedValue.status = \"fulfilled\"),\n          (resolvedValue.value = handler.value),\n          null !== boundArgs && wakeChunk(boundArgs, handler.value)));\n    },\n    function (error) {\n      if (!handler.errored) {\n        handler.errored = !0;\n        handler.value = error;\n        var chunk = handler.chunk;\n        null !== chunk &&\n          \"blocked\" === chunk.status &&\n          triggerErrorOnChunk(chunk, error);\n      }\n    }\n  );\n  return null;\n}\nfunction getOutlinedModel(response, reference, parentObject, key, map) {\n  reference = reference.split(\":\");\n  var id = parseInt(reference[0], 16);\n  id = getChunk(response, id);\n  switch (id.status) {\n    case \"resolved_model\":\n      initializeModelChunk(id);\n      break;\n    case \"resolved_module\":\n      initializeModuleChunk(id);\n  }\n  switch (id.status) {\n    case \"fulfilled\":\n      var value = id.value;\n      for (id = 1; id < reference.length; id++) {\n        for (; value.$$typeof === REACT_LAZY_TYPE; )\n          if (((value = value._payload), \"fulfilled\" === value.status))\n            value = value.value;\n          else\n            return waitForReference(\n              value,\n              parentObject,\n              key,\n              response,\n              map,\n              reference.slice(id - 1)\n            );\n        value = value[reference[id]];\n      }\n      return map(response, value, parentObject, key);\n    case \"pending\":\n    case \"blocked\":\n      return waitForReference(id, parentObject, key, response, map, reference);\n    default:\n      return (\n        initializingHandler\n          ? ((initializingHandler.errored = !0),\n            (initializingHandler.value = id.reason))\n          : (initializingHandler = {\n              parent: null,\n              chunk: null,\n              value: id.reason,\n              deps: 0,\n              errored: !0\n            }),\n        null\n      );\n  }\n}\nfunction createMap(response, model) {\n  return new Map(model);\n}\nfunction createSet(response, model) {\n  return new Set(model);\n}\nfunction createBlob(response, model) {\n  return new Blob(model.slice(1), { type: model[0] });\n}\nfunction createFormData(response, model) {\n  response = new FormData();\n  for (var i = 0; i < model.length; i++)\n    response.append(model[i][0], model[i][1]);\n  return response;\n}\nfunction extractIterator(response, model) {\n  return model[Symbol.iterator]();\n}\nfunction createModel(response, model) {\n  return model;\n}\nfunction parseModelString(response, parentObject, key, value) {\n  if (\"$\" === value[0]) {\n    if (\"$\" === value)\n      return (\n        null !== initializingHandler &&\n          \"0\" === key &&\n          (initializingHandler = {\n            parent: initializingHandler,\n            chunk: null,\n            value: null,\n            deps: 0,\n            errored: !1\n          }),\n        REACT_ELEMENT_TYPE\n      );\n    switch (value[1]) {\n      case \"$\":\n        return value.slice(1);\n      case \"L\":\n        return (\n          (parentObject = parseInt(value.slice(2), 16)),\n          (response = getChunk(response, parentObject)),\n          createLazyChunkWrapper(response)\n        );\n      case \"@\":\n        if (2 === value.length) return new Promise(function () {});\n        parentObject = parseInt(value.slice(2), 16);\n        return getChunk(response, parentObject);\n      case \"S\":\n        return Symbol.for(value.slice(2));\n      case \"F\":\n        return (\n          (value = value.slice(2)),\n          getOutlinedModel(\n            response,\n            value,\n            parentObject,\n            key,\n            loadServerReference\n          )\n        );\n      case \"T\":\n        parentObject = \"$\" + value.slice(2);\n        response = response._tempRefs;\n        if (null == response)\n          throw Error(\n            \"Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.\"\n          );\n        return response.get(parentObject);\n      case \"Q\":\n        return (\n          (value = value.slice(2)),\n          getOutlinedModel(response, value, parentObject, key, createMap)\n        );\n      case \"W\":\n        return (\n          (value = value.slice(2)),\n          getOutlinedModel(response, value, parentObject, key, createSet)\n        );\n      case \"B\":\n        return (\n          (value = value.slice(2)),\n          getOutlinedModel(response, value, parentObject, key, createBlob)\n        );\n      case \"K\":\n        return (\n          (value = value.slice(2)),\n          getOutlinedModel(response, value, parentObject, key, createFormData)\n        );\n      case \"Z\":\n        return resolveErrorProd();\n      case \"i\":\n        return (\n          (value = value.slice(2)),\n          getOutlinedModel(response, value, parentObject, key, extractIterator)\n        );\n      case \"I\":\n        return Infinity;\n      case \"-\":\n        return \"$-0\" === value ? -0 : -Infinity;\n      case \"N\":\n        return NaN;\n      case \"u\":\n        return;\n      case \"D\":\n        return new Date(Date.parse(value.slice(2)));\n      case \"n\":\n        return BigInt(value.slice(2));\n      default:\n        return (\n          (value = value.slice(1)),\n          getOutlinedModel(response, value, parentObject, key, createModel)\n        );\n    }\n  }\n  return value;\n}\nfunction missingCall() {\n  throw Error(\n    'Trying to call a function from \"use server\" but the callServer option was not implemented in your router runtime.'\n  );\n}\nfunction ResponseInstance(\n  bundlerConfig,\n  serverReferenceConfig,\n  moduleLoading,\n  callServer,\n  encodeFormAction,\n  nonce,\n  temporaryReferences\n) {\n  var chunks = new Map();\n  this._bundlerConfig = bundlerConfig;\n  this._serverReferenceConfig = serverReferenceConfig;\n  this._moduleLoading = moduleLoading;\n  this._callServer = void 0 !== callServer ? callServer : missingCall;\n  this._encodeFormAction = encodeFormAction;\n  this._nonce = nonce;\n  this._chunks = chunks;\n  this._stringDecoder = new TextDecoder();\n  this._fromJSON = null;\n  this._rowLength = this._rowTag = this._rowID = this._rowState = 0;\n  this._buffer = [];\n  this._closed = !1;\n  this._closedReason = null;\n  this._tempRefs = temporaryReferences;\n  this._fromJSON = createFromJSONCallback(this);\n}\nfunction resolveBuffer(response, id, buffer) {\n  var chunks = response._chunks,\n    chunk = chunks.get(id);\n  chunk && \"pending\" !== chunk.status\n    ? chunk.reason.enqueueValue(buffer)\n    : chunks.set(id, new ReactPromise(\"fulfilled\", buffer, null, response));\n}\nfunction resolveModule(response, id, model) {\n  var chunks = response._chunks,\n    chunk = chunks.get(id);\n  model = JSON.parse(model, response._fromJSON);\n  var clientReference = resolveClientReference(response._bundlerConfig, model);\n  prepareDestinationWithChunks(\n    response._moduleLoading,\n    model[1],\n    response._nonce\n  );\n  if ((model = preloadModule(clientReference))) {\n    if (chunk) {\n      var blockedChunk = chunk;\n      blockedChunk.status = \"blocked\";\n    } else\n      (blockedChunk = new ReactPromise(\"blocked\", null, null, response)),\n        chunks.set(id, blockedChunk);\n    model.then(\n      function () {\n        return resolveModuleChunk(blockedChunk, clientReference);\n      },\n      function (error) {\n        return triggerErrorOnChunk(blockedChunk, error);\n      }\n    );\n  } else\n    chunk\n      ? resolveModuleChunk(chunk, clientReference)\n      : chunks.set(\n          id,\n          new ReactPromise(\"resolved_module\", clientReference, null, response)\n        );\n}\nfunction resolveStream(response, id, stream, controller) {\n  var chunks = response._chunks,\n    chunk = chunks.get(id);\n  chunk\n    ? \"pending\" === chunk.status &&\n      ((response = chunk.value),\n      (chunk.status = \"fulfilled\"),\n      (chunk.value = stream),\n      (chunk.reason = controller),\n      null !== response && wakeChunk(response, chunk.value))\n    : chunks.set(\n        id,\n        new ReactPromise(\"fulfilled\", stream, controller, response)\n      );\n}\nfunction startReadableStream(response, id, type) {\n  var controller = null;\n  type = new ReadableStream({\n    type: type,\n    start: function (c) {\n      controller = c;\n    }\n  });\n  var previousBlockedChunk = null;\n  resolveStream(response, id, type, {\n    enqueueValue: function (value) {\n      null === previousBlockedChunk\n        ? controller.enqueue(value)\n        : previousBlockedChunk.then(function () {\n            controller.enqueue(value);\n          });\n    },\n    enqueueModel: function (json) {\n      if (null === previousBlockedChunk) {\n        var chunk = new ReactPromise(\"resolved_model\", json, null, response);\n        initializeModelChunk(chunk);\n        \"fulfilled\" === chunk.status\n          ? controller.enqueue(chunk.value)\n          : (chunk.then(\n              function (v) {\n                return controller.enqueue(v);\n              },\n              function (e) {\n                return controller.error(e);\n              }\n            ),\n            (previousBlockedChunk = chunk));\n      } else {\n        chunk = previousBlockedChunk;\n        var chunk$52 = createPendingChunk(response);\n        chunk$52.then(\n          function (v) {\n            return controller.enqueue(v);\n          },\n          function (e) {\n            return controller.error(e);\n          }\n        );\n        previousBlockedChunk = chunk$52;\n        chunk.then(function () {\n          previousBlockedChunk === chunk$52 && (previousBlockedChunk = null);\n          resolveModelChunk(chunk$52, json);\n        });\n      }\n    },\n    close: function () {\n      if (null === previousBlockedChunk) controller.close();\n      else {\n        var blockedChunk = previousBlockedChunk;\n        previousBlockedChunk = null;\n        blockedChunk.then(function () {\n          return controller.close();\n        });\n      }\n    },\n    error: function (error) {\n      if (null === previousBlockedChunk) controller.error(error);\n      else {\n        var blockedChunk = previousBlockedChunk;\n        previousBlockedChunk = null;\n        blockedChunk.then(function () {\n          return controller.error(error);\n        });\n      }\n    }\n  });\n}\nfunction asyncIterator() {\n  return this;\n}\nfunction createIterator(next) {\n  next = { next: next };\n  next[ASYNC_ITERATOR] = asyncIterator;\n  return next;\n}\nfunction startAsyncIterable(response, id, iterator) {\n  var buffer = [],\n    closed = !1,\n    nextWriteIndex = 0,\n    $jscomp$compprop0 = {};\n  $jscomp$compprop0 =\n    (($jscomp$compprop0[ASYNC_ITERATOR] = function () {\n      var nextReadIndex = 0;\n      return createIterator(function (arg) {\n        if (void 0 !== arg)\n          throw Error(\n            \"Values cannot be passed to next() of AsyncIterables passed to Client Components.\"\n          );\n        if (nextReadIndex === buffer.length) {\n          if (closed)\n            return new ReactPromise(\n              \"fulfilled\",\n              { done: !0, value: void 0 },\n              null,\n              response\n            );\n          buffer[nextReadIndex] = createPendingChunk(response);\n        }\n        return buffer[nextReadIndex++];\n      });\n    }),\n    $jscomp$compprop0);\n  resolveStream(\n    response,\n    id,\n    iterator ? $jscomp$compprop0[ASYNC_ITERATOR]() : $jscomp$compprop0,\n    {\n      enqueueValue: function (value) {\n        if (nextWriteIndex === buffer.length)\n          buffer[nextWriteIndex] = new ReactPromise(\n            \"fulfilled\",\n            { done: !1, value: value },\n            null,\n            response\n          );\n        else {\n          var chunk = buffer[nextWriteIndex],\n            resolveListeners = chunk.value,\n            rejectListeners = chunk.reason;\n          chunk.status = \"fulfilled\";\n          chunk.value = { done: !1, value: value };\n          null !== resolveListeners &&\n            wakeChunkIfInitialized(chunk, resolveListeners, rejectListeners);\n        }\n        nextWriteIndex++;\n      },\n      enqueueModel: function (value) {\n        nextWriteIndex === buffer.length\n          ? (buffer[nextWriteIndex] = createResolvedIteratorResultChunk(\n              response,\n              value,\n              !1\n            ))\n          : resolveIteratorResultChunk(buffer[nextWriteIndex], value, !1);\n        nextWriteIndex++;\n      },\n      close: function (value) {\n        closed = !0;\n        nextWriteIndex === buffer.length\n          ? (buffer[nextWriteIndex] = createResolvedIteratorResultChunk(\n              response,\n              value,\n              !0\n            ))\n          : resolveIteratorResultChunk(buffer[nextWriteIndex], value, !0);\n        for (nextWriteIndex++; nextWriteIndex < buffer.length; )\n          resolveIteratorResultChunk(\n            buffer[nextWriteIndex++],\n            '\"$undefined\"',\n            !0\n          );\n      },\n      error: function (error) {\n        closed = !0;\n        for (\n          nextWriteIndex === buffer.length &&\n          (buffer[nextWriteIndex] = createPendingChunk(response));\n          nextWriteIndex < buffer.length;\n\n        )\n          triggerErrorOnChunk(buffer[nextWriteIndex++], error);\n      }\n    }\n  );\n}\nfunction resolveErrorProd() {\n  var error = Error(\n    \"An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.\"\n  );\n  error.stack = \"Error: \" + error.message;\n  return error;\n}\nfunction mergeBuffer(buffer, lastChunk) {\n  for (var l = buffer.length, byteLength = lastChunk.length, i = 0; i < l; i++)\n    byteLength += buffer[i].byteLength;\n  byteLength = new Uint8Array(byteLength);\n  for (var i$53 = (i = 0); i$53 < l; i$53++) {\n    var chunk = buffer[i$53];\n    byteLength.set(chunk, i);\n    i += chunk.byteLength;\n  }\n  byteLength.set(lastChunk, i);\n  return byteLength;\n}\nfunction resolveTypedArray(\n  response,\n  id,\n  buffer,\n  lastChunk,\n  constructor,\n  bytesPerElement\n) {\n  buffer =\n    0 === buffer.length && 0 === lastChunk.byteOffset % bytesPerElement\n      ? lastChunk\n      : mergeBuffer(buffer, lastChunk);\n  constructor = new constructor(\n    buffer.buffer,\n    buffer.byteOffset,\n    buffer.byteLength / bytesPerElement\n  );\n  resolveBuffer(response, id, constructor);\n}\nfunction processFullBinaryRow(response, id, tag, buffer, chunk) {\n  switch (tag) {\n    case 65:\n      resolveBuffer(response, id, mergeBuffer(buffer, chunk).buffer);\n      return;\n    case 79:\n      resolveTypedArray(response, id, buffer, chunk, Int8Array, 1);\n      return;\n    case 111:\n      resolveBuffer(\n        response,\n        id,\n        0 === buffer.length ? chunk : mergeBuffer(buffer, chunk)\n      );\n      return;\n    case 85:\n      resolveTypedArray(response, id, buffer, chunk, Uint8ClampedArray, 1);\n      return;\n    case 83:\n      resolveTypedArray(response, id, buffer, chunk, Int16Array, 2);\n      return;\n    case 115:\n      resolveTypedArray(response, id, buffer, chunk, Uint16Array, 2);\n      return;\n    case 76:\n      resolveTypedArray(response, id, buffer, chunk, Int32Array, 4);\n      return;\n    case 108:\n      resolveTypedArray(response, id, buffer, chunk, Uint32Array, 4);\n      return;\n    case 71:\n      resolveTypedArray(response, id, buffer, chunk, Float32Array, 4);\n      return;\n    case 103:\n      resolveTypedArray(response, id, buffer, chunk, Float64Array, 8);\n      return;\n    case 77:\n      resolveTypedArray(response, id, buffer, chunk, BigInt64Array, 8);\n      return;\n    case 109:\n      resolveTypedArray(response, id, buffer, chunk, BigUint64Array, 8);\n      return;\n    case 86:\n      resolveTypedArray(response, id, buffer, chunk, DataView, 1);\n      return;\n  }\n  for (\n    var stringDecoder = response._stringDecoder, row = \"\", i = 0;\n    i < buffer.length;\n    i++\n  )\n    row += stringDecoder.decode(buffer[i], decoderOptions);\n  buffer = row += stringDecoder.decode(chunk);\n  switch (tag) {\n    case 73:\n      resolveModule(response, id, buffer);\n      break;\n    case 72:\n      id = buffer[0];\n      buffer = buffer.slice(1);\n      response = JSON.parse(buffer, response._fromJSON);\n      buffer = ReactDOMSharedInternals.d;\n      switch (id) {\n        case \"D\":\n          buffer.D(response);\n          break;\n        case \"C\":\n          \"string\" === typeof response\n            ? buffer.C(response)\n            : buffer.C(response[0], response[1]);\n          break;\n        case \"L\":\n          id = response[0];\n          tag = response[1];\n          3 === response.length\n            ? buffer.L(id, tag, response[2])\n            : buffer.L(id, tag);\n          break;\n        case \"m\":\n          \"string\" === typeof response\n            ? buffer.m(response)\n            : buffer.m(response[0], response[1]);\n          break;\n        case \"X\":\n          \"string\" === typeof response\n            ? buffer.X(response)\n            : buffer.X(response[0], response[1]);\n          break;\n        case \"S\":\n          \"string\" === typeof response\n            ? buffer.S(response)\n            : buffer.S(\n                response[0],\n                0 === response[1] ? void 0 : response[1],\n                3 === response.length ? response[2] : void 0\n              );\n          break;\n        case \"M\":\n          \"string\" === typeof response\n            ? buffer.M(response)\n            : buffer.M(response[0], response[1]);\n      }\n      break;\n    case 69:\n      tag = JSON.parse(buffer);\n      buffer = resolveErrorProd();\n      buffer.digest = tag.digest;\n      tag = response._chunks;\n      (chunk = tag.get(id))\n        ? triggerErrorOnChunk(chunk, buffer)\n        : tag.set(id, new ReactPromise(\"rejected\", null, buffer, response));\n      break;\n    case 84:\n      tag = response._chunks;\n      (chunk = tag.get(id)) && \"pending\" !== chunk.status\n        ? chunk.reason.enqueueValue(buffer)\n        : tag.set(id, new ReactPromise(\"fulfilled\", buffer, null, response));\n      break;\n    case 78:\n    case 68:\n    case 74:\n    case 87:\n      throw Error(\n        \"Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.\"\n      );\n    case 82:\n      startReadableStream(response, id, void 0);\n      break;\n    case 114:\n      startReadableStream(response, id, \"bytes\");\n      break;\n    case 88:\n      startAsyncIterable(response, id, !1);\n      break;\n    case 120:\n      startAsyncIterable(response, id, !0);\n      break;\n    case 67:\n      (response = response._chunks.get(id)) &&\n        \"fulfilled\" === response.status &&\n        response.reason.close(\"\" === buffer ? '\"$undefined\"' : buffer);\n      break;\n    default:\n      (tag = response._chunks),\n        (chunk = tag.get(id))\n          ? resolveModelChunk(chunk, buffer)\n          : tag.set(\n              id,\n              new ReactPromise(\"resolved_model\", buffer, null, response)\n            );\n  }\n}\nfunction createFromJSONCallback(response) {\n  return function (key, value) {\n    if (\"string\" === typeof value)\n      return parseModelString(response, this, key, value);\n    if (\"object\" === typeof value && null !== value) {\n      if (value[0] === REACT_ELEMENT_TYPE) {\n        if (\n          ((key = {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: value[1],\n            key: value[2],\n            ref: null,\n            props: value[3]\n          }),\n          null !== initializingHandler)\n        )\n          if (\n            ((value = initializingHandler),\n            (initializingHandler = value.parent),\n            value.errored)\n          )\n            (key = new ReactPromise(\"rejected\", null, value.value, response)),\n              (key = createLazyChunkWrapper(key));\n          else if (0 < value.deps) {\n            var blockedChunk = new ReactPromise(\n              \"blocked\",\n              null,\n              null,\n              response\n            );\n            value.value = key;\n            value.chunk = blockedChunk;\n            key = createLazyChunkWrapper(blockedChunk);\n          }\n      } else key = value;\n      return key;\n    }\n    return value;\n  };\n}\nfunction noServerCall() {\n  throw Error(\n    \"Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.\"\n  );\n}\nfunction createResponseFromOptions(options) {\n  return new ResponseInstance(\n    options.serverConsumerManifest.moduleMap,\n    options.serverConsumerManifest.serverModuleMap,\n    options.serverConsumerManifest.moduleLoading,\n    noServerCall,\n    options.encodeFormAction,\n    \"string\" === typeof options.nonce ? options.nonce : void 0,\n    options && options.temporaryReferences\n      ? options.temporaryReferences\n      : void 0\n  );\n}\nfunction startReadingFromStream(response, stream) {\n  function progress(_ref) {\n    var value = _ref.value;\n    if (_ref.done) reportGlobalError(response, Error(\"Connection closed.\"));\n    else {\n      var i = 0,\n        rowState = response._rowState;\n      _ref = response._rowID;\n      for (\n        var rowTag = response._rowTag,\n          rowLength = response._rowLength,\n          buffer = response._buffer,\n          chunkLength = value.length;\n        i < chunkLength;\n\n      ) {\n        var lastIdx = -1;\n        switch (rowState) {\n          case 0:\n            lastIdx = value[i++];\n            58 === lastIdx\n              ? (rowState = 1)\n              : (_ref =\n                  (_ref << 4) | (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n            continue;\n          case 1:\n            rowState = value[i];\n            84 === rowState ||\n            65 === rowState ||\n            79 === rowState ||\n            111 === rowState ||\n            85 === rowState ||\n            83 === rowState ||\n            115 === rowState ||\n            76 === rowState ||\n            108 === rowState ||\n            71 === rowState ||\n            103 === rowState ||\n            77 === rowState ||\n            109 === rowState ||\n            86 === rowState\n              ? ((rowTag = rowState), (rowState = 2), i++)\n              : (64 < rowState && 91 > rowState) ||\n                  35 === rowState ||\n                  114 === rowState ||\n                  120 === rowState\n                ? ((rowTag = rowState), (rowState = 3), i++)\n                : ((rowTag = 0), (rowState = 3));\n            continue;\n          case 2:\n            lastIdx = value[i++];\n            44 === lastIdx\n              ? (rowState = 4)\n              : (rowLength =\n                  (rowLength << 4) |\n                  (96 < lastIdx ? lastIdx - 87 : lastIdx - 48));\n            continue;\n          case 3:\n            lastIdx = value.indexOf(10, i);\n            break;\n          case 4:\n            (lastIdx = i + rowLength), lastIdx > value.length && (lastIdx = -1);\n        }\n        var offset = value.byteOffset + i;\n        if (-1 < lastIdx)\n          (rowLength = new Uint8Array(value.buffer, offset, lastIdx - i)),\n            processFullBinaryRow(response, _ref, rowTag, buffer, rowLength),\n            (i = lastIdx),\n            3 === rowState && i++,\n            (rowLength = _ref = rowTag = rowState = 0),\n            (buffer.length = 0);\n        else {\n          value = new Uint8Array(value.buffer, offset, value.byteLength - i);\n          buffer.push(value);\n          rowLength -= value.byteLength;\n          break;\n        }\n      }\n      response._rowState = rowState;\n      response._rowID = _ref;\n      response._rowTag = rowTag;\n      response._rowLength = rowLength;\n      return reader.read().then(progress).catch(error);\n    }\n  }\n  function error(e) {\n    reportGlobalError(response, e);\n  }\n  var reader = stream.getReader();\n  reader.read().then(progress).catch(error);\n}\nexports.createFromFetch = function (promiseForResponse, options) {\n  var response = createResponseFromOptions(options);\n  promiseForResponse.then(\n    function (r) {\n      startReadingFromStream(response, r.body);\n    },\n    function (e) {\n      reportGlobalError(response, e);\n    }\n  );\n  return getChunk(response, 0);\n};\nexports.createFromReadableStream = function (stream, options) {\n  options = createResponseFromOptions(options);\n  startReadingFromStream(options, stream);\n  return getChunk(options, 0);\n};\nexports.createServerReference = function (id) {\n  return createServerReference$1(id, noServerCall);\n};\nexports.createTemporaryReferenceSet = function () {\n  return new Map();\n};\nexports.encodeReply = function (value, options) {\n  return new Promise(function (resolve, reject) {\n    var abort = processReply(\n      value,\n      \"\",\n      options && options.temporaryReferences\n        ? options.temporaryReferences\n        : void 0,\n      resolve,\n      reject\n    );\n    if (options && options.signal) {\n      var signal = options.signal;\n      if (signal.aborted) abort(signal.reason);\n      else {\n        var listener = function () {\n          abort(signal.reason);\n          signal.removeEventListener(\"abort\", listener);\n        };\n        signal.addEventListener(\"abort\", listener);\n      }\n    }\n  });\n};\nexports.registerServerReference = function (reference, id, encodeFormAction) {\n  registerBoundServerReference(reference, id, null, encodeFormAction);\n  return reference;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-server-dom-turbopack-client.edge.production.js');\n} else {\n  module.exports = require('./cjs/react-server-dom-turbopack-client.edge.development.js');\n}\n","import { PAGE_SEGMENT_KEY } from '../segment'\nimport type { Segment as FlightRouterStateSegment } from '../../../server/app-render/types'\n\n// TypeScript trick to simulate opaque types, like in Flow.\ntype Opaque<K, T> = T & { __brand: K }\n\nexport type EncodedSegment = Opaque<'EncodedSegment', string>\n\nexport function encodeSegment(\n  segment: FlightRouterStateSegment\n): EncodedSegment {\n  if (typeof segment === 'string') {\n    if (segment.startsWith(PAGE_SEGMENT_KEY)) {\n      // The Flight Router State type sometimes includes the search params in\n      // the page segment. However, the Segment Cache tracks this as a separate\n      // key. So, we strip the search params here, and then add them back when\n      // the cache entry is turned back into a FlightRouterState. This is an\n      // unfortunate consequence of the FlightRouteState being used both as a\n      // transport type and as a cache key; we'll address this once more of the\n      // Segment Cache implementation has settled.\n      // TODO: We should hoist the search params out of the FlightRouterState\n      // type entirely, This is our plan for dynamic route params, too.\n      return PAGE_SEGMENT_KEY as EncodedSegment\n    }\n    const safeName =\n      // TODO: FlightRouterState encodes Not Found routes as \"/_not-found\".\n      // But params typically don't include the leading slash. We should use\n      // a different encoding to avoid this special case.\n      segment === '/_not-found'\n        ? '_not-found'\n        : encodeToFilesystemAndURLSafeString(segment)\n    // Since this is not a dynamic segment, it's fully encoded. It does not\n    // need to be \"hydrated\" with a param value.\n    return safeName as EncodedSegment\n  }\n  const name = segment[0]\n  const paramValue = segment[1]\n  const paramType = segment[2]\n  const safeName = encodeToFilesystemAndURLSafeString(name)\n  const safeValue = encodeToFilesystemAndURLSafeString(paramValue)\n\n  const encodedName = '$' + paramType + '$' + safeName + '$' + safeValue\n  return encodedName as EncodedSegment\n}\n\nexport const ROOT_SEGMENT_KEY = ''\n\nexport function encodeChildSegmentKey(\n  // TODO: Make segment keys an opaque type, too?\n  parentSegmentKey: string,\n  parallelRouteKey: string,\n  segment: EncodedSegment\n): string {\n  // Aside from being filesystem safe, segment keys are also designed so that\n  // each segment and parallel route creates its own subdirectory. Roughly in\n  // the same shape as the source app directory. This is mostly just for easier\n  // debugging (you can open up the build folder and navigate the output); if\n  // we wanted to do we could just use a flat structure.\n\n  // Omit the parallel route key for children, since this is the most\n  // common case. Saves some bytes (and it's what the app directory does).\n  const slotKey =\n    parallelRouteKey === 'children'\n      ? segment\n      : `@${encodeToFilesystemAndURLSafeString(parallelRouteKey)}/${segment}`\n\n  return parentSegmentKey + '/' + slotKey\n}\n\n// Define a regex pattern to match the most common characters found in a route\n// param. It excludes anything that might not be cross-platform filesystem\n// compatible, like |. It does not need to be precise because the fallback is to\n// just base64url-encode the whole parameter, which is fine; we just don't do it\n// by default for compactness, and for easier debugging.\nconst simpleParamValueRegex = /^[a-zA-Z0-9\\-_@]+$/\n\nfunction encodeToFilesystemAndURLSafeString(value: string) {\n  if (simpleParamValueRegex.test(value)) {\n    return value\n  }\n  // If there are any unsafe characters, base64url-encode the entire value.\n  // We also add a ! prefix so it doesn't collide with the simple case.\n  const base64url = btoa(value)\n    .replace(/\\+/g, '-') // Replace '+' with '-'\n    .replace(/\\//g, '_') // Replace '/' with '_'\n    .replace(/=+$/, '') // Remove trailing '='\n  return '!' + base64url\n}\n\nexport function convertSegmentPathToStaticExportFilename(\n  segmentPath: string\n): string {\n  return `__next${segmentPath.replace(/\\//g, '.')}.txt`\n}\n","(()=>{\"use strict\";var e={328:e=>{function hash(e){var r=5381,_=e.length;while(_){r=r*33^e.charCodeAt(--_)}return r>>>0}e.exports=hash}};var r={};function __nccwpck_require__(_){var a=r[_];if(a!==undefined){return a.exports}var t=r[_]={exports:{}};var i=true;try{e[_](t,t.exports,__nccwpck_require__);i=false}finally{if(i)delete r[_]}return t.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var _=__nccwpck_require__(328);module.exports=_})();","const invalidServerComponentReactHooks = [\n  'useDeferredValue',\n  'useEffect',\n  'useImperativeHandle',\n  'useInsertionEffect',\n  'useLayoutEffect',\n  'useReducer',\n  'useRef',\n  'useState',\n  'useSyncExternalStore',\n  'useTransition',\n  'experimental_useOptimistic',\n  'useOptimistic',\n]\n\nfunction setMessage(error: Error, message: string): void {\n  error.message = message\n  if (error.stack) {\n    const lines = error.stack.split('\\n')\n    lines[0] = message\n    error.stack = lines.join('\\n')\n  }\n}\n\n/**\n * Input:\n * Error: Something went wrong\n    at funcName (/path/to/file.js:10:5)\n    at anotherFunc (/path/to/file.js:15:10)\n \n * Output:\n    at funcName (/path/to/file.js:10:5)\n    at anotherFunc (/path/to/file.js:15:10) \n */\nexport function getStackWithoutErrorMessage(error: Error): string {\n  const stack = error.stack\n  if (!stack) return ''\n  return stack.replace(/^[^\\n]*\\n/, '')\n}\n\nexport function formatServerError(error: Error): void {\n  if (typeof error?.message !== 'string') return\n\n  if (\n    error.message.includes(\n      'Class extends value undefined is not a constructor or null'\n    )\n  ) {\n    const addedMessage =\n      'This might be caused by a React Class Component being rendered in a Server Component, React Class Components only works in Client Components. Read more: https://nextjs.org/docs/messages/class-component-in-server-component'\n\n    // If this error instance already has the message, don't add it again\n    if (error.message.includes(addedMessage)) return\n\n    setMessage(\n      error,\n      `${error.message}\n\n${addedMessage}`\n    )\n    return\n  }\n\n  if (error.message.includes('createContext is not a function')) {\n    setMessage(\n      error,\n      'createContext only works in Client Components. Add the \"use client\" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component'\n    )\n    return\n  }\n\n  for (const clientHook of invalidServerComponentReactHooks) {\n    const regex = new RegExp(`\\\\b${clientHook}\\\\b.*is not a function`)\n    if (regex.test(error.message)) {\n      setMessage(\n        error,\n        `${clientHook} only works in Client Components. Add the \"use client\" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component`\n      )\n      return\n    }\n  }\n}\n","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n","import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n","export function getObjectClassLabel(value: any): string {\n  return Object.prototype.toString.call(value)\n}\n\nexport function isPlainObject(value: any): boolean {\n  if (getObjectClassLabel(value) !== '[object Object]') {\n    return false\n  }\n\n  const prototype = Object.getPrototypeOf(value)\n\n  /**\n   * this used to be previously:\n   *\n   * `return prototype === null || prototype === Object.prototype`\n   *\n   * but Edge Runtime expose Object from vm, being that kind of type-checking wrongly fail.\n   *\n   * It was changed to the current implementation since it's resilient to serialization.\n   */\n  return prototype === null || prototype.hasOwnProperty('isPrototypeOf')\n}\n","import { isPlainObject } from '../shared/lib/is-plain-object'\n\n// We allow some additional attached properties for Next.js errors\nexport interface NextError extends Error {\n  type?: string\n  page?: string\n  code?: string | number\n  cancelled?: boolean\n  digest?: number\n}\n\n/**\n * Checks whether the given value is a NextError.\n * This can be used to print a more detailed error message with properties like `code` & `digest`.\n */\nexport default function isError(err: unknown): err is NextError {\n  return (\n    typeof err === 'object' && err !== null && 'name' in err && 'message' in err\n  )\n}\n\nfunction safeStringify(obj: any) {\n  const seen = new WeakSet()\n\n  return JSON.stringify(obj, (_key, value) => {\n    // If value is an object and already seen, replace with \"[Circular]\"\n    if (typeof value === 'object' && value !== null) {\n      if (seen.has(value)) {\n        return '[Circular]'\n      }\n      seen.add(value)\n    }\n    return value\n  })\n}\n\nexport function getProperError(err: unknown): Error {\n  if (isError(err)) {\n    return err\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    // provide better error for case where `throw undefined`\n    // is called in development\n    if (typeof err === 'undefined') {\n      return new Error(\n        'An undefined error was thrown, ' +\n          'see here for more info: https://nextjs.org/docs/messages/threw-undefined'\n      )\n    }\n\n    if (err === null) {\n      return new Error(\n        'A null error was thrown, ' +\n          'see here for more info: https://nextjs.org/docs/messages/threw-undefined'\n      )\n    }\n  }\n\n  return new Error(isPlainObject(err) ? safeStringify(err) : err + '')\n}\n","const ERROR_CODE_DELIMITER = '@'\n\n/**\n * Augments the digest field of errors thrown in React Server Components (RSC) with an error code.\n * Since RSC errors can only be serialized through the digest field, this provides a way to include\n * an additional error code that can be extracted client-side via `extractNextErrorCode`.\n *\n * The error code is appended to the digest string with a semicolon separator, allowing it to be\n * parsed out later while preserving the original digest value.\n */\nexport const createDigestWithErrorCode = (\n  thrownValue: unknown,\n  originalDigest: string\n): string => {\n  if (\n    typeof thrownValue === 'object' &&\n    thrownValue !== null &&\n    '__NEXT_ERROR_CODE' in thrownValue\n  ) {\n    return `${originalDigest}${ERROR_CODE_DELIMITER}${thrownValue.__NEXT_ERROR_CODE}`\n  }\n  return originalDigest\n}\n\nexport const extractNextErrorCode = (error: unknown): string | undefined => {\n  if (\n    typeof error === 'object' &&\n    error !== null &&\n    '__NEXT_ERROR_CODE' in error &&\n    typeof error.__NEXT_ERROR_CODE === 'string'\n  ) {\n    return error.__NEXT_ERROR_CODE\n  }\n\n  if (\n    typeof error === 'object' &&\n    error !== null &&\n    'digest' in error &&\n    typeof error.digest === 'string'\n  ) {\n    const segments = error.digest.split(ERROR_CODE_DELIMITER)\n    const errorCode = segments.find((segment) => segment.startsWith('E'))\n    return errorCode\n  }\n\n  return undefined\n}\n","// TODO: isWellKnownError -> isNextInternalError\n// isReactLargeShellError -> isWarning\nexport function isReactLargeShellError(\n  error: unknown\n): error is Error & { digest?: string } {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    'message' in error &&\n    typeof error.message === 'string' &&\n    error.message.startsWith('This rendered a large document (>')\n  )\n}\n","import type { ErrorInfo } from 'react'\n\nimport stringHash from 'next/dist/compiled/string-hash'\nimport { formatServerError } from '../../lib/format-server-error'\nimport { SpanStatusCode, getTracer } from '../lib/trace/tracer'\nimport { isAbortError } from '../pipe-readable'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isDynamicServerError } from '../../client/components/hooks-server-context'\nimport { isNextRouterError } from '../../client/components/is-next-router-error'\nimport { getProperError } from '../../lib/is-error'\nimport { createDigestWithErrorCode } from '../../lib/error-telemetry-utils'\nimport { isReactLargeShellError } from './react-large-shell-error'\n\ndeclare global {\n  var __next_log_error__: undefined | ((err: unknown) => void)\n}\n\ntype RSCErrorHandler = (err: unknown) => string | undefined\ntype SSRErrorHandler = (\n  err: unknown,\n  errorInfo?: ErrorInfo\n) => string | undefined\n\nexport type DigestedError = Error & { digest: string }\n\n/**\n * Returns a digest for well-known Next.js errors, otherwise `undefined`. If a\n * digest is returned this also means that the error does not need to be\n * reported.\n */\nexport function getDigestForWellKnownError(error: unknown): string | undefined {\n  // If we're bailing out to CSR, we don't need to log the error.\n  if (isBailoutToCSRError(error)) return error.digest\n\n  // If this is a navigation error, we don't need to log the error.\n  if (isNextRouterError(error)) return error.digest\n\n  // If this error occurs, we know that we should be stopping the static\n  // render. This is only thrown in static generation when PPR is not enabled,\n  // which causes the whole page to be marked as dynamic. We don't need to\n  // tell the user about this error, as it's not actionable.\n  if (isDynamicServerError(error)) return error.digest\n\n  return undefined\n}\n\nexport function createFlightReactServerErrorHandler(\n  shouldFormatError: boolean,\n  onReactServerRenderError: (err: DigestedError) => void\n): RSCErrorHandler {\n  return (thrownValue: unknown) => {\n    if (typeof thrownValue === 'string') {\n      // TODO-APP: look at using webcrypto instead. Requires a promise to be awaited.\n      return stringHash(thrownValue).toString()\n    }\n\n    // If the response was closed, we don't need to log the error.\n    if (isAbortError(thrownValue)) return\n\n    const digest = getDigestForWellKnownError(thrownValue)\n\n    if (digest) {\n      return digest\n    }\n\n    if (isReactLargeShellError(thrownValue)) {\n      // TODO: Aggregate\n      console.error(thrownValue)\n      return undefined\n    }\n\n    const err = getProperError(thrownValue) as DigestedError\n\n    // If the error already has a digest, respect the original digest,\n    // so it won't get re-generated into another new error.\n    if (!err.digest) {\n      // TODO-APP: look at using webcrypto instead. Requires a promise to be awaited.\n      err.digest = stringHash(err.message + err.stack || '').toString()\n    }\n\n    // Format server errors in development to add more helpful error messages\n    if (shouldFormatError) {\n      formatServerError(err)\n    }\n\n    // Record exception in an active span, if available.\n    const span = getTracer().getActiveScopeSpan()\n    if (span) {\n      span.recordException(err)\n      span.setStatus({\n        code: SpanStatusCode.ERROR,\n        message: err.message,\n      })\n    }\n\n    onReactServerRenderError(err)\n\n    return createDigestWithErrorCode(thrownValue, err.digest)\n  }\n}\n\nexport function createHTMLReactServerErrorHandler(\n  shouldFormatError: boolean,\n  isNextExport: boolean,\n  reactServerErrors: Map<string, DigestedError>,\n  silenceLogger: boolean,\n  onReactServerRenderError: undefined | ((err: DigestedError) => void)\n): RSCErrorHandler {\n  return (thrownValue: unknown) => {\n    if (typeof thrownValue === 'string') {\n      // TODO-APP: look at using webcrypto instead. Requires a promise to be awaited.\n      return stringHash(thrownValue).toString()\n    }\n\n    // If the response was closed, we don't need to log the error.\n    if (isAbortError(thrownValue)) return\n\n    const digest = getDigestForWellKnownError(thrownValue)\n\n    if (digest) {\n      return digest\n    }\n\n    if (isReactLargeShellError(thrownValue)) {\n      // TODO: Aggregate\n      console.error(thrownValue)\n      return undefined\n    }\n\n    const err = getProperError(thrownValue) as DigestedError\n\n    // If the error already has a digest, respect the original digest,\n    // so it won't get re-generated into another new error.\n    if (!err.digest) {\n      // TODO-APP: look at using webcrypto instead. Requires a promise to be awaited.\n      err.digest = stringHash(err.message + (err.stack || '')).toString()\n    }\n\n    // @TODO by putting this here and not at the top it is possible that\n    // we don't error the build in places we actually expect to\n    if (!reactServerErrors.has(err.digest)) {\n      reactServerErrors.set(err.digest, err)\n    }\n\n    // Format server errors in development to add more helpful error messages\n    if (shouldFormatError) {\n      formatServerError(err)\n    }\n\n    // Don't log the suppressed error during export\n    if (\n      !(\n        isNextExport &&\n        err?.message?.includes(\n          'The specific message is omitted in production builds to avoid leaking sensitive details.'\n        )\n      )\n    ) {\n      // Record exception in an active span, if available.\n      const span = getTracer().getActiveScopeSpan()\n      if (span) {\n        span.recordException(err)\n        span.setStatus({\n          code: SpanStatusCode.ERROR,\n          message: err.message,\n        })\n      }\n\n      if (!silenceLogger) {\n        onReactServerRenderError?.(err)\n      }\n    }\n\n    return createDigestWithErrorCode(thrownValue, err.digest)\n  }\n}\n\nexport function createHTMLErrorHandler(\n  shouldFormatError: boolean,\n  isNextExport: boolean,\n  reactServerErrors: Map<string, DigestedError>,\n  allCapturedErrors: Array<unknown>,\n  silenceLogger: boolean,\n  onHTMLRenderSSRError: (err: DigestedError, errorInfo?: ErrorInfo) => void\n): SSRErrorHandler {\n  return (thrownValue: unknown, errorInfo?: ErrorInfo) => {\n    if (isReactLargeShellError(thrownValue)) {\n      // TODO: Aggregate\n      console.error(thrownValue)\n      return undefined\n    }\n\n    let isSSRError = true\n\n    allCapturedErrors.push(thrownValue)\n\n    // If the response was closed, we don't need to log the error.\n    if (isAbortError(thrownValue)) return\n\n    const digest = getDigestForWellKnownError(thrownValue)\n\n    if (digest) {\n      return digest\n    }\n\n    const err = getProperError(thrownValue) as DigestedError\n    // If the error already has a digest, respect the original digest,\n    // so it won't get re-generated into another new error.\n    if (err.digest) {\n      if (reactServerErrors.has(err.digest)) {\n        // This error is likely an obfuscated error from react-server.\n        // We recover the original error here.\n        thrownValue = reactServerErrors.get(err.digest)\n        isSSRError = false\n      } else {\n        // The error is not from react-server but has a digest\n        // from other means so we don't need to produce a new one\n      }\n    } else {\n      err.digest = stringHash(\n        err.message + (errorInfo?.componentStack || err.stack || '')\n      ).toString()\n    }\n\n    // Format server errors in development to add more helpful error messages\n    if (shouldFormatError) {\n      formatServerError(err)\n    }\n\n    // Don't log the suppressed error during export\n    if (\n      !(\n        isNextExport &&\n        err?.message?.includes(\n          'The specific message is omitted in production builds to avoid leaking sensitive details.'\n        )\n      )\n    ) {\n      // Record exception in an active span, if available.\n      const span = getTracer().getActiveScopeSpan()\n      if (span) {\n        span.recordException(err)\n        span.setStatus({\n          code: SpanStatusCode.ERROR,\n          message: err.message,\n        })\n      }\n\n      if (\n        !silenceLogger &&\n        // HTML errors contain RSC errors as well, filter them out before reporting\n        isSSRError\n      ) {\n        onHTMLRenderSSRError(err, errorInfo)\n      }\n    }\n\n    return createDigestWithErrorCode(thrownValue, err.digest)\n  }\n}\n\nexport function isUserLandError(err: any): boolean {\n  return (\n    !isAbortError(err) && !isBailoutToCSRError(err) && !isNextRouterError(err)\n  )\n}\n","import type {\n  CacheNodeSeedData,\n  FlightRouterState,\n  InitialRSCPayload,\n  Segment as FlightRouterStateSegment,\n  DynamicParamTypesShort,\n} from './types'\nimport type { ManifestNode } from '../../build/webpack/plugins/flight-manifest-plugin'\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { createFromReadableStream } from 'react-server-dom-webpack/client.edge'\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { unstable_prerender as prerender } from 'react-server-dom-webpack/static.edge'\n\nimport {\n  streamFromBuffer,\n  streamToBuffer,\n} from '../stream-utils/node-web-streams-helper'\nimport { waitAtLeastOneReactRenderTask } from '../../lib/scheduler'\nimport type {\n  HeadData,\n  LoadingModuleData,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport {\n  encodeChildSegmentKey,\n  encodeSegment,\n  ROOT_SEGMENT_KEY,\n  type EncodedSegment,\n} from '../../shared/lib/segment-cache/segment-value-encoding'\nimport { getDigestForWellKnownError } from './create-error-handler'\nimport type { FallbackRouteParams } from '../request/fallback-params'\n\n// Contains metadata about the route tree. The client must fetch this before\n// it can fetch any actual segment data.\nexport type RootTreePrefetch = {\n  buildId: string\n  tree: TreePrefetch\n  head: HeadData\n  isHeadPartial: boolean\n  staleTime: number\n}\n\nexport type TreePrefetch = {\n  // The segment, in the format expected by a FlightRouterState.\n  segment: FlightRouterStateSegment\n\n  // Child segments.\n  slots: null | {\n    [parallelRouteKey: string]: TreePrefetch\n  }\n\n  // Extra fields that only exist so we can reconstruct a FlightRouterState on\n  // the client. We may be able to unify TreePrefetch and FlightRouterState\n  // after some refactoring, but in the meantime it would be wasteful to add a\n  // bunch of new prefetch-only fields to FlightRouterState. So think of\n  // TreePrefetch as a superset of FlightRouterState.\n  isRootLayout: boolean\n}\n\nexport type SegmentPrefetch = {\n  buildId: string\n  rsc: React.ReactNode | null\n  loading: LoadingModuleData | Promise<LoadingModuleData>\n  isPartial: boolean\n}\n\nfunction onSegmentPrerenderError(error: unknown) {\n  const digest = getDigestForWellKnownError(error)\n  if (digest) {\n    return digest\n  }\n  // We don't need to log the errors because we would have already done that\n  // when generating the original Flight stream for the whole page.\n}\n\nexport async function collectSegmentData(\n  fullPageDataBuffer: Buffer,\n  staleTime: number,\n  clientModules: ManifestNode,\n  serverConsumerManifest: any,\n  fallbackRouteParams: FallbackRouteParams | null\n): Promise<Map<string, Buffer>> {\n  // Traverse the router tree and generate a prefetch response for each segment.\n\n  // A mutable map to collect the results as we traverse the route tree.\n  const resultMap = new Map<string, Buffer>()\n\n  // Before we start, warm up the module cache by decoding the page data once.\n  // Then we can assume that any remaining async tasks that occur the next time\n  // are due to hanging promises caused by dynamic data access. Note we only\n  // have to do this once per page, not per individual segment.\n  //\n  try {\n    await createFromReadableStream(streamFromBuffer(fullPageDataBuffer), {\n      serverConsumerManifest,\n    })\n    await waitAtLeastOneReactRenderTask()\n  } catch {}\n\n  // Create an abort controller that we'll use to stop the stream.\n  const abortController = new AbortController()\n  const onCompletedProcessingRouteTree = async () => {\n    // Since all we're doing is decoding and re-encoding a cached prerender, if\n    // serializing the stream takes longer than a microtask, it must because of\n    // hanging promises caused by dynamic data.\n    await waitAtLeastOneReactRenderTask()\n    abortController.abort()\n  }\n\n  // Generate a stream for the route tree prefetch. While we're walking the\n  // tree, we'll also spawn additional tasks to generate the segment prefetches.\n  // The promises for these tasks are pushed to a mutable array that we will\n  // await once the route tree is fully rendered.\n  const segmentTasks: Array<Promise<[string, Buffer]>> = []\n  const { prelude: treeStream } = await prerender(\n    // RootTreePrefetch is not a valid return type for a React component, but\n    // we need to use a component so that when we decode the original stream\n    // inside of it, the side effects are transferred to the new stream.\n    // @ts-expect-error\n    <PrefetchTreeData\n      fullPageDataBuffer={fullPageDataBuffer}\n      fallbackRouteParams={fallbackRouteParams}\n      serverConsumerManifest={serverConsumerManifest}\n      clientModules={clientModules}\n      staleTime={staleTime}\n      segmentTasks={segmentTasks}\n      onCompletedProcessingRouteTree={onCompletedProcessingRouteTree}\n    />,\n    clientModules,\n    {\n      signal: abortController.signal,\n      onError: onSegmentPrerenderError,\n    }\n  )\n\n  // Write the route tree to a special `/_tree` segment.\n  const treeBuffer = await streamToBuffer(treeStream)\n  resultMap.set('/_tree', treeBuffer)\n\n  // Now that we've finished rendering the route tree, all the segment tasks\n  // should have been spawned. Await them in parallel and write the segment\n  // prefetches to the result map.\n  for (const [segmentPath, buffer] of await Promise.all(segmentTasks)) {\n    resultMap.set(segmentPath, buffer)\n  }\n\n  return resultMap\n}\n\nasync function PrefetchTreeData({\n  fullPageDataBuffer,\n  fallbackRouteParams,\n  serverConsumerManifest,\n  clientModules,\n  staleTime,\n  segmentTasks,\n  onCompletedProcessingRouteTree,\n}: {\n  fullPageDataBuffer: Buffer\n  serverConsumerManifest: any\n  fallbackRouteParams: FallbackRouteParams | null\n  clientModules: ManifestNode\n  staleTime: number\n  segmentTasks: Array<Promise<[string, Buffer]>>\n  onCompletedProcessingRouteTree: () => void\n}): Promise<RootTreePrefetch | null> {\n  // We're currently rendering a Flight response for the route tree prefetch.\n  // Inside this component, decode the Flight stream for the whole page. This is\n  // a hack to transfer the side effects from the original Flight stream (e.g.\n  // Float preloads) onto the Flight stream for the tree prefetch.\n  // TODO: React needs a better way to do this. Needed for Server Actions, too.\n  const initialRSCPayload: InitialRSCPayload = await createFromReadableStream(\n    createUnclosingPrefetchStream(streamFromBuffer(fullPageDataBuffer)),\n    {\n      serverConsumerManifest,\n    }\n  )\n\n  const buildId = initialRSCPayload.b\n\n  // FlightDataPath is an unsound type, hence the additional checks.\n  const flightDataPaths = initialRSCPayload.f\n  if (flightDataPaths.length !== 1 && flightDataPaths[0].length !== 3) {\n    console.error(\n      'Internal Next.js error: InitialRSCPayload does not match the expected ' +\n        'shape for a prerendered page during segment prefetch generation.'\n    )\n    return null\n  }\n  const flightRouterState: FlightRouterState = flightDataPaths[0][0]\n  const seedData: CacheNodeSeedData = flightDataPaths[0][1]\n  const head: HeadData = flightDataPaths[0][2]\n\n  // Compute the route metadata tree by traversing the FlightRouterState. As we\n  // walk the tree, we will also spawn a task to produce a prefetch response for\n  // each segment.\n  const tree = collectSegmentDataImpl(\n    flightRouterState,\n    buildId,\n    seedData,\n    fallbackRouteParams,\n    clientModules,\n    ROOT_SEGMENT_KEY,\n    segmentTasks\n  )\n\n  const isHeadPartial = await isPartialRSCData(head, clientModules)\n\n  // Notify the abort controller that we're done processing the route tree.\n  // Anything async that happens after this point must be due to hanging\n  // promises in the original stream.\n  onCompletedProcessingRouteTree()\n\n  // Render the route tree to a special `/_tree` segment.\n  const treePrefetch: RootTreePrefetch = {\n    buildId,\n    tree,\n    head,\n    isHeadPartial,\n    staleTime,\n  }\n  return treePrefetch\n}\n\nfunction collectSegmentDataImpl(\n  route: FlightRouterState,\n  buildId: string,\n  seedData: CacheNodeSeedData | null,\n  fallbackRouteParams: FallbackRouteParams | null,\n  clientModules: ManifestNode,\n  key: string,\n  segmentTasks: Array<Promise<[string, Buffer]>>\n): TreePrefetch {\n  // Metadata about the segment. Sent as part of the tree prefetch. Null if\n  // there are no children.\n  let slotMetadata: { [parallelRouteKey: string]: TreePrefetch } | null = null\n\n  const children = route[1]\n  const seedDataChildren = seedData !== null ? seedData[2] : null\n  for (const parallelRouteKey in children) {\n    const childRoute = children[parallelRouteKey]\n    const childSegment = childRoute[0]\n    const childSeedData =\n      seedDataChildren !== null ? seedDataChildren[parallelRouteKey] : null\n\n    const childKey = encodeChildSegmentKey(\n      key,\n      parallelRouteKey,\n      Array.isArray(childSegment) && fallbackRouteParams !== null\n        ? encodeSegmentWithPossibleFallbackParam(\n            childSegment,\n            fallbackRouteParams\n          )\n        : encodeSegment(childSegment)\n    )\n    const childTree = collectSegmentDataImpl(\n      childRoute,\n      buildId,\n      childSeedData,\n      fallbackRouteParams,\n      clientModules,\n      childKey,\n      segmentTasks\n    )\n    if (slotMetadata === null) {\n      slotMetadata = {}\n    }\n    slotMetadata[parallelRouteKey] = childTree\n  }\n\n  if (seedData !== null) {\n    // Spawn a task to write the segment data to a new Flight stream.\n    segmentTasks.push(\n      // Since we're already in the middle of a render, wait until after the\n      // current task to escape the current rendering context.\n      waitAtLeastOneReactRenderTask().then(() =>\n        renderSegmentPrefetch(buildId, seedData, key, clientModules)\n      )\n    )\n  } else {\n    // This segment does not have any seed data. Skip generating a prefetch\n    // response for it. We'll still include it in the route tree, though.\n    // TODO: We should encode in the route tree whether a segment is missing\n    // so we don't attempt to fetch it for no reason. As of now this shouldn't\n    // ever happen in practice, though.\n  }\n\n  // Metadata about the segment. Sent to the client as part of the\n  // tree prefetch.\n  return {\n    segment: route[0],\n    slots: slotMetadata,\n    isRootLayout: route[4] === true,\n  }\n}\n\nfunction encodeSegmentWithPossibleFallbackParam(\n  segment: [string, string, DynamicParamTypesShort],\n  fallbackRouteParams: FallbackRouteParams\n): EncodedSegment {\n  const name = segment[0]\n  if (!fallbackRouteParams.has(name)) {\n    // Normal case. No matching fallback parameter.\n    return encodeSegment(segment)\n  }\n  // This segment includes a fallback parameter. During prerendering, a random\n  // placeholder value was used; however, for segment prefetches, we need the\n  // segment path to be predictable so the server can create a rewrite for it.\n  // So, replace the placeholder segment value with a \"template\" string,\n  // e.g. `[name]`.\n  // TODO: This will become a bit cleaner once remove route parameters from the\n  // server response, and instead add them to the segment keys on the client.\n  // Instead of a string replacement, like we do here, route params will always\n  // be encoded in separate step from the rest of the segment, not just in the\n  // case of fallback params.\n  const encodedSegment = encodeSegment(segment)\n  const lastIndex = encodedSegment.lastIndexOf('$')\n  const encodedFallbackSegment =\n    // NOTE: This is guaranteed not to clash with the rest of the segment\n    // because non-simple characters (including [ and ]) trigger a base\n    // 64 encoding.\n    encodedSegment.substring(0, lastIndex + 1) + `[${name}]`\n  return encodedFallbackSegment as EncodedSegment\n}\n\nasync function renderSegmentPrefetch(\n  buildId: string,\n  seedData: CacheNodeSeedData,\n  key: string,\n  clientModules: ManifestNode\n): Promise<[string, Buffer]> {\n  // Render the segment data to a stream.\n  // In the future, this is where we can include additional metadata, like the\n  // stale time and cache tags.\n  const rsc = seedData[1]\n  const loading = seedData[3]\n  const segmentPrefetch: SegmentPrefetch = {\n    buildId,\n    rsc,\n    loading,\n    isPartial: await isPartialRSCData(rsc, clientModules),\n  }\n  // Since all we're doing is decoding and re-encoding a cached prerender, if\n  // it takes longer than a microtask, it must because of hanging promises\n  // caused by dynamic data. Abort the stream at the end of the current task.\n  const abortController = new AbortController()\n  waitAtLeastOneReactRenderTask().then(() => abortController.abort())\n  const { prelude: segmentStream } = await prerender(\n    segmentPrefetch,\n    clientModules,\n    {\n      signal: abortController.signal,\n      onError: onSegmentPrerenderError,\n    }\n  )\n  const segmentBuffer = await streamToBuffer(segmentStream)\n  if (key === ROOT_SEGMENT_KEY) {\n    return ['/_index', segmentBuffer]\n  } else {\n    return [key, segmentBuffer]\n  }\n}\n\nasync function isPartialRSCData(\n  rsc: React.ReactNode,\n  clientModules: ManifestNode\n): Promise<boolean> {\n  // We can determine if a segment contains only partial data if it takes longer\n  // than a task to encode, because dynamic data is encoded as an infinite\n  // promise. We must do this in a separate Flight prerender from the one that\n  // actually generates the prefetch stream because we need to include\n  // `isPartial` in the stream itself.\n  let isPartial = false\n  const abortController = new AbortController()\n  waitAtLeastOneReactRenderTask().then(() => {\n    // If we haven't yet finished the outer task, then it must be because we\n    // accessed dynamic data.\n    isPartial = true\n    abortController.abort()\n  })\n  await prerender(rsc, clientModules, {\n    signal: abortController.signal,\n    onError() {},\n    onPostpone() {\n      // If something postponed, i.e. when Dynamic IO is not enabled, we can\n      // infer that the RSC data is partial.\n      isPartial = true\n    },\n  })\n  return isPartial\n}\n\nfunction createUnclosingPrefetchStream(\n  originalFlightStream: ReadableStream<Uint8Array>\n): ReadableStream<Uint8Array> {\n  // When PPR is enabled, prefetch streams may contain references that never\n  // resolve, because that's how we encode dynamic data access. In the decoded\n  // object returned by the Flight client, these are reified into hanging\n  // promises that suspend during render, which is effectively what we want.\n  // The UI resolves when it switches to the dynamic data stream\n  // (via useDeferredValue(dynamic, static)).\n  //\n  // However, the Flight implementation currently errors if the server closes\n  // the response before all the references are resolved. As a cheat to work\n  // around this, we wrap the original stream in a new stream that never closes,\n  // and therefore doesn't error.\n  const reader = originalFlightStream.getReader()\n  return new ReadableStream({\n    async pull(controller) {\n      while (true) {\n        const { done, value } = await reader.read()\n        if (!done) {\n          // Pass to the target stream and keep consuming the Flight response\n          // from the server.\n          controller.enqueue(value)\n          continue\n        }\n        // The server stream has closed. Exit, but intentionally do not close\n        // the target stream.\n        return\n      }\n    },\n  })\n}\n","// eslint-disable-next-line import/no-extraneous-dependencies\nexport {\n  createTemporaryReferenceSet,\n  renderToReadableStream,\n  decodeReply,\n  decodeAction,\n  decodeFormState,\n} from 'react-server-dom-webpack/server.edge'\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { unstable_prerender as prerender } from 'react-server-dom-webpack/static.edge'\n\nimport LayoutRouter from '../../client/components/layout-router'\nimport RenderFromTemplateContext from '../../client/components/render-from-template-context'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from './work-unit-async-storage.external'\nimport { actionAsyncStorage } from '../app-render/action-async-storage.external'\nimport { ClientPageRoot } from '../../client/components/client-page'\nimport { ClientSegmentRoot } from '../../client/components/client-segment'\nimport {\n  createServerSearchParamsForServerPage,\n  createPrerenderSearchParamsForClientPage,\n} from '../request/search-params'\nimport {\n  createServerParamsForServerSegment,\n  createPrerenderParamsForClientSegment,\n} from '../request/params'\nimport * as serverHooks from '../../client/components/hooks-server-context'\nimport { HTTPAccessFallbackBoundary } from '../../client/components/http-access-fallback/error-boundary'\nimport { createMetadataComponents } from '../../lib/metadata/metadata'\nimport { patchFetch as _patchFetch } from '../lib/patch-fetch'\n// Not being directly used but should be included in the client manifest for /_not-found\n// * ErrorBoundary -> client/components/error-boundary\n// * GlobalError -> client/components/global-error\nimport '../../client/components/error-boundary'\nimport '../../client/components/global-error'\nimport {\n  MetadataBoundary,\n  ViewportBoundary,\n  OutletBoundary,\n} from '../../client/components/metadata/metadata-boundary'\n\nimport { preloadStyle, preloadFont, preconnect } from './rsc/preloads'\nimport { Postpone } from './rsc/postpone'\nimport { taintObjectReference } from './rsc/taint'\nexport { collectSegmentData } from './collect-segment-data'\n\nlet SegmentViewNode: typeof import('../../next-devtools/userspace/app/segment-explorer').SegmentViewNode =\n  () => null\nif (process.env.NODE_ENV === 'development') {\n  SegmentViewNode = (\n    require('../../next-devtools/userspace/app/segment-explorer') as typeof import('../../next-devtools/userspace/app/segment-explorer')\n  ).SegmentViewNode\n}\n\n// patchFetch makes use of APIs such as `React.unstable_postpone` which are only available\n// in the experimental channel of React, so export it from here so that it comes from the bundled runtime\nfunction patchFetch() {\n  return _patchFetch({\n    workAsyncStorage,\n    workUnitAsyncStorage,\n  })\n}\n\nexport {\n  LayoutRouter,\n  RenderFromTemplateContext,\n  workAsyncStorage,\n  workUnitAsyncStorage,\n  actionAsyncStorage,\n  createServerSearchParamsForServerPage,\n  createPrerenderSearchParamsForClientPage,\n  createServerParamsForServerSegment,\n  createPrerenderParamsForClientSegment,\n  serverHooks,\n  preloadStyle,\n  preloadFont,\n  preconnect,\n  Postpone,\n  MetadataBoundary,\n  ViewportBoundary,\n  OutletBoundary,\n  taintObjectReference,\n  ClientPageRoot,\n  ClientSegmentRoot,\n  HTTPAccessFallbackBoundary,\n  patchFetch,\n  createMetadataComponents,\n  // Development only\n  SegmentViewNode,\n}\n"],"names":["styles","error","fontFamily","height","textAlign","display","flexDirection","alignItems","justifyContent","text","fontSize","fontWeight","lineHeight","margin","GlobalError","digest","html","id","head","body","HandleISRError","div","style","h2","window","location","hostname","p","module","exports","require","vendored","ReactServerDOMTurbopackStaticEdge","ACTION_SERVER_PATCH","React","useContext","use","startTransition","Suspense","useDeferredValue","ReactDOM","LayoutRouterContext","GlobalLayoutRouterContext","TemplateContext","fetchServerResponse","unresolvedThenable","ErrorBoundary","matchSegment","handleSmoothScroll","RedirectBoundary","HTTPAccessFallbackBoundary","createRouterCacheKey","hasInterceptionRouteInCurrentTree","dispatchAppRouterAction","useRouterBFCache","Activity","process","env","__NEXT_ROUTER_BF_CACHE","unstable_Activity","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","hasOwnProperty","subTree","undefined","slice","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","findDOMNode","instance","internal_reactDOMfindDOMNode","rectProperties","shouldSkipElement","element","includes","getComputedStyle","position","NODE_ENV","console","warn","rect","getBoundingClientRect","every","item","topOfElementInViewport","viewportHeight","top","getHashFragmentDomNode","hashFragment","document","getElementById","getElementsByName","InnerScrollAndFocusHandler","Component","componentDidMount","handlePotentialScroll","componentDidUpdate","props","focusAndScrollRef","apply","render","children","segmentPath","segmentPaths","some","scrollRefSegmentPath","index","domNode","Element","HTMLElement","parentElement","localName","nextElementSibling","scrollIntoView","htmlElement","documentElement","clientHeight","scrollTop","dontForceLayout","onlyHashChange","focus","ScrollAndFocusHandler","context","Error","InnerLayoutRouter","tree","cacheNode","url","fullTree","resolvedPrefetchRsc","prefetchRsc","rsc","resolvedRsc","then","lazyData","refetchTree","includeNextUrl","navigatedAt","Date","now","URL","origin","flightRouterState","nextUrl","serverResponse","type","previousTree","subtree","Provider","value","parentTree","parentCacheNode","parentSegmentPath","LoadingBoundary","loading","loadingModuleData","promiseForLoading","loadingRsc","loadingStyles","loadingScripts","fallback","RenderChildren","OuterLayoutRouter","parallelRouterKey","errorStyles","errorScripts","templateStyles","templateScripts","template","notFound","forbidden","unauthorized","gracefullyDegrade","parentParallelRoutes","parallelRoutes","segmentMap","get","Map","set","parentTreeSegment","concat","activeTree","activeSegment","activeStateKey","bfcacheEntry","stateKey","cacheKey","newLazyCacheNode","prefetchHead","ErrorBoundaryComponent","child","errorComponent","mode","push","next","RenderFromTemplateContext","InvariantError","ClientPageRoot","searchParams","params","promises","workAsyncStorage","clientSearchParams","clientParams","store","getStore","createSearchParamsFromClient","createParamsFromClient","createRenderSearchParamsFromClient","createRenderParamsFromClient","ClientSegmentRoot","slots","promise","DYNAMIC_ERROR_CODE","DynamicServerError","constructor","description","isDynamicServerError","err","NEXT_STATIC_GEN_BAILOUT","StaticGenBailoutError","code","isStaticGenBailoutError","isHangingPromiseRejectionError","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","expression","abortListenersBySignal","WeakMap","makeHangingPromise","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","bind","currentListeners","listeners","addEventListener","i","once","catch","ignoreReject","METADATA_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","workUnitAsyncStorage","scheduleOnNextTick","hasPostpone","unstable_postpone","createDynamicTrackingState","isDebugDynamicAccesses","dynamicAccesses","syncDynamicExpression","syncDynamicErrorWithStack","createDynamicValidationState","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","getFirstDynamicReason","trackingState","markCurrentScopeAsDynamic","workUnitStore","forceDynamic","forceStatic","dynamicShouldError","route","postponeWithTracking","dynamicTracking","revalidate","dynamicUsageDescription","dynamicUsageStack","stack","usedDynamic","trackFallbackParamAccessed","prerenderStore","throwToInterruptStaticGeneration","trackDynamicDataInDynamicRender","_store","abortOnSynchronousDynamicDataAccess","reason","createPrerenderInterruptedError","controller","abort","abortOnSynchronousPlatformIOAccess","errorWithStack","trackSynchronousPlatformIOAccessInDev","requestStore","prerenderPhase","abortAndThrowOnSynchronousRequestDataAccess","prerenderSignal","trackSynchronousRequestDataAccessInDev","Postpone","assertPostpone","createPostponeReason","isDynamicPostpone","message","isDynamicPostponeReason","NEXT_PRERENDER_INTERRUPTED","isPrerenderInterruptedError","accessedDynamicData","consumeDynamicAccess","serverDynamic","clientDynamic","formatDynamicAPIAccesses","filter","access","map","split","line","join","createPostponedAbortSignal","AbortController","x","createHangingInputAbortSignal","cacheSignal","inputReady","annotateDynamicAccess","useDynamicRouteParams","workStore","isStaticGeneration","fallbackRouteParams","size","renderSignal","hasSuspenseRegex","hasSuspenseAfterBodyOrHtmlRegex","hasMetadataRegex","RegExp","hasViewportRegex","hasOutletRegex","trackAllowedDynamicAccess","componentStack","dynamicValidation","test","createErrorWithComponentStack","PreludeState","throwIfDisallowedDynamic","prelude","invalidDynamicUsageError","errorRef","current","cache","fn","logErrorOrWarn","__NEXT_DYNAMIC_IO","flushCurrentErrorIfNew","key","createDedupedByCallsiteServerErrorLoggerDev","getMessage","logDedupedError","args","callStackFrames","isDefinitelyAValidIdentifier","describeStringPropertyAccess","target","prop","JSON","stringify","describeHasCheckingStringProperty","stringifiedProp","wellKnownProperties","Set","afterTaskAsyncStorage","throwWithStaticGenerationBailoutError","throwWithStaticGenerationBailoutErrorWithDynamicError","throwForSearchParamsAccessInUseCache","constructorOpt","captureStackTrace","isRequestAPICallableInsideAfter","afterTaskStore","rootTaskSpawnPhase","ReflectAdapter","scheduleImmediate","underlyingSearchParams","createPrerenderSearchParams","createRenderSearchParams","createServerSearchParamsForMetadata","createServerSearchParamsForServerPage","createPrerenderSearchParamsForClientPage","resolve","makeAbortingExoticSearchParams","makeErroringExoticSearchParams","isPrefetchRequest","makeDynamicallyTrackedExoticSearchParamsWithDevWarnings","makeUntrackedExoticSearchParams","CachedSearchParams","CachedSearchParamsForUseCache","cachedSearchParams","proxiedPromise","Proxy","receiver","Object","hasOwn","has","createSearchAccessError","ownKeys","makeErroringExoticSearchParamsForUseCache","keys","forEach","defineProperty","writable","enumerable","configurable","proxiedProperties","unproxiedProperties","promiseInitialized","proxiedUnderlying","Reflect","add","newValue","syncIODev","delete","missingProperties","warnForIncompleteEnumeration","warnForSyncAccess","createIncompleteEnumerationError","prefix","describeListOfPropertyNames","properties","dynamicAccessAsyncStorage","underlyingParams","createPrerenderParams","createRenderParams","createServerParamsForMetadata","createServerParamsForServerSegment","createServerParamsForRoute","createPrerenderParamsForClientSegment","fallbackParams","hasSomeFallbackParams","makeAbortingExoticParams","makeErroringExoticParams","makeUntrackedExoticParams","makeDynamicallyTrackedExoticParamsWithDevWarnings","CachedParams","fallbackParamsProxyHandler","originalMethod","abortController","cachedParams","createParamsAccessError","augmentedUnderlying","useUntrackedPathname","HTTPAccessErrorStatus","getAccessFallbackHTTPStatus","getAccessFallbackErrorTypeByStatus","isHTTPAccessFallbackError","warnOnce","MissingSlotContext","HTTPAccessFallbackErrorBoundary","componentDidCatch","missingSlots","warningMessage","formattedSlots","Array","from","sort","a","b","localeCompare","slot","getDerivedStateFromError","httpStatus","triggeredStatus","getDerivedStateFromProps","state","pathname","previousPathname","errorComponents","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","isNotFound","isForbidden","isUnauthorized","meta","name","content","hasErrorFallback","nonNullable","Meta","property","media","toString","MetaFilter","items","acc","isArray","camelToSnake","camelCaseStr","replace","match","toLowerCase","aliasPropPrefixes","getMetaKey","startsWith","ExtendMeta","namePrefix","propertyPrefix","entries","k","v","MultiMeta","contents","ViewportMetaKeys","width","initialScale","minimumScale","maximumScale","viewportFit","userScalable","interactiveWidget","IconKeys","resolveArray","resolveAsArrayOrUndefined","getOrigin","resolveViewportLayout","viewport","resolved","viewportKey_","viewportKey","ViewportMeta","charSet","themeColor","color","colorScheme","BasicMeta","metadata","manifestOrigin","manifest","title","absolute","applicationName","authors","author","link","rel","href","crossOrigin","VERCEL_ENV","generator","keywords","referrer","creator","publisher","robots","basic","googleBot","abstract","archives","archive","assets","asset","bookmarks","bookmark","pagination","previous","category","classification","other","contentItem","ItunesMeta","itunes","appId","appArgument","FacebookMeta","facebook","admins","admin","PinterestMeta","pinterest","richPin","formatDetectionKeys","FormatDetectionMeta","formatDetection","AppleWebAppMeta","appleWebApp","capable","startupImage","statusBarStyle","image","VerificationMeta","verification","google","yahoo","yandex","me","AlternateLink","descriptor","AlternatesMetadata","alternates","canonical","languages","types","flatMap","locale","descriptors","hrefLang","mediaName","OpenGraphMetadata","openGraph","typedOpenGraph","openGraphType","publishedTime","modifiedTime","expirationTime","section","tags","isbn","releaseDate","firstName","lastName","username","gender","duration","albums","musicians","songs","creators","actors","directors","writers","series","_exhaustiveCheck","determiner","siteName","countryName","ttl","images","videos","audio","emails","phoneNumbers","faxNumbers","alternateLocale","TwitterAppItem","app","TwitterMetadata","twitter","card","site","siteId","creatorId","players","player","playerUrl","streamUrl","AppLinksMeta","appLinks","ios","iphone","ipad","android","windows_phone","windows","windows_universal","web","IconMark","IconDescriptorLink","icon","IconLink","IconsMetadata","icons","shortcutList","shortcut","iconList","appleList","apple","otherList","hasIcon","Boolean","createDefaultViewport","createDefaultMetadata","metadataBase","path","NEXT_RUNTIME","isStringOrURL","createLocalMetadataBase","PORT","getPreviewDeploymentUrl","VERCEL_BRANCH_URL","VERCEL_URL","getProductionDeploymentUrl","VERCEL_PROJECT_PRODUCTION_URL","getSocialImageMetadataBaseFallback","defaultMetadataBase","previewDeploymentUrl","productionDeploymentUrl","fallbackMetadataBase","resolveUrl","parsedUrl","joinedPath","posix","resolveRelativeUrl","FILE_REGEX","isFilePattern","resolveAbsoluteUrlWithPathname","trailingSlash","resolvedUrl","result","endsWith","isRelative","hasQuery","isExternal","isFileUrl","resolveTitleTemplate","resolveTitle","stashedTemplate","default","NEXT_RSC_UNION_QUERY","DUMMY_ORIGIN","isFullStringUrl","parseUrl","parsed","parseReqUrl","query","values","getAll","legacyUrl","hash","search","host","auth","protocol","slashes","port","stripNextRscUnionQuery","relativeUrl","urlInstance","globalThis","stdout","enabled","NO_COLOR","FORCE_COLOR","isTTY","CI","TERM","replaceClose","str","close","start","substring","end","nextIndex","indexOf","formatter","open","String","input","string","reset","s","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","purple","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","LRUCache","maxSize","calculateSize","sizes","totalSize","touch","evictIfNecessary","evictLeastRecentlyUsed","lruKey","lruSize","clear","remove","currentSize","prefixes","wait","ready","info","event","trace","LOGGING_METHOD","log","prefixedLog","prefixType","shift","consoleMethod","bootstrap","warnOnceCache","OgTypeFields","article","song","playlist","radio","video","resolveAndValidateImage","isStaticMetadataRouteFile","isItemUrl","inputUrl","isUsingVercelSystemEnvironmentVariables","VERCEL","isRelativeUrl","shouldWarn","resolveImages","resolvedImages","nonNullableImages","resolvedItem","ogTypeToFields","book","getFieldsByOgType","ogType","resolveOpenGraph","metadataContext","titleTemplate","resolveProps","og","TwitterBasicInfoKeys","resolveTwitter","infoKey","DEFAULT_SEGMENT_KEY","getLayoutOrPageModule","loaderTree","layout","page","defaultPage","isLayout","isPage","isDefaultPage","mod","modType","filePath","getComponentTypeModule","moduleType","interopDefault","resolveAlternateUrl","newUrl","resolveThemeColor","themeColorDescriptors","resolveUrlValuesOfObject","obj","pathnameForUrl","resolveCanonicalUrl","urlOrDescriptor","resolveAlternates","robotsKeys","resolveRobotsValue","follow","resolveRobots","VerificationKeys","resolveVerification","res","otherKey","otherValue","resolveAppleWebApp","appWebApp","startupImages","resolveAppLinks","resolveItunes","resolveFacebook","resolvePagination","resolveIcon","resolveIcons","getTracer","ResolveMetadataSpan","PAGE_SEGMENT_KEY","Log","isFavicon","mergeStaticMetadata","source","staticFilesMetadata","titleTemplates","leafSegmentStaticIcons","resolvedTwitter","resolvedOpenGraph","mergeMetadata","buildState","key_","assign","warnings","mergeViewport","getDefinedViewport","tracingProps","generateViewport","parent","spanName","attributes","getDefinedMetadata","generateMetadata","collectStaticImagesFiles","iconPromises","imageModule","all","flat","resolveStaticMetadata","modules","staticMetadata","collectMetadata","metadataItems","errorMetadataItem","errorConvention","hasErrorConventionComponent","layoutOrPageMod","layoutOrPageModType","metadataExport","errorMod","errorMetadataExport","collectViewport","viewportItems","errorViewportItemRef","viewportExport","errorViewportExport","resolveMetadataItems","getDynamicParamFromSegment","parentParams","treePrefix","resolveMetadataItemsImpl","currentTreePrefix","segmentParam","currentParams","param","layerProps","childTree","resolveViewportItems","resolveViewportItemsImpl","isTitleTruthy","hasTitle","inheritFromMetadata","commonOgKeys","postProcessMetadata","favicon","autoFillProps","hasTwTitle","hasTwDescription","hasTwImages","partialTwitter","unshift","prerenderMetadata","resolversAndResults","getResult","prerenderViewport","exportForResult","__nextError","resolvePendingResult","parentResult","resolveParentResult","deepFreeze","cloneMetadata","accumulateMetadata","resolvedMetadata","resultIndex","iconMod","pendingMetadata","resolveParentMetadata","isPromiseLike","warning","accumulateViewport","resolvedViewport","pendingViewport","resolveParentViewport","resolveMetadata","resolveViewport","ALLOWED_CODES","HTTP_ERROR_FALLBACK_ERROR_CODE","Number","status","MetadataOutlet","AsyncMetadataOutlet","REACT_POSTPONE_TYPE","Symbol","for","isPostpone","$$typeof","createServerPathnameForMetadata","underlyingPathname","createPrerenderPathname","createRenderPathname","makeErroringPathname","re","originalThen","onfulfilled","onrejected","cloneElement","createMetadataComponents","parsedQuery","appUsingSizeAdjustment","errorType","MetadataBoundary","ViewportBoundary","serveStreamingMetadata","pathnameForMetadata","ViewportTree","Viewport","MetadataTree","Metadata","getResolvedViewport","getNotFoundViewport","displayName","getResolvedMetadata","resolveFinalMetadata","metadataErr","getNotFoundMetadata","notFoundMetadataErr","MetadataResolver","metadataState","getMetadataReady","getViewportReady","StreamingMetadataOutletImpl","StreamingMetadataOutlet","getResolvedMetadataImpl","renderMetadata","getNotFoundMetadataImpl","notFoundErrorConvention","getResolvedViewportImpl","renderViewport","getNotFoundViewportImpl","elements","createMetadataElements","el","createViewportElements","cloneResponse","original","body1","body2","tee","cloned1","Response","statusText","headers","cloned2","simpleCacheKey","generateCacheKey","request","method","redirect","credentials","referrerPolicy","integrity","createDedupeFetch","originalFetch","getCacheEntries","dedupeFetch","resource","options","Request","keepalive","cacheEntries","j","response","entry","AppRenderSpan","NextNodeServerSpan","SpanKind","CACHE_ONE_YEAR","INFINITE_CACHE","NEXT_CACHE_TAG_MAX_ITEMS","NEXT_CACHE_TAG_MAX_LENGTH","CachedRouteKind","IncrementalCacheKind","waitAtLeastOneReactRenderTask","isEdgeRuntime","NEXT_PATCH_SYMBOL","isFetchPatched","validateRevalidate","revalidateVal","normalizedRevalidate","isNaN","validateTags","validTags","invalidTags","tag","trackFetchMetric","ctx","requestEndedState","ended","isDebugBuild","NEXT_DEBUG_BUILD","NEXT_SSG_FETCH_METRICS","isDevelopment","fetchMetrics","performance","timeOrigin","idx","nextFetchId","createPatchedFetcher","originFetch","patched","init","password","fetchUrl","toUpperCase","isInternal","internal","hideSpan","NEXT_OTEL_FETCH_DISABLED","fetchStart","beginRead","internalFetch","fetch","kind","CLIENT","getRequestMeta","isDraftMode","isRequestInput","field","finalRevalidate","getNextField","originalFetchRevalidate","currentFetchRevalidate","revalidateStore","collectedTags","implicitTags","pageFetchCacheMode","fetchCache","isUsingNoStore","isUnstableNoStore","currentFetchCacheConfig","cacheReason","cacheWarning","isConflictingRevalidate","hasExplicitFetchCacheOptOut","noFetchConfigAndForceDynamic","_headers","initHeaders","Headers","hasUnCacheableHeader","isUnCacheableMethod","hasNoExplicitCacheConfig","autoNoCache","isImplicitBuildTimeCache","isBuildTimePrerendering","endRead","isCacheableRevalidate","incrementalCache","useCacheOrRequestStore","serverComponentsHmrCache","fetchIdx","handleUnlock","doOriginalFetch","isStale","cacheReasonOverride","requestInputFields","reqInput","reqOptions","_ogBody","otherInput","clonedInit","fetchType","cacheStatus","bodyBuffer","arrayBuffer","fetchedData","fromEntries","Buffer","FETCH","data","cacheSetPromise","finally","pendingRevalidateKey","pendingRevalidates","isForegroundRevalidate","isHmrRefreshCache","cachedFetchData","isHmrRefresh","lock","isOnDemandRevalidate","softTags","isRevalidate","pendingRevalidate","hasNextConfig","revalidatedResult","pendingResponse","responses","__nextPatched","__nextGetStaticStore","_nextOriginalFetch","patchFetch","isNextRouterError","handleHardNavError","ErrorBoundaryHandler","__NEXT_APP_NAV_FAIL_HANDLING","this","setState","NameSpace","OutletBoundary","preloadStyle","nonce","opts","as","preload","preloadFont","preconnect","notImplemented","taintObjectReference","__NEXT_EXPERIMENTAL_REACT","experimental_taintObjectReference","taintUniqueValue","experimental_taintUniqueValue","encodeSegment","safeName","encodeToFilesystemAndURLSafeString","paramValue","paramType","safeValue","encodedName","ROOT_SEGMENT_KEY","encodeChildSegmentKey","parentSegmentKey","slotKey","simpleParamValueRegex","base64url","btoa","convertSegmentPathToStaticExportFilename","invalidServerComponentReactHooks","setMessage","lines","getStackWithoutErrorMessage","formatServerError","addedMessage","clientHook","regex","BAILOUT_TO_CSR","BailoutToCSRError","isBailoutToCSRError","RedirectStatusCode","REDIRECT_ERROR_CODE","RedirectType","isRedirectError","errorCode","destination","at","statusCode","getObjectClassLabel","prototype","call","isPlainObject","getPrototypeOf","isError","safeStringify","seen","WeakSet","_key","getProperError","ERROR_CODE_DELIMITER","createDigestWithErrorCode","thrownValue","originalDigest","__NEXT_ERROR_CODE","extractNextErrorCode","segments","find","isReactLargeShellError","stringHash","SpanStatusCode","isAbortError","getDigestForWellKnownError","createFlightReactServerErrorHandler","shouldFormatError","onReactServerRenderError","span","getActiveScopeSpan","recordException","setStatus","ERROR","createHTMLReactServerErrorHandler","isNextExport","reactServerErrors","silenceLogger","createHTMLErrorHandler","allCapturedErrors","onHTMLRenderSSRError","errorInfo","isSSRError","isUserLandError","createFromReadableStream","unstable_prerender","prerender","streamFromBuffer","streamToBuffer","onSegmentPrerenderError","collectSegmentData","fullPageDataBuffer","staleTime","clientModules","serverConsumerManifest","resultMap","onCompletedProcessingRouteTree","segmentTasks","treeStream","PrefetchTreeData","onError","treeBuffer","buffer","initialRSCPayload","createUnclosingPrefetchStream","buildId","flightDataPaths","f","seedData","collectSegmentDataImpl","isHeadPartial","isPartialRSCData","treePrefetch","slotMetadata","seedDataChildren","childRoute","childSegment","childSeedData","childKey","encodeSegmentWithPossibleFallbackParam","renderSegmentPrefetch","isRootLayout","encodedSegment","lastIndex","lastIndexOf","encodedFallbackSegment","segmentPrefetch","isPartial","segmentStream","segmentBuffer","onPostpone","originalFlightStream","reader","getReader","ReadableStream","pull","done","read","enqueue","createTemporaryReferenceSet","renderToReadableStream","decodeReply","decodeAction","decodeFormState","LayoutRouter","actionAsyncStorage","serverHooks","_patchFetch","SegmentViewNode"],"mappings":"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","ignoreList":[0,2,3,5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,50,51,52,53,54,55,56,58,60,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80]}